"use strict";

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/*! For license information please see main.1a8e88d1.js.LICENSE.txt */
(function () {
  "use strict";

  var _V, _Le;

  var e = {
    730: function _(e, t, n) {
      var r = n(43),
          i = n(853);

      function s(e) {
        for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++) {
          t += "&args[]=" + encodeURIComponent(arguments[n]);
        }

        return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
      }

      var o = new Set(),
          a = {};

      function l(e, t) {
        u(e, t), u(e + "Capture", t);
      }

      function u(e, t) {
        for (a[e] = t, e = 0; e < t.length; e++) {
          o.add(t[e]);
        }
      }

      var c = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement),
          h = Object.prototype.hasOwnProperty,
          d = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
          f = {},
          p = {};

      function g(e, t, n, r, i, s, o) {
        this.acceptsBooleans = 2 === t || 3 === t || 4 === t, this.attributeName = r, this.attributeNamespace = i, this.mustUseProperty = n, this.propertyName = e, this.type = t, this.sanitizeURL = s, this.removeEmptyString = o;
      }

      var m = {};
      "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function (e) {
        m[e] = new g(e, 0, !1, e, null, !1, !1);
      }), [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function (e) {
        var t = e[0];
        m[t] = new g(t, 1, !1, e[1], null, !1, !1);
      }), ["contentEditable", "draggable", "spellCheck", "value"].forEach(function (e) {
        m[e] = new g(e, 2, !1, e.toLowerCase(), null, !1, !1);
      }), ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function (e) {
        m[e] = new g(e, 2, !1, e, null, !1, !1);
      }), "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function (e) {
        m[e] = new g(e, 3, !1, e.toLowerCase(), null, !1, !1);
      }), ["checked", "multiple", "muted", "selected"].forEach(function (e) {
        m[e] = new g(e, 3, !0, e, null, !1, !1);
      }), ["capture", "download"].forEach(function (e) {
        m[e] = new g(e, 4, !1, e, null, !1, !1);
      }), ["cols", "rows", "size", "span"].forEach(function (e) {
        m[e] = new g(e, 6, !1, e, null, !1, !1);
      }), ["rowSpan", "start"].forEach(function (e) {
        m[e] = new g(e, 5, !1, e.toLowerCase(), null, !1, !1);
      });
      var v = /[\-:]([a-z])/g;

      function y(e) {
        return e[1].toUpperCase();
      }

      function w(e, t, n, r) {
        var i = m.hasOwnProperty(t) ? m[t] : null;
        (null !== i ? 0 !== i.type : r || !(2 < t.length) || "o" !== t[0] && "O" !== t[0] || "n" !== t[1] && "N" !== t[1]) && (function (e, t, n, r) {
          if (null === t || "undefined" === typeof t || function (e, t, n, r) {
            if (null !== n && 0 === n.type) return !1;

            switch (_typeof(t)) {
              case "function":
              case "symbol":
                return !0;

              case "boolean":
                return !r && (null !== n ? !n.acceptsBooleans : "data-" !== (e = e.toLowerCase().slice(0, 5)) && "aria-" !== e);

              default:
                return !1;
            }
          }(e, t, n, r)) return !0;
          if (r) return !1;
          if (null !== n) switch (n.type) {
            case 3:
              return !t;

            case 4:
              return !1 === t;

            case 5:
              return isNaN(t);

            case 6:
              return isNaN(t) || 1 > t;
          }
          return !1;
        }(t, n, i, r) && (n = null), r || null === i ? function (e) {
          return !!h.call(p, e) || !h.call(f, e) && (d.test(e) ? p[e] = !0 : (f[e] = !0, !1));
        }(t) && (null === n ? e.removeAttribute(t) : e.setAttribute(t, "" + n)) : i.mustUseProperty ? e[i.propertyName] = null === n ? 3 !== i.type && "" : n : (t = i.attributeName, r = i.attributeNamespace, null === n ? e.removeAttribute(t) : (n = 3 === (i = i.type) || 4 === i && !0 === n ? "" : "" + n, r ? e.setAttributeNS(r, t, n) : e.setAttribute(t, n))));
      }

      "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function (e) {
        var t = e.replace(v, y);
        m[t] = new g(t, 1, !1, e, null, !1, !1);
      }), "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function (e) {
        var t = e.replace(v, y);
        m[t] = new g(t, 1, !1, e, "http://www.w3.org/1999/xlink", !1, !1);
      }), ["xml:base", "xml:lang", "xml:space"].forEach(function (e) {
        var t = e.replace(v, y);
        m[t] = new g(t, 1, !1, e, "http://www.w3.org/XML/1998/namespace", !1, !1);
      }), ["tabIndex", "crossOrigin"].forEach(function (e) {
        m[e] = new g(e, 1, !1, e.toLowerCase(), null, !1, !1);
      }), m.xlinkHref = new g("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1), ["src", "href", "action", "formAction"].forEach(function (e) {
        m[e] = new g(e, 1, !1, e.toLowerCase(), null, !0, !0);
      });

      var b = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
          _ = Symbol["for"]("react.element"),
          E = Symbol["for"]("react.portal"),
          S = Symbol["for"]("react.fragment"),
          k = Symbol["for"]("react.strict_mode"),
          T = Symbol["for"]("react.profiler"),
          I = Symbol["for"]("react.provider"),
          C = Symbol["for"]("react.context"),
          N = Symbol["for"]("react.forward_ref"),
          A = Symbol["for"]("react.suspense"),
          R = Symbol["for"]("react.suspense_list"),
          P = Symbol["for"]("react.memo"),
          x = Symbol["for"]("react.lazy");

      Symbol["for"]("react.scope"), Symbol["for"]("react.debug_trace_mode");
      var D = Symbol["for"]("react.offscreen");
      Symbol["for"]("react.legacy_hidden"), Symbol["for"]("react.cache"), Symbol["for"]("react.tracing_marker");
      var O = Symbol.iterator;

      function L(e) {
        return null === e || "object" !== _typeof(e) ? null : "function" === typeof (e = O && e[O] || e["@@iterator"]) ? e : null;
      }

      var M,
          F = Object.assign;

      function U(e) {
        if (void 0 === M) try {
          throw Error();
        } catch (n) {
          var t = n.stack.trim().match(/\n( *(at )?)/);
          M = t && t[1] || "";
        }
        return "\n" + M + e;
      }

      var V = !1;

      function z(e, t) {
        if (!e || V) return "";
        V = !0;
        var n = Error.prepareStackTrace;
        Error.prepareStackTrace = void 0;

        try {
          if (t) {
            if (t = function t() {
              throw Error();
            }, Object.defineProperty(t.prototype, "props", {
              set: function set() {
                throw Error();
              }
            }), "object" === (typeof Reflect === "undefined" ? "undefined" : _typeof(Reflect)) && Reflect.construct) {
              try {
                Reflect.construct(t, []);
              } catch (u) {
                var r = u;
              }

              Reflect.construct(e, [], t);
            } else {
              try {
                t.call();
              } catch (u) {
                r = u;
              }

              e.call(t.prototype);
            }
          } else {
            try {
              throw Error();
            } catch (u) {
              r = u;
            }

            e();
          }
        } catch (u) {
          if (u && r && "string" === typeof u.stack) {
            for (var i = u.stack.split("\n"), s = r.stack.split("\n"), o = i.length - 1, a = s.length - 1; 1 <= o && 0 <= a && i[o] !== s[a];) {
              a--;
            }

            for (; 1 <= o && 0 <= a; o--, a--) {
              if (i[o] !== s[a]) {
                if (1 !== o || 1 !== a) do {
                  if (o--, 0 > --a || i[o] !== s[a]) {
                    var l = "\n" + i[o].replace(" at new ", " at ");
                    return e.displayName && l.includes("<anonymous>") && (l = l.replace("<anonymous>", e.displayName)), l;
                  }
                } while (1 <= o && 0 <= a);
                break;
              }
            }
          }
        } finally {
          V = !1, Error.prepareStackTrace = n;
        }

        return (e = e ? e.displayName || e.name : "") ? U(e) : "";
      }

      function j(e) {
        switch (e.tag) {
          case 5:
            return U(e.type);

          case 16:
            return U("Lazy");

          case 13:
            return U("Suspense");

          case 19:
            return U("SuspenseList");

          case 0:
          case 2:
          case 15:
            return e = z(e.type, !1);

          case 11:
            return e = z(e.type.render, !1);

          case 1:
            return e = z(e.type, !0);

          default:
            return "";
        }
      }

      function B(e) {
        if (null == e) return null;
        if ("function" === typeof e) return e.displayName || e.name || null;
        if ("string" === typeof e) return e;

        switch (e) {
          case S:
            return "Fragment";

          case E:
            return "Portal";

          case T:
            return "Profiler";

          case k:
            return "StrictMode";

          case A:
            return "Suspense";

          case R:
            return "SuspenseList";
        }

        if ("object" === _typeof(e)) switch (e.$$typeof) {
          case C:
            return (e.displayName || "Context") + ".Consumer";

          case I:
            return (e._context.displayName || "Context") + ".Provider";

          case N:
            var t = e.render;
            return (e = e.displayName) || (e = "" !== (e = t.displayName || t.name || "") ? "ForwardRef(" + e + ")" : "ForwardRef"), e;

          case P:
            return null !== (t = e.displayName || null) ? t : B(e.type) || "Memo";

          case x:
            t = e._payload, e = e._init;

            try {
              return B(e(t));
            } catch (n) {}

        }
        return null;
      }

      function $(e) {
        var t = e.type;

        switch (e.tag) {
          case 24:
            return "Cache";

          case 9:
            return (t.displayName || "Context") + ".Consumer";

          case 10:
            return (t._context.displayName || "Context") + ".Provider";

          case 18:
            return "DehydratedFragment";

          case 11:
            return e = (e = t.render).displayName || e.name || "", t.displayName || ("" !== e ? "ForwardRef(" + e + ")" : "ForwardRef");

          case 7:
            return "Fragment";

          case 5:
            return t;

          case 4:
            return "Portal";

          case 3:
            return "Root";

          case 6:
            return "Text";

          case 16:
            return B(t);

          case 8:
            return t === k ? "StrictMode" : "Mode";

          case 22:
            return "Offscreen";

          case 12:
            return "Profiler";

          case 21:
            return "Scope";

          case 13:
            return "Suspense";

          case 19:
            return "SuspenseList";

          case 25:
            return "TracingMarker";

          case 1:
          case 0:
          case 17:
          case 2:
          case 14:
          case 15:
            if ("function" === typeof t) return t.displayName || t.name || null;
            if ("string" === typeof t) return t;
        }

        return null;
      }

      function q(e) {
        switch (_typeof(e)) {
          case "boolean":
          case "number":
          case "string":
          case "undefined":
          case "object":
            return e;

          default:
            return "";
        }
      }

      function H(e) {
        var t = e.type;
        return (e = e.nodeName) && "input" === e.toLowerCase() && ("checkbox" === t || "radio" === t);
      }

      function K(e) {
        e._valueTracker || (e._valueTracker = function (e) {
          var t = H(e) ? "checked" : "value",
              n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t),
              r = "" + e[t];

          if (!e.hasOwnProperty(t) && "undefined" !== typeof n && "function" === typeof n.get && "function" === typeof n.set) {
            var i = n.get,
                s = n.set;
            return Object.defineProperty(e, t, {
              configurable: !0,
              get: function get() {
                return i.call(this);
              },
              set: function set(e) {
                r = "" + e, s.call(this, e);
              }
            }), Object.defineProperty(e, t, {
              enumerable: n.enumerable
            }), {
              getValue: function getValue() {
                return r;
              },
              setValue: function setValue(e) {
                r = "" + e;
              },
              stopTracking: function stopTracking() {
                e._valueTracker = null, delete e[t];
              }
            };
          }
        }(e));
      }

      function W(e) {
        if (!e) return !1;
        var t = e._valueTracker;
        if (!t) return !0;
        var n = t.getValue(),
            r = "";
        return e && (r = H(e) ? e.checked ? "true" : "false" : e.value), (e = r) !== n && (t.setValue(e), !0);
      }

      function G(e) {
        if ("undefined" === typeof (e = e || ("undefined" !== typeof document ? document : void 0))) return null;

        try {
          return e.activeElement || e.body;
        } catch (kt) {
          return e.body;
        }
      }

      function Q(e, t) {
        var n = t.checked;
        return F({}, t, {
          defaultChecked: void 0,
          defaultValue: void 0,
          value: void 0,
          checked: null != n ? n : e._wrapperState.initialChecked
        });
      }

      function X(e, t) {
        var n = null == t.defaultValue ? "" : t.defaultValue,
            r = null != t.checked ? t.checked : t.defaultChecked;
        n = q(null != t.value ? t.value : n), e._wrapperState = {
          initialChecked: r,
          initialValue: n,
          controlled: "checkbox" === t.type || "radio" === t.type ? null != t.checked : null != t.value
        };
      }

      function Y(e, t) {
        null != (t = t.checked) && w(e, "checked", t, !1);
      }

      function J(e, t) {
        Y(e, t);
        var n = q(t.value),
            r = t.type;
        if (null != n) "number" === r ? (0 === n && "" === e.value || e.value != n) && (e.value = "" + n) : e.value !== "" + n && (e.value = "" + n);else if ("submit" === r || "reset" === r) return void e.removeAttribute("value");
        t.hasOwnProperty("value") ? ee(e, t.type, n) : t.hasOwnProperty("defaultValue") && ee(e, t.type, q(t.defaultValue)), null == t.checked && null != t.defaultChecked && (e.defaultChecked = !!t.defaultChecked);
      }

      function Z(e, t, n) {
        if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) {
          var r = t.type;
          if (!("submit" !== r && "reset" !== r || void 0 !== t.value && null !== t.value)) return;
          t = "" + e._wrapperState.initialValue, n || t === e.value || (e.value = t), e.defaultValue = t;
        }

        "" !== (n = e.name) && (e.name = ""), e.defaultChecked = !!e._wrapperState.initialChecked, "" !== n && (e.name = n);
      }

      function ee(e, t, n) {
        "number" === t && G(e.ownerDocument) === e || (null == n ? e.defaultValue = "" + e._wrapperState.initialValue : e.defaultValue !== "" + n && (e.defaultValue = "" + n));
      }

      var te = Array.isArray;

      function ne(e, t, n, r) {
        if (e = e.options, t) {
          t = {};

          for (var i = 0; i < n.length; i++) {
            t["$" + n[i]] = !0;
          }

          for (n = 0; n < e.length; n++) {
            i = t.hasOwnProperty("$" + e[n].value), e[n].selected !== i && (e[n].selected = i), i && r && (e[n].defaultSelected = !0);
          }
        } else {
          for (n = "" + q(n), t = null, i = 0; i < e.length; i++) {
            if (e[i].value === n) return e[i].selected = !0, void (r && (e[i].defaultSelected = !0));
            null !== t || e[i].disabled || (t = e[i]);
          }

          null !== t && (t.selected = !0);
        }
      }

      function re(e, t) {
        if (null != t.dangerouslySetInnerHTML) throw Error(s(91));
        return F({}, t, {
          value: void 0,
          defaultValue: void 0,
          children: "" + e._wrapperState.initialValue
        });
      }

      function ie(e, t) {
        var n = t.value;

        if (null == n) {
          if (n = t.children, t = t.defaultValue, null != n) {
            if (null != t) throw Error(s(92));

            if (te(n)) {
              if (1 < n.length) throw Error(s(93));
              n = n[0];
            }

            t = n;
          }

          null == t && (t = ""), n = t;
        }

        e._wrapperState = {
          initialValue: q(n)
        };
      }

      function se(e, t) {
        var n = q(t.value),
            r = q(t.defaultValue);
        null != n && ((n = "" + n) !== e.value && (e.value = n), null == t.defaultValue && e.defaultValue !== n && (e.defaultValue = n)), null != r && (e.defaultValue = "" + r);
      }

      function oe(e) {
        var t = e.textContent;
        t === e._wrapperState.initialValue && "" !== t && null !== t && (e.value = t);
      }

      function ae(e) {
        switch (e) {
          case "svg":
            return "http://www.w3.org/2000/svg";

          case "math":
            return "http://www.w3.org/1998/Math/MathML";

          default:
            return "http://www.w3.org/1999/xhtml";
        }
      }

      function le(e, t) {
        return null == e || "http://www.w3.org/1999/xhtml" === e ? ae(t) : "http://www.w3.org/2000/svg" === e && "foreignObject" === t ? "http://www.w3.org/1999/xhtml" : e;
      }

      var ue,
          ce,
          he = (ce = function ce(e, t) {
        if ("http://www.w3.org/2000/svg" !== e.namespaceURI || "innerHTML" in e) e.innerHTML = t;else {
          for ((ue = ue || document.createElement("div")).innerHTML = "<svg>" + t.valueOf().toString() + "</svg>", t = ue.firstChild; e.firstChild;) {
            e.removeChild(e.firstChild);
          }

          for (; t.firstChild;) {
            e.appendChild(t.firstChild);
          }
        }
      }, "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function (e, t, n, r) {
        MSApp.execUnsafeLocalFunction(function () {
          return ce(e, t);
        });
      } : ce);

      function de(e, t) {
        if (t) {
          var n = e.firstChild;
          if (n && n === e.lastChild && 3 === n.nodeType) return void (n.nodeValue = t);
        }

        e.textContent = t;
      }

      var fe = {
        animationIterationCount: !0,
        aspectRatio: !0,
        borderImageOutset: !0,
        borderImageSlice: !0,
        borderImageWidth: !0,
        boxFlex: !0,
        boxFlexGroup: !0,
        boxOrdinalGroup: !0,
        columnCount: !0,
        columns: !0,
        flex: !0,
        flexGrow: !0,
        flexPositive: !0,
        flexShrink: !0,
        flexNegative: !0,
        flexOrder: !0,
        gridArea: !0,
        gridRow: !0,
        gridRowEnd: !0,
        gridRowSpan: !0,
        gridRowStart: !0,
        gridColumn: !0,
        gridColumnEnd: !0,
        gridColumnSpan: !0,
        gridColumnStart: !0,
        fontWeight: !0,
        lineClamp: !0,
        lineHeight: !0,
        opacity: !0,
        order: !0,
        orphans: !0,
        tabSize: !0,
        widows: !0,
        zIndex: !0,
        zoom: !0,
        fillOpacity: !0,
        floodOpacity: !0,
        stopOpacity: !0,
        strokeDasharray: !0,
        strokeDashoffset: !0,
        strokeMiterlimit: !0,
        strokeOpacity: !0,
        strokeWidth: !0
      },
          pe = ["Webkit", "ms", "Moz", "O"];

      function ge(e, t, n) {
        return null == t || "boolean" === typeof t || "" === t ? "" : n || "number" !== typeof t || 0 === t || fe.hasOwnProperty(e) && fe[e] ? ("" + t).trim() : t + "px";
      }

      function me(e, t) {
        for (var n in e = e.style, t) {
          if (t.hasOwnProperty(n)) {
            var r = 0 === n.indexOf("--"),
                i = ge(n, t[n], r);
            "float" === n && (n = "cssFloat"), r ? e.setProperty(n, i) : e[n] = i;
          }
        }
      }

      Object.keys(fe).forEach(function (e) {
        pe.forEach(function (t) {
          t = t + e.charAt(0).toUpperCase() + e.substring(1), fe[t] = fe[e];
        });
      });
      var ve = F({
        menuitem: !0
      }, {
        area: !0,
        base: !0,
        br: !0,
        col: !0,
        embed: !0,
        hr: !0,
        img: !0,
        input: !0,
        keygen: !0,
        link: !0,
        meta: !0,
        param: !0,
        source: !0,
        track: !0,
        wbr: !0
      });

      function ye(e, t) {
        if (t) {
          if (ve[e] && (null != t.children || null != t.dangerouslySetInnerHTML)) throw Error(s(137, e));

          if (null != t.dangerouslySetInnerHTML) {
            if (null != t.children) throw Error(s(60));
            if ("object" !== _typeof(t.dangerouslySetInnerHTML) || !("__html" in t.dangerouslySetInnerHTML)) throw Error(s(61));
          }

          if (null != t.style && "object" !== _typeof(t.style)) throw Error(s(62));
        }
      }

      function we(e, t) {
        if (-1 === e.indexOf("-")) return "string" === typeof t.is;

        switch (e) {
          case "annotation-xml":
          case "color-profile":
          case "font-face":
          case "font-face-src":
          case "font-face-uri":
          case "font-face-format":
          case "font-face-name":
          case "missing-glyph":
            return !1;

          default:
            return !0;
        }
      }

      var be = null;

      function _e(e) {
        return (e = e.target || e.srcElement || window).correspondingUseElement && (e = e.correspondingUseElement), 3 === e.nodeType ? e.parentNode : e;
      }

      var Ee = null,
          Se = null,
          ke = null;

      function Te(e) {
        if (e = _i(e)) {
          if ("function" !== typeof Ee) throw Error(s(280));
          var t = e.stateNode;
          t && (t = Si(t), Ee(e.stateNode, e.type, t));
        }
      }

      function Ie(e) {
        Se ? ke ? ke.push(e) : ke = [e] : Se = e;
      }

      function Ce() {
        if (Se) {
          var e = Se,
              t = ke;
          if (ke = Se = null, Te(e), t) for (e = 0; e < t.length; e++) {
            Te(t[e]);
          }
        }
      }

      function Ne(e, t) {
        return e(t);
      }

      function Ae() {}

      var Re = !1;

      function Pe(e, t, n) {
        if (Re) return e(t, n);
        Re = !0;

        try {
          return Ne(e, t, n);
        } finally {
          Re = !1, (null !== Se || null !== ke) && (Ae(), Ce());
        }
      }

      function xe(e, t) {
        var n = e.stateNode;
        if (null === n) return null;
        var r = Si(n);
        if (null === r) return null;
        n = r[t];

        e: switch (t) {
          case "onClick":
          case "onClickCapture":
          case "onDoubleClick":
          case "onDoubleClickCapture":
          case "onMouseDown":
          case "onMouseDownCapture":
          case "onMouseMove":
          case "onMouseMoveCapture":
          case "onMouseUp":
          case "onMouseUpCapture":
          case "onMouseEnter":
            (r = !r.disabled) || (r = !("button" === (e = e.type) || "input" === e || "select" === e || "textarea" === e)), e = !r;
            break e;

          default:
            e = !1;
        }

        if (e) return null;
        if (n && "function" !== typeof n) throw Error(s(231, t, _typeof(n)));
        return n;
      }

      var De = !1;
      if (c) try {
        var Oe = {};
        Object.defineProperty(Oe, "passive", {
          get: function get() {
            De = !0;
          }
        }), window.addEventListener("test", Oe, Oe), window.removeEventListener("test", Oe, Oe);
      } catch (ce) {
        De = !1;
      }

      function Le(e, t, n, r, i, s, o, a, l) {
        var u = Array.prototype.slice.call(arguments, 3);

        try {
          t.apply(n, u);
        } catch (c) {
          this.onError(c);
        }
      }

      var Me = !1,
          Fe = null,
          Ue = !1,
          Ve = null,
          ze = {
        onError: function onError(e) {
          Me = !0, Fe = e;
        }
      };

      function je(e, t, n, r, i, s, o, a, l) {
        Me = !1, Fe = null, Le.apply(ze, arguments);
      }

      function Be(e) {
        var t = e,
            n = e;
        if (e.alternate) for (; t["return"];) {
          t = t["return"];
        } else {
          e = t;

          do {
            0 !== (4098 & (t = e).flags) && (n = t["return"]), e = t["return"];
          } while (e);
        }
        return 3 === t.tag ? n : null;
      }

      function $e(e) {
        if (13 === e.tag) {
          var t = e.memoizedState;
          if (null === t && null !== (e = e.alternate) && (t = e.memoizedState), null !== t) return t.dehydrated;
        }

        return null;
      }

      function qe(e) {
        if (Be(e) !== e) throw Error(s(188));
      }

      function He(e) {
        return e = function (e) {
          var t = e.alternate;

          if (!t) {
            if (null === (t = Be(e))) throw Error(s(188));
            return t !== e ? null : e;
          }

          for (var n = e, r = t;;) {
            var i = n["return"];
            if (null === i) break;
            var o = i.alternate;

            if (null === o) {
              if (null !== (r = i["return"])) {
                n = r;
                continue;
              }

              break;
            }

            if (i.child === o.child) {
              for (o = i.child; o;) {
                if (o === n) return qe(i), e;
                if (o === r) return qe(i), t;
                o = o.sibling;
              }

              throw Error(s(188));
            }

            if (n["return"] !== r["return"]) n = i, r = o;else {
              for (var a = !1, l = i.child; l;) {
                if (l === n) {
                  a = !0, n = i, r = o;
                  break;
                }

                if (l === r) {
                  a = !0, r = i, n = o;
                  break;
                }

                l = l.sibling;
              }

              if (!a) {
                for (l = o.child; l;) {
                  if (l === n) {
                    a = !0, n = o, r = i;
                    break;
                  }

                  if (l === r) {
                    a = !0, r = o, n = i;
                    break;
                  }

                  l = l.sibling;
                }

                if (!a) throw Error(s(189));
              }
            }
            if (n.alternate !== r) throw Error(s(190));
          }

          if (3 !== n.tag) throw Error(s(188));
          return n.stateNode.current === n ? e : t;
        }(e), null !== e ? Ke(e) : null;
      }

      function Ke(e) {
        if (5 === e.tag || 6 === e.tag) return e;

        for (e = e.child; null !== e;) {
          var t = Ke(e);
          if (null !== t) return t;
          e = e.sibling;
        }

        return null;
      }

      var We = i.unstable_scheduleCallback,
          Ge = i.unstable_cancelCallback,
          Qe = i.unstable_shouldYield,
          Xe = i.unstable_requestPaint,
          Ye = i.unstable_now,
          Je = i.unstable_getCurrentPriorityLevel,
          Ze = i.unstable_ImmediatePriority,
          et = i.unstable_UserBlockingPriority,
          tt = i.unstable_NormalPriority,
          nt = i.unstable_LowPriority,
          rt = i.unstable_IdlePriority,
          it = null,
          st = null;
      var ot = Math.clz32 ? Math.clz32 : function (e) {
        return e >>>= 0, 0 === e ? 32 : 31 - (at(e) / lt | 0) | 0;
      },
          at = Math.log,
          lt = Math.LN2;
      var ut = 64,
          ct = 4194304;

      function ht(e) {
        switch (e & -e) {
          case 1:
            return 1;

          case 2:
            return 2;

          case 4:
            return 4;

          case 8:
            return 8;

          case 16:
            return 16;

          case 32:
            return 32;

          case 64:
          case 128:
          case 256:
          case 512:
          case 1024:
          case 2048:
          case 4096:
          case 8192:
          case 16384:
          case 32768:
          case 65536:
          case 131072:
          case 262144:
          case 524288:
          case 1048576:
          case 2097152:
            return 4194240 & e;

          case 4194304:
          case 8388608:
          case 16777216:
          case 33554432:
          case 67108864:
            return 130023424 & e;

          case 134217728:
            return 134217728;

          case 268435456:
            return 268435456;

          case 536870912:
            return 536870912;

          case 1073741824:
            return 1073741824;

          default:
            return e;
        }
      }

      function dt(e, t) {
        var n = e.pendingLanes;
        if (0 === n) return 0;
        var r = 0,
            i = e.suspendedLanes,
            s = e.pingedLanes,
            o = 268435455 & n;

        if (0 !== o) {
          var a = o & ~i;
          0 !== a ? r = ht(a) : 0 !== (s &= o) && (r = ht(s));
        } else 0 !== (o = n & ~i) ? r = ht(o) : 0 !== s && (r = ht(s));

        if (0 === r) return 0;
        if (0 !== t && t !== r && 0 === (t & i) && ((i = r & -r) >= (s = t & -t) || 16 === i && 0 !== (4194240 & s))) return t;
        if (0 !== (4 & r) && (r |= 16 & n), 0 !== (t = e.entangledLanes)) for (e = e.entanglements, t &= r; 0 < t;) {
          i = 1 << (n = 31 - ot(t)), r |= e[n], t &= ~i;
        }
        return r;
      }

      function ft(e, t) {
        switch (e) {
          case 1:
          case 2:
          case 4:
            return t + 250;

          case 8:
          case 16:
          case 32:
          case 64:
          case 128:
          case 256:
          case 512:
          case 1024:
          case 2048:
          case 4096:
          case 8192:
          case 16384:
          case 32768:
          case 65536:
          case 131072:
          case 262144:
          case 524288:
          case 1048576:
          case 2097152:
            return t + 5e3;

          default:
            return -1;
        }
      }

      function pt(e) {
        return 0 !== (e = -1073741825 & e.pendingLanes) ? e : 1073741824 & e ? 1073741824 : 0;
      }

      function gt() {
        var e = ut;
        return 0 === (4194240 & (ut <<= 1)) && (ut = 64), e;
      }

      function mt(e) {
        for (var t = [], n = 0; 31 > n; n++) {
          t.push(e);
        }

        return t;
      }

      function vt(e, t, n) {
        e.pendingLanes |= t, 536870912 !== t && (e.suspendedLanes = 0, e.pingedLanes = 0), (e = e.eventTimes)[t = 31 - ot(t)] = n;
      }

      function yt(e, t) {
        var n = e.entangledLanes |= t;

        for (e = e.entanglements; n;) {
          var r = 31 - ot(n),
              i = 1 << r;
          i & t | e[r] & t && (e[r] |= t), n &= ~i;
        }
      }

      var wt = 0;

      function bt(e) {
        return 1 < (e &= -e) ? 4 < e ? 0 !== (268435455 & e) ? 16 : 536870912 : 4 : 1;
      }

      var _t,
          Et,
          St,
          Tt,
          It,
          Ct = !1,
          Nt = [],
          At = null,
          Rt = null,
          Pt = null,
          xt = new Map(),
          Dt = new Map(),
          Ot = [],
          Lt = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");

      function Mt(e, t) {
        switch (e) {
          case "focusin":
          case "focusout":
            At = null;
            break;

          case "dragenter":
          case "dragleave":
            Rt = null;
            break;

          case "mouseover":
          case "mouseout":
            Pt = null;
            break;

          case "pointerover":
          case "pointerout":
            xt["delete"](t.pointerId);
            break;

          case "gotpointercapture":
          case "lostpointercapture":
            Dt["delete"](t.pointerId);
        }
      }

      function Ft(e, t, n, r, i, s) {
        return null === e || e.nativeEvent !== s ? (e = {
          blockedOn: t,
          domEventName: n,
          eventSystemFlags: r,
          nativeEvent: s,
          targetContainers: [i]
        }, null !== t && null !== (t = _i(t)) && Et(t), e) : (e.eventSystemFlags |= r, t = e.targetContainers, null !== i && -1 === t.indexOf(i) && t.push(i), e);
      }

      function Ut(e) {
        var t = bi(e.target);

        if (null !== t) {
          var n = Be(t);
          if (null !== n) if (13 === (t = n.tag)) {
            if (null !== (t = $e(n))) return e.blockedOn = t, void It(e.priority, function () {
              St(n);
            });
          } else if (3 === t && n.stateNode.current.memoizedState.isDehydrated) return void (e.blockedOn = 3 === n.tag ? n.stateNode.containerInfo : null);
        }

        e.blockedOn = null;
      }

      function Vt(e) {
        if (null !== e.blockedOn) return !1;

        for (var t = e.targetContainers; 0 < t.length;) {
          var n = Xt(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent);
          if (null !== n) return null !== (t = _i(n)) && Et(t), e.blockedOn = n, !1;
          var r = new (n = e.nativeEvent).constructor(n.type, n);
          be = r, n.target.dispatchEvent(r), be = null, t.shift();
        }

        return !0;
      }

      function zt(e, t, n) {
        Vt(e) && n["delete"](t);
      }

      function jt() {
        Ct = !1, null !== At && Vt(At) && (At = null), null !== Rt && Vt(Rt) && (Rt = null), null !== Pt && Vt(Pt) && (Pt = null), xt.forEach(zt), Dt.forEach(zt);
      }

      function Bt(e, t) {
        e.blockedOn === t && (e.blockedOn = null, Ct || (Ct = !0, i.unstable_scheduleCallback(i.unstable_NormalPriority, jt)));
      }

      function $t(e) {
        function t(t) {
          return Bt(t, e);
        }

        if (0 < Nt.length) {
          Bt(Nt[0], e);

          for (var n = 1; n < Nt.length; n++) {
            var r = Nt[n];
            r.blockedOn === e && (r.blockedOn = null);
          }
        }

        for (null !== At && Bt(At, e), null !== Rt && Bt(Rt, e), null !== Pt && Bt(Pt, e), xt.forEach(t), Dt.forEach(t), n = 0; n < Ot.length; n++) {
          (r = Ot[n]).blockedOn === e && (r.blockedOn = null);
        }

        for (; 0 < Ot.length && null === (n = Ot[0]).blockedOn;) {
          Ut(n), null === n.blockedOn && Ot.shift();
        }
      }

      var qt = b.ReactCurrentBatchConfig,
          Ht = !0;

      function Kt(e, t, n, r) {
        var i = wt,
            s = qt.transition;
        qt.transition = null;

        try {
          wt = 1, Gt(e, t, n, r);
        } finally {
          wt = i, qt.transition = s;
        }
      }

      function Wt(e, t, n, r) {
        var i = wt,
            s = qt.transition;
        qt.transition = null;

        try {
          wt = 4, Gt(e, t, n, r);
        } finally {
          wt = i, qt.transition = s;
        }
      }

      function Gt(e, t, n, r) {
        if (Ht) {
          var i = Xt(e, t, n, r);
          if (null === i) Kr(e, t, r, Qt, n), Mt(e, r);else if (function (e, t, n, r, i) {
            switch (t) {
              case "focusin":
                return At = Ft(At, e, t, n, r, i), !0;

              case "dragenter":
                return Rt = Ft(Rt, e, t, n, r, i), !0;

              case "mouseover":
                return Pt = Ft(Pt, e, t, n, r, i), !0;

              case "pointerover":
                var s = i.pointerId;
                return xt.set(s, Ft(xt.get(s) || null, e, t, n, r, i)), !0;

              case "gotpointercapture":
                return s = i.pointerId, Dt.set(s, Ft(Dt.get(s) || null, e, t, n, r, i)), !0;
            }

            return !1;
          }(i, e, t, n, r)) r.stopPropagation();else if (Mt(e, r), 4 & t && -1 < Lt.indexOf(e)) {
            for (; null !== i;) {
              var s = _i(i);

              if (null !== s && _t(s), null === (s = Xt(e, t, n, r)) && Kr(e, t, r, Qt, n), s === i) break;
              i = s;
            }

            null !== i && r.stopPropagation();
          } else Kr(e, t, r, null, n);
        }
      }

      var Qt = null;

      function Xt(e, t, n, r) {
        if (Qt = null, null !== (e = bi(e = _e(r)))) if (null === (t = Be(e))) e = null;else if (13 === (n = t.tag)) {
          if (null !== (e = $e(t))) return e;
          e = null;
        } else if (3 === n) {
          if (t.stateNode.current.memoizedState.isDehydrated) return 3 === t.tag ? t.stateNode.containerInfo : null;
          e = null;
        } else t !== e && (e = null);
        return Qt = e, null;
      }

      function Yt(e) {
        switch (e) {
          case "cancel":
          case "click":
          case "close":
          case "contextmenu":
          case "copy":
          case "cut":
          case "auxclick":
          case "dblclick":
          case "dragend":
          case "dragstart":
          case "drop":
          case "focusin":
          case "focusout":
          case "input":
          case "invalid":
          case "keydown":
          case "keypress":
          case "keyup":
          case "mousedown":
          case "mouseup":
          case "paste":
          case "pause":
          case "play":
          case "pointercancel":
          case "pointerdown":
          case "pointerup":
          case "ratechange":
          case "reset":
          case "resize":
          case "seeked":
          case "submit":
          case "touchcancel":
          case "touchend":
          case "touchstart":
          case "volumechange":
          case "change":
          case "selectionchange":
          case "textInput":
          case "compositionstart":
          case "compositionend":
          case "compositionupdate":
          case "beforeblur":
          case "afterblur":
          case "beforeinput":
          case "blur":
          case "fullscreenchange":
          case "focus":
          case "hashchange":
          case "popstate":
          case "select":
          case "selectstart":
            return 1;

          case "drag":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "mousemove":
          case "mouseout":
          case "mouseover":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "scroll":
          case "toggle":
          case "touchmove":
          case "wheel":
          case "mouseenter":
          case "mouseleave":
          case "pointerenter":
          case "pointerleave":
            return 4;

          case "message":
            switch (Je()) {
              case Ze:
                return 1;

              case et:
                return 4;

              case tt:
              case nt:
                return 16;

              case rt:
                return 536870912;

              default:
                return 16;
            }

          default:
            return 16;
        }
      }

      var Jt = null,
          Zt = null,
          en = null;

      function tn() {
        if (en) return en;
        var e,
            t,
            n = Zt,
            r = n.length,
            i = "value" in Jt ? Jt.value : Jt.textContent,
            s = i.length;

        for (e = 0; e < r && n[e] === i[e]; e++) {
          ;
        }

        var o = r - e;

        for (t = 1; t <= o && n[r - t] === i[s - t]; t++) {
          ;
        }

        return en = i.slice(e, 1 < t ? 1 - t : void 0);
      }

      function nn(e) {
        var t = e.keyCode;
        return "charCode" in e ? 0 === (e = e.charCode) && 13 === t && (e = 13) : e = t, 10 === e && (e = 13), 32 <= e || 13 === e ? e : 0;
      }

      function rn() {
        return !0;
      }

      function sn() {
        return !1;
      }

      function on(e) {
        function t(t, n, r, i, s) {
          for (var o in this._reactName = t, this._targetInst = r, this.type = n, this.nativeEvent = i, this.target = s, this.currentTarget = null, e) {
            e.hasOwnProperty(o) && (t = e[o], this[o] = t ? t(i) : i[o]);
          }

          return this.isDefaultPrevented = (null != i.defaultPrevented ? i.defaultPrevented : !1 === i.returnValue) ? rn : sn, this.isPropagationStopped = sn, this;
        }

        return F(t.prototype, {
          preventDefault: function preventDefault() {
            this.defaultPrevented = !0;
            var e = this.nativeEvent;
            e && (e.preventDefault ? e.preventDefault() : "unknown" !== typeof e.returnValue && (e.returnValue = !1), this.isDefaultPrevented = rn);
          },
          stopPropagation: function stopPropagation() {
            var e = this.nativeEvent;
            e && (e.stopPropagation ? e.stopPropagation() : "unknown" !== typeof e.cancelBubble && (e.cancelBubble = !0), this.isPropagationStopped = rn);
          },
          persist: function persist() {},
          isPersistent: rn
        }), t;
      }

      var an,
          un,
          cn,
          hn = {
        eventPhase: 0,
        bubbles: 0,
        cancelable: 0,
        timeStamp: function timeStamp(e) {
          return e.timeStamp || Date.now();
        },
        defaultPrevented: 0,
        isTrusted: 0
      },
          dn = on(hn),
          fn = F({}, hn, {
        view: 0,
        detail: 0
      }),
          pn = on(fn),
          gn = F({}, fn, {
        screenX: 0,
        screenY: 0,
        clientX: 0,
        clientY: 0,
        pageX: 0,
        pageY: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        getModifierState: Cn,
        button: 0,
        buttons: 0,
        relatedTarget: function relatedTarget(e) {
          return void 0 === e.relatedTarget ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget;
        },
        movementX: function movementX(e) {
          return "movementX" in e ? e.movementX : (e !== cn && (cn && "mousemove" === e.type ? (an = e.screenX - cn.screenX, un = e.screenY - cn.screenY) : un = an = 0, cn = e), an);
        },
        movementY: function movementY(e) {
          return "movementY" in e ? e.movementY : un;
        }
      }),
          mn = on(gn),
          vn = on(F({}, gn, {
        dataTransfer: 0
      })),
          yn = on(F({}, fn, {
        relatedTarget: 0
      })),
          wn = on(F({}, hn, {
        animationName: 0,
        elapsedTime: 0,
        pseudoElement: 0
      })),
          bn = F({}, hn, {
        clipboardData: function clipboardData(e) {
          return "clipboardData" in e ? e.clipboardData : window.clipboardData;
        }
      }),
          _n = on(bn),
          En = on(F({}, hn, {
        data: 0
      })),
          Sn = {
        Esc: "Escape",
        Spacebar: " ",
        Left: "ArrowLeft",
        Up: "ArrowUp",
        Right: "ArrowRight",
        Down: "ArrowDown",
        Del: "Delete",
        Win: "OS",
        Menu: "ContextMenu",
        Apps: "ContextMenu",
        Scroll: "ScrollLock",
        MozPrintableKey: "Unidentified"
      },
          kn = {
        8: "Backspace",
        9: "Tab",
        12: "Clear",
        13: "Enter",
        16: "Shift",
        17: "Control",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Escape",
        32: " ",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "ArrowLeft",
        38: "ArrowUp",
        39: "ArrowRight",
        40: "ArrowDown",
        45: "Insert",
        46: "Delete",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "NumLock",
        145: "ScrollLock",
        224: "Meta"
      },
          Tn = {
        Alt: "altKey",
        Control: "ctrlKey",
        Meta: "metaKey",
        Shift: "shiftKey"
      };

      function In(e) {
        var t = this.nativeEvent;
        return t.getModifierState ? t.getModifierState(e) : !!(e = Tn[e]) && !!t[e];
      }

      function Cn() {
        return In;
      }

      var Nn = F({}, fn, {
        key: function key(e) {
          if (e.key) {
            var t = Sn[e.key] || e.key;
            if ("Unidentified" !== t) return t;
          }

          return "keypress" === e.type ? 13 === (e = nn(e)) ? "Enter" : String.fromCharCode(e) : "keydown" === e.type || "keyup" === e.type ? kn[e.keyCode] || "Unidentified" : "";
        },
        code: 0,
        location: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        repeat: 0,
        locale: 0,
        getModifierState: Cn,
        charCode: function charCode(e) {
          return "keypress" === e.type ? nn(e) : 0;
        },
        keyCode: function keyCode(e) {
          return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
        },
        which: function which(e) {
          return "keypress" === e.type ? nn(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
        }
      }),
          An = on(Nn),
          Rn = on(F({}, gn, {
        pointerId: 0,
        width: 0,
        height: 0,
        pressure: 0,
        tangentialPressure: 0,
        tiltX: 0,
        tiltY: 0,
        twist: 0,
        pointerType: 0,
        isPrimary: 0
      })),
          Pn = on(F({}, fn, {
        touches: 0,
        targetTouches: 0,
        changedTouches: 0,
        altKey: 0,
        metaKey: 0,
        ctrlKey: 0,
        shiftKey: 0,
        getModifierState: Cn
      })),
          xn = on(F({}, hn, {
        propertyName: 0,
        elapsedTime: 0,
        pseudoElement: 0
      })),
          Dn = F({}, gn, {
        deltaX: function deltaX(e) {
          return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0;
        },
        deltaY: function deltaY(e) {
          return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0;
        },
        deltaZ: 0,
        deltaMode: 0
      }),
          On = on(Dn),
          Ln = [9, 13, 27, 32],
          Mn = c && "CompositionEvent" in window,
          Fn = null;
      c && "documentMode" in document && (Fn = document.documentMode);
      var Un = c && "TextEvent" in window && !Fn,
          Vn = c && (!Mn || Fn && 8 < Fn && 11 >= Fn),
          zn = String.fromCharCode(32),
          jn = !1;

      function Bn(e, t) {
        switch (e) {
          case "keyup":
            return -1 !== Ln.indexOf(t.keyCode);

          case "keydown":
            return 229 !== t.keyCode;

          case "keypress":
          case "mousedown":
          case "focusout":
            return !0;

          default:
            return !1;
        }
      }

      function $n(e) {
        return "object" === _typeof(e = e.detail) && "data" in e ? e.data : null;
      }

      var qn = !1;
      var Hn = {
        color: !0,
        date: !0,
        datetime: !0,
        "datetime-local": !0,
        email: !0,
        month: !0,
        number: !0,
        password: !0,
        range: !0,
        search: !0,
        tel: !0,
        text: !0,
        time: !0,
        url: !0,
        week: !0
      };

      function Kn(e) {
        var t = e && e.nodeName && e.nodeName.toLowerCase();
        return "input" === t ? !!Hn[e.type] : "textarea" === t;
      }

      function Wn(e, t, n, r) {
        Ie(r), 0 < (t = Gr(t, "onChange")).length && (n = new dn("onChange", "change", null, n, r), e.push({
          event: n,
          listeners: t
        }));
      }

      var Gn = null,
          Qn = null;

      function Xn(e) {
        zr(e, 0);
      }

      function Yn(e) {
        if (W(Ei(e))) return e;
      }

      function Jn(e, t) {
        if ("change" === e) return t;
      }

      var Zn = !1;

      if (c) {
        var er;

        if (c) {
          var tr = "oninput" in document;

          if (!tr) {
            var nr = document.createElement("div");
            nr.setAttribute("oninput", "return;"), tr = "function" === typeof nr.oninput;
          }

          er = tr;
        } else er = !1;

        Zn = er && (!document.documentMode || 9 < document.documentMode);
      }

      function rr() {
        Gn && (Gn.detachEvent("onpropertychange", ir), Qn = Gn = null);
      }

      function ir(e) {
        if ("value" === e.propertyName && Yn(Qn)) {
          var t = [];
          Wn(t, Qn, e, _e(e)), Pe(Xn, t);
        }
      }

      function sr(e, t, n) {
        "focusin" === e ? (rr(), Qn = n, (Gn = t).attachEvent("onpropertychange", ir)) : "focusout" === e && rr();
      }

      function or(e) {
        if ("selectionchange" === e || "keyup" === e || "keydown" === e) return Yn(Qn);
      }

      function ar(e, t) {
        if ("click" === e) return Yn(t);
      }

      function lr(e, t) {
        if ("input" === e || "change" === e) return Yn(t);
      }

      var ur = "function" === typeof Object.is ? Object.is : function (e, t) {
        return e === t && (0 !== e || 1 / e === 1 / t) || e !== e && t !== t;
      };

      function cr(e, t) {
        if (ur(e, t)) return !0;
        if ("object" !== _typeof(e) || null === e || "object" !== _typeof(t) || null === t) return !1;
        var n = Object.keys(e),
            r = Object.keys(t);
        if (n.length !== r.length) return !1;

        for (r = 0; r < n.length; r++) {
          var i = n[r];
          if (!h.call(t, i) || !ur(e[i], t[i])) return !1;
        }

        return !0;
      }

      function hr(e) {
        for (; e && e.firstChild;) {
          e = e.firstChild;
        }

        return e;
      }

      function dr(e, t) {
        var n,
            r = hr(e);

        for (e = 0; r;) {
          if (3 === r.nodeType) {
            if (n = e + r.textContent.length, e <= t && n >= t) return {
              node: r,
              offset: t - e
            };
            e = n;
          }

          e: {
            for (; r;) {
              if (r.nextSibling) {
                r = r.nextSibling;
                break e;
              }

              r = r.parentNode;
            }

            r = void 0;
          }

          r = hr(r);
        }
      }

      function fr(e, t) {
        return !(!e || !t) && (e === t || (!e || 3 !== e.nodeType) && (t && 3 === t.nodeType ? fr(e, t.parentNode) : "contains" in e ? e.contains(t) : !!e.compareDocumentPosition && !!(16 & e.compareDocumentPosition(t))));
      }

      function pr() {
        for (var e = window, t = G(); t instanceof e.HTMLIFrameElement;) {
          try {
            var n = "string" === typeof t.contentWindow.location.href;
          } catch (r) {
            n = !1;
          }

          if (!n) break;
          t = G((e = t.contentWindow).document);
        }

        return t;
      }

      function gr(e) {
        var t = e && e.nodeName && e.nodeName.toLowerCase();
        return t && ("input" === t && ("text" === e.type || "search" === e.type || "tel" === e.type || "url" === e.type || "password" === e.type) || "textarea" === t || "true" === e.contentEditable);
      }

      function mr(e) {
        var t = pr(),
            n = e.focusedElem,
            r = e.selectionRange;

        if (t !== n && n && n.ownerDocument && fr(n.ownerDocument.documentElement, n)) {
          if (null !== r && gr(n)) if (t = r.start, void 0 === (e = r.end) && (e = t), "selectionStart" in n) n.selectionStart = t, n.selectionEnd = Math.min(e, n.value.length);else if ((e = (t = n.ownerDocument || document) && t.defaultView || window).getSelection) {
            e = e.getSelection();
            var i = n.textContent.length,
                s = Math.min(r.start, i);
            r = void 0 === r.end ? s : Math.min(r.end, i), !e.extend && s > r && (i = r, r = s, s = i), i = dr(n, s);
            var o = dr(n, r);
            i && o && (1 !== e.rangeCount || e.anchorNode !== i.node || e.anchorOffset !== i.offset || e.focusNode !== o.node || e.focusOffset !== o.offset) && ((t = t.createRange()).setStart(i.node, i.offset), e.removeAllRanges(), s > r ? (e.addRange(t), e.extend(o.node, o.offset)) : (t.setEnd(o.node, o.offset), e.addRange(t)));
          }

          for (t = [], e = n; e = e.parentNode;) {
            1 === e.nodeType && t.push({
              element: e,
              left: e.scrollLeft,
              top: e.scrollTop
            });
          }

          for ("function" === typeof n.focus && n.focus(), n = 0; n < t.length; n++) {
            (e = t[n]).element.scrollLeft = e.left, e.element.scrollTop = e.top;
          }
        }
      }

      var vr = c && "documentMode" in document && 11 >= document.documentMode,
          yr = null,
          wr = null,
          br = null,
          _r = !1;

      function Er(e, t, n) {
        var r = n.window === n ? n.document : 9 === n.nodeType ? n : n.ownerDocument;
        _r || null == yr || yr !== G(r) || ("selectionStart" in (r = yr) && gr(r) ? r = {
          start: r.selectionStart,
          end: r.selectionEnd
        } : r = {
          anchorNode: (r = (r.ownerDocument && r.ownerDocument.defaultView || window).getSelection()).anchorNode,
          anchorOffset: r.anchorOffset,
          focusNode: r.focusNode,
          focusOffset: r.focusOffset
        }, br && cr(br, r) || (br = r, 0 < (r = Gr(wr, "onSelect")).length && (t = new dn("onSelect", "select", null, t, n), e.push({
          event: t,
          listeners: r
        }), t.target = yr)));
      }

      function Sr(e, t) {
        var n = {};
        return n[e.toLowerCase()] = t.toLowerCase(), n["Webkit" + e] = "webkit" + t, n["Moz" + e] = "moz" + t, n;
      }

      var kr = {
        animationend: Sr("Animation", "AnimationEnd"),
        animationiteration: Sr("Animation", "AnimationIteration"),
        animationstart: Sr("Animation", "AnimationStart"),
        transitionend: Sr("Transition", "TransitionEnd")
      },
          Tr = {},
          Ir = {};

      function Cr(e) {
        if (Tr[e]) return Tr[e];
        if (!kr[e]) return e;
        var t,
            n = kr[e];

        for (t in n) {
          if (n.hasOwnProperty(t) && t in Ir) return Tr[e] = n[t];
        }

        return e;
      }

      c && (Ir = document.createElement("div").style, "AnimationEvent" in window || (delete kr.animationend.animation, delete kr.animationiteration.animation, delete kr.animationstart.animation), "TransitionEvent" in window || delete kr.transitionend.transition);
      var Nr = Cr("animationend"),
          Ar = Cr("animationiteration"),
          Rr = Cr("animationstart"),
          Pr = Cr("transitionend"),
          xr = new Map(),
          Dr = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");

      function Or(e, t) {
        xr.set(e, t), l(t, [e]);
      }

      for (var Lr = 0; Lr < Dr.length; Lr++) {
        var Mr = Dr[Lr];
        Or(Mr.toLowerCase(), "on" + (Mr[0].toUpperCase() + Mr.slice(1)));
      }

      Or(Nr, "onAnimationEnd"), Or(Ar, "onAnimationIteration"), Or(Rr, "onAnimationStart"), Or("dblclick", "onDoubleClick"), Or("focusin", "onFocus"), Or("focusout", "onBlur"), Or(Pr, "onTransitionEnd"), u("onMouseEnter", ["mouseout", "mouseover"]), u("onMouseLeave", ["mouseout", "mouseover"]), u("onPointerEnter", ["pointerout", "pointerover"]), u("onPointerLeave", ["pointerout", "pointerover"]), l("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), l("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), l("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), l("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), l("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), l("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
      var Fr = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
          Ur = new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));

      function Vr(e, t, n) {
        var r = e.type || "unknown-event";
        e.currentTarget = n, function (e, t, n, r, i, o, a, l, u) {
          if (je.apply(this, arguments), Me) {
            if (!Me) throw Error(s(198));
            var c = Fe;
            Me = !1, Fe = null, Ue || (Ue = !0, Ve = c);
          }
        }(r, t, void 0, e), e.currentTarget = null;
      }

      function zr(e, t) {
        t = 0 !== (4 & t);

        for (var n = 0; n < e.length; n++) {
          var r = e[n],
              i = r.event;
          r = r.listeners;

          e: {
            var s = void 0;
            if (t) for (var o = r.length - 1; 0 <= o; o--) {
              var a = r[o],
                  l = a.instance,
                  u = a.currentTarget;
              if (a = a.listener, l !== s && i.isPropagationStopped()) break e;
              Vr(i, a, u), s = l;
            } else for (o = 0; o < r.length; o++) {
              if (l = (a = r[o]).instance, u = a.currentTarget, a = a.listener, l !== s && i.isPropagationStopped()) break e;
              Vr(i, a, u), s = l;
            }
          }
        }

        if (Ue) throw e = Ve, Ue = !1, Ve = null, e;
      }

      function jr(e, t) {
        var n = t[vi];
        void 0 === n && (n = t[vi] = new Set());
        var r = e + "__bubble";
        n.has(r) || (Hr(t, e, 2, !1), n.add(r));
      }

      function Br(e, t, n) {
        var r = 0;
        t && (r |= 4), Hr(n, e, r, t);
      }

      var $r = "_reactListening" + Math.random().toString(36).slice(2);

      function qr(e) {
        if (!e[$r]) {
          e[$r] = !0, o.forEach(function (t) {
            "selectionchange" !== t && (Ur.has(t) || Br(t, !1, e), Br(t, !0, e));
          });
          var t = 9 === e.nodeType ? e : e.ownerDocument;
          null === t || t[$r] || (t[$r] = !0, Br("selectionchange", !1, t));
        }
      }

      function Hr(e, t, n, r) {
        switch (Yt(t)) {
          case 1:
            var i = Kt;
            break;

          case 4:
            i = Wt;
            break;

          default:
            i = Gt;
        }

        n = i.bind(null, t, n, e), i = void 0, !De || "touchstart" !== t && "touchmove" !== t && "wheel" !== t || (i = !0), r ? void 0 !== i ? e.addEventListener(t, n, {
          capture: !0,
          passive: i
        }) : e.addEventListener(t, n, !0) : void 0 !== i ? e.addEventListener(t, n, {
          passive: i
        }) : e.addEventListener(t, n, !1);
      }

      function Kr(e, t, n, r, i) {
        var s = r;
        if (0 === (1 & t) && 0 === (2 & t) && null !== r) e: for (;;) {
          if (null === r) return;
          var o = r.tag;

          if (3 === o || 4 === o) {
            var a = r.stateNode.containerInfo;
            if (a === i || 8 === a.nodeType && a.parentNode === i) break;
            if (4 === o) for (o = r["return"]; null !== o;) {
              var l = o.tag;
              if ((3 === l || 4 === l) && ((l = o.stateNode.containerInfo) === i || 8 === l.nodeType && l.parentNode === i)) return;
              o = o["return"];
            }

            for (; null !== a;) {
              if (null === (o = bi(a))) return;

              if (5 === (l = o.tag) || 6 === l) {
                r = s = o;
                continue e;
              }

              a = a.parentNode;
            }
          }

          r = r["return"];
        }
        Pe(function () {
          var r = s,
              i = _e(n),
              o = [];

          e: {
            var a = xr.get(e);

            if (void 0 !== a) {
              var l = dn,
                  u = e;

              switch (e) {
                case "keypress":
                  if (0 === nn(n)) break e;

                case "keydown":
                case "keyup":
                  l = An;
                  break;

                case "focusin":
                  u = "focus", l = yn;
                  break;

                case "focusout":
                  u = "blur", l = yn;
                  break;

                case "beforeblur":
                case "afterblur":
                  l = yn;
                  break;

                case "click":
                  if (2 === n.button) break e;

                case "auxclick":
                case "dblclick":
                case "mousedown":
                case "mousemove":
                case "mouseup":
                case "mouseout":
                case "mouseover":
                case "contextmenu":
                  l = mn;
                  break;

                case "drag":
                case "dragend":
                case "dragenter":
                case "dragexit":
                case "dragleave":
                case "dragover":
                case "dragstart":
                case "drop":
                  l = vn;
                  break;

                case "touchcancel":
                case "touchend":
                case "touchmove":
                case "touchstart":
                  l = Pn;
                  break;

                case Nr:
                case Ar:
                case Rr:
                  l = wn;
                  break;

                case Pr:
                  l = xn;
                  break;

                case "scroll":
                  l = pn;
                  break;

                case "wheel":
                  l = On;
                  break;

                case "copy":
                case "cut":
                case "paste":
                  l = _n;
                  break;

                case "gotpointercapture":
                case "lostpointercapture":
                case "pointercancel":
                case "pointerdown":
                case "pointermove":
                case "pointerout":
                case "pointerover":
                case "pointerup":
                  l = Rn;
              }

              var c = 0 !== (4 & t),
                  h = !c && "scroll" === e,
                  d = c ? null !== a ? a + "Capture" : null : a;
              c = [];

              for (var f, p = r; null !== p;) {
                var g = (f = p).stateNode;
                if (5 === f.tag && null !== g && (f = g, null !== d && null != (g = xe(p, d)) && c.push(Wr(p, g, f))), h) break;
                p = p["return"];
              }

              0 < c.length && (a = new l(a, u, null, n, i), o.push({
                event: a,
                listeners: c
              }));
            }
          }

          if (0 === (7 & t)) {
            if (l = "mouseout" === e || "pointerout" === e, (!(a = "mouseover" === e || "pointerover" === e) || n === be || !(u = n.relatedTarget || n.fromElement) || !bi(u) && !u[mi]) && (l || a) && (a = i.window === i ? i : (a = i.ownerDocument) ? a.defaultView || a.parentWindow : window, l ? (l = r, null !== (u = (u = n.relatedTarget || n.toElement) ? bi(u) : null) && (u !== (h = Be(u)) || 5 !== u.tag && 6 !== u.tag) && (u = null)) : (l = null, u = r), l !== u)) {
              if (c = mn, g = "onMouseLeave", d = "onMouseEnter", p = "mouse", "pointerout" !== e && "pointerover" !== e || (c = Rn, g = "onPointerLeave", d = "onPointerEnter", p = "pointer"), h = null == l ? a : Ei(l), f = null == u ? a : Ei(u), (a = new c(g, p + "leave", l, n, i)).target = h, a.relatedTarget = f, g = null, bi(i) === r && ((c = new c(d, p + "enter", u, n, i)).target = f, c.relatedTarget = h, g = c), h = g, l && u) e: {
                for (d = u, p = 0, f = c = l; f; f = Qr(f)) {
                  p++;
                }

                for (f = 0, g = d; g; g = Qr(g)) {
                  f++;
                }

                for (; 0 < p - f;) {
                  c = Qr(c), p--;
                }

                for (; 0 < f - p;) {
                  d = Qr(d), f--;
                }

                for (; p--;) {
                  if (c === d || null !== d && c === d.alternate) break e;
                  c = Qr(c), d = Qr(d);
                }

                c = null;
              } else c = null;
              null !== l && Xr(o, a, l, c, !1), null !== u && null !== h && Xr(o, h, u, c, !0);
            }

            if ("select" === (l = (a = r ? Ei(r) : window).nodeName && a.nodeName.toLowerCase()) || "input" === l && "file" === a.type) var m = Jn;else if (Kn(a)) {
              if (Zn) m = lr;else {
                m = or;
                var v = sr;
              }
            } else (l = a.nodeName) && "input" === l.toLowerCase() && ("checkbox" === a.type || "radio" === a.type) && (m = ar);

            switch (m && (m = m(e, r)) ? Wn(o, m, n, i) : (v && v(e, a, r), "focusout" === e && (v = a._wrapperState) && v.controlled && "number" === a.type && ee(a, "number", a.value)), v = r ? Ei(r) : window, e) {
              case "focusin":
                (Kn(v) || "true" === v.contentEditable) && (yr = v, wr = r, br = null);
                break;

              case "focusout":
                br = wr = yr = null;
                break;

              case "mousedown":
                _r = !0;
                break;

              case "contextmenu":
              case "mouseup":
              case "dragend":
                _r = !1, Er(o, n, i);
                break;

              case "selectionchange":
                if (vr) break;

              case "keydown":
              case "keyup":
                Er(o, n, i);
            }

            var y;
            if (Mn) e: {
              switch (e) {
                case "compositionstart":
                  var w = "onCompositionStart";
                  break e;

                case "compositionend":
                  w = "onCompositionEnd";
                  break e;

                case "compositionupdate":
                  w = "onCompositionUpdate";
                  break e;
              }

              w = void 0;
            } else qn ? Bn(e, n) && (w = "onCompositionEnd") : "keydown" === e && 229 === n.keyCode && (w = "onCompositionStart");
            w && (Vn && "ko" !== n.locale && (qn || "onCompositionStart" !== w ? "onCompositionEnd" === w && qn && (y = tn()) : (Zt = "value" in (Jt = i) ? Jt.value : Jt.textContent, qn = !0)), 0 < (v = Gr(r, w)).length && (w = new En(w, e, null, n, i), o.push({
              event: w,
              listeners: v
            }), y ? w.data = y : null !== (y = $n(n)) && (w.data = y))), (y = Un ? function (e, t) {
              switch (e) {
                case "compositionend":
                  return $n(t);

                case "keypress":
                  return 32 !== t.which ? null : (jn = !0, zn);

                case "textInput":
                  return (e = t.data) === zn && jn ? null : e;

                default:
                  return null;
              }
            }(e, n) : function (e, t) {
              if (qn) return "compositionend" === e || !Mn && Bn(e, t) ? (e = tn(), en = Zt = Jt = null, qn = !1, e) : null;

              switch (e) {
                case "paste":
                default:
                  return null;

                case "keypress":
                  if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) {
                    if (t["char"] && 1 < t["char"].length) return t["char"];
                    if (t.which) return String.fromCharCode(t.which);
                  }

                  return null;

                case "compositionend":
                  return Vn && "ko" !== t.locale ? null : t.data;
              }
            }(e, n)) && 0 < (r = Gr(r, "onBeforeInput")).length && (i = new En("onBeforeInput", "beforeinput", null, n, i), o.push({
              event: i,
              listeners: r
            }), i.data = y);
          }

          zr(o, t);
        });
      }

      function Wr(e, t, n) {
        return {
          instance: e,
          listener: t,
          currentTarget: n
        };
      }

      function Gr(e, t) {
        for (var n = t + "Capture", r = []; null !== e;) {
          var i = e,
              s = i.stateNode;
          5 === i.tag && null !== s && (i = s, null != (s = xe(e, n)) && r.unshift(Wr(e, s, i)), null != (s = xe(e, t)) && r.push(Wr(e, s, i))), e = e["return"];
        }

        return r;
      }

      function Qr(e) {
        if (null === e) return null;

        do {
          e = e["return"];
        } while (e && 5 !== e.tag);

        return e || null;
      }

      function Xr(e, t, n, r, i) {
        for (var s = t._reactName, o = []; null !== n && n !== r;) {
          var a = n,
              l = a.alternate,
              u = a.stateNode;
          if (null !== l && l === r) break;
          5 === a.tag && null !== u && (a = u, i ? null != (l = xe(n, s)) && o.unshift(Wr(n, l, a)) : i || null != (l = xe(n, s)) && o.push(Wr(n, l, a))), n = n["return"];
        }

        0 !== o.length && e.push({
          event: t,
          listeners: o
        });
      }

      var Yr = /\r\n?/g,
          Jr = /\u0000|\uFFFD/g;

      function Zr(e) {
        return ("string" === typeof e ? e : "" + e).replace(Yr, "\n").replace(Jr, "");
      }

      function ei(e, t, n) {
        if (t = Zr(t), Zr(e) !== t && n) throw Error(s(425));
      }

      function ti() {}

      var ni = null,
          ri = null;

      function ii(e, t) {
        return "textarea" === e || "noscript" === e || "string" === typeof t.children || "number" === typeof t.children || "object" === _typeof(t.dangerouslySetInnerHTML) && null !== t.dangerouslySetInnerHTML && null != t.dangerouslySetInnerHTML.__html;
      }

      var si = "function" === typeof setTimeout ? setTimeout : void 0,
          oi = "function" === typeof clearTimeout ? clearTimeout : void 0,
          ai = "function" === typeof Promise ? Promise : void 0,
          li = "function" === typeof queueMicrotask ? queueMicrotask : "undefined" !== typeof ai ? function (e) {
        return ai.resolve(null).then(e)["catch"](ui);
      } : si;

      function ui(e) {
        setTimeout(function () {
          throw e;
        });
      }

      function ci(e, t) {
        var n = t,
            r = 0;

        do {
          var i = n.nextSibling;
          if (e.removeChild(n), i && 8 === i.nodeType) if ("/$" === (n = i.data)) {
            if (0 === r) return e.removeChild(i), void $t(t);
            r--;
          } else "$" !== n && "$?" !== n && "$!" !== n || r++;
          n = i;
        } while (n);

        $t(t);
      }

      function hi(e) {
        for (; null != e; e = e.nextSibling) {
          var t = e.nodeType;
          if (1 === t || 3 === t) break;

          if (8 === t) {
            if ("$" === (t = e.data) || "$!" === t || "$?" === t) break;
            if ("/$" === t) return null;
          }
        }

        return e;
      }

      function di(e) {
        e = e.previousSibling;

        for (var t = 0; e;) {
          if (8 === e.nodeType) {
            var n = e.data;

            if ("$" === n || "$!" === n || "$?" === n) {
              if (0 === t) return e;
              t--;
            } else "/$" === n && t++;
          }

          e = e.previousSibling;
        }

        return null;
      }

      var fi = Math.random().toString(36).slice(2),
          pi = "__reactFiber$" + fi,
          gi = "__reactProps$" + fi,
          mi = "__reactContainer$" + fi,
          vi = "__reactEvents$" + fi,
          yi = "__reactListeners$" + fi,
          wi = "__reactHandles$" + fi;

      function bi(e) {
        var t = e[pi];
        if (t) return t;

        for (var n = e.parentNode; n;) {
          if (t = n[mi] || n[pi]) {
            if (n = t.alternate, null !== t.child || null !== n && null !== n.child) for (e = di(e); null !== e;) {
              if (n = e[pi]) return n;
              e = di(e);
            }
            return t;
          }

          n = (e = n).parentNode;
        }

        return null;
      }

      function _i(e) {
        return !(e = e[pi] || e[mi]) || 5 !== e.tag && 6 !== e.tag && 13 !== e.tag && 3 !== e.tag ? null : e;
      }

      function Ei(e) {
        if (5 === e.tag || 6 === e.tag) return e.stateNode;
        throw Error(s(33));
      }

      function Si(e) {
        return e[gi] || null;
      }

      var ki = [],
          Ti = -1;

      function Ii(e) {
        return {
          current: e
        };
      }

      function Ci(e) {
        0 > Ti || (e.current = ki[Ti], ki[Ti] = null, Ti--);
      }

      function Ni(e, t) {
        Ti++, ki[Ti] = e.current, e.current = t;
      }

      var Ai = {},
          Ri = Ii(Ai),
          Pi = Ii(!1),
          xi = Ai;

      function Di(e, t) {
        var n = e.type.contextTypes;
        if (!n) return Ai;
        var r = e.stateNode;
        if (r && r.__reactInternalMemoizedUnmaskedChildContext === t) return r.__reactInternalMemoizedMaskedChildContext;
        var i,
            s = {};

        for (i in n) {
          s[i] = t[i];
        }

        return r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = t, e.__reactInternalMemoizedMaskedChildContext = s), s;
      }

      function Oi(e) {
        return null !== (e = e.childContextTypes) && void 0 !== e;
      }

      function Li() {
        Ci(Pi), Ci(Ri);
      }

      function Mi(e, t, n) {
        if (Ri.current !== Ai) throw Error(s(168));
        Ni(Ri, t), Ni(Pi, n);
      }

      function Fi(e, t, n) {
        var r = e.stateNode;
        if (t = t.childContextTypes, "function" !== typeof r.getChildContext) return n;

        for (var i in r = r.getChildContext()) {
          if (!(i in t)) throw Error(s(108, $(e) || "Unknown", i));
        }

        return F({}, n, r);
      }

      function Ui(e) {
        return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || Ai, xi = Ri.current, Ni(Ri, e), Ni(Pi, Pi.current), !0;
      }

      function Vi(e, t, n) {
        var r = e.stateNode;
        if (!r) throw Error(s(169));
        n ? (e = Fi(e, t, xi), r.__reactInternalMemoizedMergedChildContext = e, Ci(Pi), Ci(Ri), Ni(Ri, e)) : Ci(Pi), Ni(Pi, n);
      }

      var zi = null,
          ji = !1,
          Bi = !1;

      function $i(e) {
        null === zi ? zi = [e] : zi.push(e);
      }

      function qi() {
        if (!Bi && null !== zi) {
          Bi = !0;
          var e = 0,
              t = wt;

          try {
            var n = zi;

            for (wt = 1; e < n.length; e++) {
              var r = n[e];

              do {
                r = r(!0);
              } while (null !== r);
            }

            zi = null, ji = !1;
          } catch (i) {
            throw null !== zi && (zi = zi.slice(e + 1)), We(Ze, qi), i;
          } finally {
            wt = t, Bi = !1;
          }
        }

        return null;
      }

      var Hi = [],
          Ki = 0,
          Wi = null,
          Gi = 0,
          Qi = [],
          Xi = 0,
          Yi = null,
          Ji = 1,
          Zi = "";

      function es(e, t) {
        Hi[Ki++] = Gi, Hi[Ki++] = Wi, Wi = e, Gi = t;
      }

      function ts(e, t, n) {
        Qi[Xi++] = Ji, Qi[Xi++] = Zi, Qi[Xi++] = Yi, Yi = e;
        var r = Ji;
        e = Zi;
        var i = 32 - ot(r) - 1;
        r &= ~(1 << i), n += 1;
        var s = 32 - ot(t) + i;

        if (30 < s) {
          var o = i - i % 5;
          s = (r & (1 << o) - 1).toString(32), r >>= o, i -= o, Ji = 1 << 32 - ot(t) + i | n << i | r, Zi = s + e;
        } else Ji = 1 << s | n << i | r, Zi = e;
      }

      function ns(e) {
        null !== e["return"] && (es(e, 1), ts(e, 1, 0));
      }

      function rs(e) {
        for (; e === Wi;) {
          Wi = Hi[--Ki], Hi[Ki] = null, Gi = Hi[--Ki], Hi[Ki] = null;
        }

        for (; e === Yi;) {
          Yi = Qi[--Xi], Qi[Xi] = null, Zi = Qi[--Xi], Qi[Xi] = null, Ji = Qi[--Xi], Qi[Xi] = null;
        }
      }

      var is = null,
          ss = null,
          os = !1,
          as = null;

      function ls(e, t) {
        var n = Du(5, null, null, 0);
        n.elementType = "DELETED", n.stateNode = t, n["return"] = e, null === (t = e.deletions) ? (e.deletions = [n], e.flags |= 16) : t.push(n);
      }

      function us(e, t) {
        switch (e.tag) {
          case 5:
            var n = e.type;
            return null !== (t = 1 !== t.nodeType || n.toLowerCase() !== t.nodeName.toLowerCase() ? null : t) && (e.stateNode = t, is = e, ss = hi(t.firstChild), !0);

          case 6:
            return null !== (t = "" === e.pendingProps || 3 !== t.nodeType ? null : t) && (e.stateNode = t, is = e, ss = null, !0);

          case 13:
            return null !== (t = 8 !== t.nodeType ? null : t) && (n = null !== Yi ? {
              id: Ji,
              overflow: Zi
            } : null, e.memoizedState = {
              dehydrated: t,
              treeContext: n,
              retryLane: 1073741824
            }, (n = Du(18, null, null, 0)).stateNode = t, n["return"] = e, e.child = n, is = e, ss = null, !0);

          default:
            return !1;
        }
      }

      function cs(e) {
        return 0 !== (1 & e.mode) && 0 === (128 & e.flags);
      }

      function hs(e) {
        if (os) {
          var t = ss;

          if (t) {
            var n = t;

            if (!us(e, t)) {
              if (cs(e)) throw Error(s(418));
              t = hi(n.nextSibling);
              var r = is;
              t && us(e, t) ? ls(r, n) : (e.flags = -4097 & e.flags | 2, os = !1, is = e);
            }
          } else {
            if (cs(e)) throw Error(s(418));
            e.flags = -4097 & e.flags | 2, os = !1, is = e;
          }
        }
      }

      function ds(e) {
        for (e = e["return"]; null !== e && 5 !== e.tag && 3 !== e.tag && 13 !== e.tag;) {
          e = e["return"];
        }

        is = e;
      }

      function fs(e) {
        if (e !== is) return !1;
        if (!os) return ds(e), os = !0, !1;
        var t;

        if ((t = 3 !== e.tag) && !(t = 5 !== e.tag) && (t = "head" !== (t = e.type) && "body" !== t && !ii(e.type, e.memoizedProps)), t && (t = ss)) {
          if (cs(e)) throw ps(), Error(s(418));

          for (; t;) {
            ls(e, t), t = hi(t.nextSibling);
          }
        }

        if (ds(e), 13 === e.tag) {
          if (!(e = null !== (e = e.memoizedState) ? e.dehydrated : null)) throw Error(s(317));

          e: {
            for (e = e.nextSibling, t = 0; e;) {
              if (8 === e.nodeType) {
                var n = e.data;

                if ("/$" === n) {
                  if (0 === t) {
                    ss = hi(e.nextSibling);
                    break e;
                  }

                  t--;
                } else "$" !== n && "$!" !== n && "$?" !== n || t++;
              }

              e = e.nextSibling;
            }

            ss = null;
          }
        } else ss = is ? hi(e.stateNode.nextSibling) : null;

        return !0;
      }

      function ps() {
        for (var e = ss; e;) {
          e = hi(e.nextSibling);
        }
      }

      function gs() {
        ss = is = null, os = !1;
      }

      function ms(e) {
        null === as ? as = [e] : as.push(e);
      }

      var vs = b.ReactCurrentBatchConfig;

      function ys(e, t, n) {
        if (null !== (e = n.ref) && "function" !== typeof e && "object" !== _typeof(e)) {
          if (n._owner) {
            if (n = n._owner) {
              if (1 !== n.tag) throw Error(s(309));
              var r = n.stateNode;
            }

            if (!r) throw Error(s(147, e));
            var i = r,
                o = "" + e;
            return null !== t && null !== t.ref && "function" === typeof t.ref && t.ref._stringRef === o ? t.ref : (t = function t(e) {
              var t = i.refs;
              null === e ? delete t[o] : t[o] = e;
            }, t._stringRef = o, t);
          }

          if ("string" !== typeof e) throw Error(s(284));
          if (!n._owner) throw Error(s(290, e));
        }

        return e;
      }

      function ws(e, t) {
        throw e = Object.prototype.toString.call(t), Error(s(31, "[object Object]" === e ? "object with keys {" + Object.keys(t).join(", ") + "}" : e));
      }

      function bs(e) {
        return (0, e._init)(e._payload);
      }

      function _s(e) {
        function t(t, n) {
          if (e) {
            var r = t.deletions;
            null === r ? (t.deletions = [n], t.flags |= 16) : r.push(n);
          }
        }

        function n(n, r) {
          if (!e) return null;

          for (; null !== r;) {
            t(n, r), r = r.sibling;
          }

          return null;
        }

        function r(e, t) {
          for (e = new Map(); null !== t;) {
            null !== t.key ? e.set(t.key, t) : e.set(t.index, t), t = t.sibling;
          }

          return e;
        }

        function i(e, t) {
          return (e = Lu(e, t)).index = 0, e.sibling = null, e;
        }

        function o(t, n, r) {
          return t.index = r, e ? null !== (r = t.alternate) ? (r = r.index) < n ? (t.flags |= 2, n) : r : (t.flags |= 2, n) : (t.flags |= 1048576, n);
        }

        function a(t) {
          return e && null === t.alternate && (t.flags |= 2), t;
        }

        function l(e, t, n, r) {
          return null === t || 6 !== t.tag ? ((t = Vu(n, e.mode, r))["return"] = e, t) : ((t = i(t, n))["return"] = e, t);
        }

        function u(e, t, n, r) {
          var s = n.type;
          return s === S ? h(e, t, n.props.children, r, n.key) : null !== t && (t.elementType === s || "object" === _typeof(s) && null !== s && s.$$typeof === x && bs(s) === t.type) ? ((r = i(t, n.props)).ref = ys(e, t, n), r["return"] = e, r) : ((r = Mu(n.type, n.key, n.props, null, e.mode, r)).ref = ys(e, t, n), r["return"] = e, r);
        }

        function c(e, t, n, r) {
          return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !== n.implementation ? ((t = zu(n, e.mode, r))["return"] = e, t) : ((t = i(t, n.children || []))["return"] = e, t);
        }

        function h(e, t, n, r, s) {
          return null === t || 7 !== t.tag ? ((t = Fu(n, e.mode, r, s))["return"] = e, t) : ((t = i(t, n))["return"] = e, t);
        }

        function d(e, t, n) {
          if ("string" === typeof t && "" !== t || "number" === typeof t) return (t = Vu("" + t, e.mode, n))["return"] = e, t;

          if ("object" === _typeof(t) && null !== t) {
            switch (t.$$typeof) {
              case _:
                return (n = Mu(t.type, t.key, t.props, null, e.mode, n)).ref = ys(e, null, t), n["return"] = e, n;

              case E:
                return (t = zu(t, e.mode, n))["return"] = e, t;

              case x:
                return d(e, (0, t._init)(t._payload), n);
            }

            if (te(t) || L(t)) return (t = Fu(t, e.mode, n, null))["return"] = e, t;
            ws(e, t);
          }

          return null;
        }

        function f(e, t, n, r) {
          var i = null !== t ? t.key : null;
          if ("string" === typeof n && "" !== n || "number" === typeof n) return null !== i ? null : l(e, t, "" + n, r);

          if ("object" === _typeof(n) && null !== n) {
            switch (n.$$typeof) {
              case _:
                return n.key === i ? u(e, t, n, r) : null;

              case E:
                return n.key === i ? c(e, t, n, r) : null;

              case x:
                return f(e, t, (i = n._init)(n._payload), r);
            }

            if (te(n) || L(n)) return null !== i ? null : h(e, t, n, r, null);
            ws(e, n);
          }

          return null;
        }

        function p(e, t, n, r, i) {
          if ("string" === typeof r && "" !== r || "number" === typeof r) return l(t, e = e.get(n) || null, "" + r, i);

          if ("object" === _typeof(r) && null !== r) {
            switch (r.$$typeof) {
              case _:
                return u(t, e = e.get(null === r.key ? n : r.key) || null, r, i);

              case E:
                return c(t, e = e.get(null === r.key ? n : r.key) || null, r, i);

              case x:
                return p(e, t, n, (0, r._init)(r._payload), i);
            }

            if (te(r) || L(r)) return h(t, e = e.get(n) || null, r, i, null);
            ws(t, r);
          }

          return null;
        }

        function g(i, s, a, l) {
          for (var u = null, c = null, h = s, g = s = 0, m = null; null !== h && g < a.length; g++) {
            h.index > g ? (m = h, h = null) : m = h.sibling;
            var v = f(i, h, a[g], l);

            if (null === v) {
              null === h && (h = m);
              break;
            }

            e && h && null === v.alternate && t(i, h), s = o(v, s, g), null === c ? u = v : c.sibling = v, c = v, h = m;
          }

          if (g === a.length) return n(i, h), os && es(i, g), u;

          if (null === h) {
            for (; g < a.length; g++) {
              null !== (h = d(i, a[g], l)) && (s = o(h, s, g), null === c ? u = h : c.sibling = h, c = h);
            }

            return os && es(i, g), u;
          }

          for (h = r(i, h); g < a.length; g++) {
            null !== (m = p(h, i, g, a[g], l)) && (e && null !== m.alternate && h["delete"](null === m.key ? g : m.key), s = o(m, s, g), null === c ? u = m : c.sibling = m, c = m);
          }

          return e && h.forEach(function (e) {
            return t(i, e);
          }), os && es(i, g), u;
        }

        function m(i, a, l, u) {
          var c = L(l);
          if ("function" !== typeof c) throw Error(s(150));
          if (null == (l = c.call(l))) throw Error(s(151));

          for (var h = c = null, g = a, m = a = 0, v = null, y = l.next(); null !== g && !y.done; m++, y = l.next()) {
            g.index > m ? (v = g, g = null) : v = g.sibling;
            var w = f(i, g, y.value, u);

            if (null === w) {
              null === g && (g = v);
              break;
            }

            e && g && null === w.alternate && t(i, g), a = o(w, a, m), null === h ? c = w : h.sibling = w, h = w, g = v;
          }

          if (y.done) return n(i, g), os && es(i, m), c;

          if (null === g) {
            for (; !y.done; m++, y = l.next()) {
              null !== (y = d(i, y.value, u)) && (a = o(y, a, m), null === h ? c = y : h.sibling = y, h = y);
            }

            return os && es(i, m), c;
          }

          for (g = r(i, g); !y.done; m++, y = l.next()) {
            null !== (y = p(g, i, m, y.value, u)) && (e && null !== y.alternate && g["delete"](null === y.key ? m : y.key), a = o(y, a, m), null === h ? c = y : h.sibling = y, h = y);
          }

          return e && g.forEach(function (e) {
            return t(i, e);
          }), os && es(i, m), c;
        }

        return function e(r, s, o, l) {
          if ("object" === _typeof(o) && null !== o && o.type === S && null === o.key && (o = o.props.children), "object" === _typeof(o) && null !== o) {
            switch (o.$$typeof) {
              case _:
                e: {
                  for (var u = o.key, c = s; null !== c;) {
                    if (c.key === u) {
                      if ((u = o.type) === S) {
                        if (7 === c.tag) {
                          n(r, c.sibling), (s = i(c, o.props.children))["return"] = r, r = s;
                          break e;
                        }
                      } else if (c.elementType === u || "object" === _typeof(u) && null !== u && u.$$typeof === x && bs(u) === c.type) {
                        n(r, c.sibling), (s = i(c, o.props)).ref = ys(r, c, o), s["return"] = r, r = s;
                        break e;
                      }

                      n(r, c);
                      break;
                    }

                    t(r, c), c = c.sibling;
                  }

                  o.type === S ? ((s = Fu(o.props.children, r.mode, l, o.key))["return"] = r, r = s) : ((l = Mu(o.type, o.key, o.props, null, r.mode, l)).ref = ys(r, s, o), l["return"] = r, r = l);
                }

                return a(r);

              case E:
                e: {
                  for (c = o.key; null !== s;) {
                    if (s.key === c) {
                      if (4 === s.tag && s.stateNode.containerInfo === o.containerInfo && s.stateNode.implementation === o.implementation) {
                        n(r, s.sibling), (s = i(s, o.children || []))["return"] = r, r = s;
                        break e;
                      }

                      n(r, s);
                      break;
                    }

                    t(r, s), s = s.sibling;
                  }

                  (s = zu(o, r.mode, l))["return"] = r, r = s;
                }

                return a(r);

              case x:
                return e(r, s, (c = o._init)(o._payload), l);
            }

            if (te(o)) return g(r, s, o, l);
            if (L(o)) return m(r, s, o, l);
            ws(r, o);
          }

          return "string" === typeof o && "" !== o || "number" === typeof o ? (o = "" + o, null !== s && 6 === s.tag ? (n(r, s.sibling), (s = i(s, o))["return"] = r, r = s) : (n(r, s), (s = Vu(o, r.mode, l))["return"] = r, r = s), a(r)) : n(r, s);
        };
      }

      var Es = _s(!0),
          Ss = _s(!1),
          ks = Ii(null),
          Ts = null,
          Is = null,
          Cs = null;

      function Ns() {
        Cs = Is = Ts = null;
      }

      function As(e) {
        var t = ks.current;
        Ci(ks), e._currentValue = t;
      }

      function Rs(e, t, n) {
        for (; null !== e;) {
          var r = e.alternate;
          if ((e.childLanes & t) !== t ? (e.childLanes |= t, null !== r && (r.childLanes |= t)) : null !== r && (r.childLanes & t) !== t && (r.childLanes |= t), e === n) break;
          e = e["return"];
        }
      }

      function Ps(e, t) {
        Ts = e, Cs = Is = null, null !== (e = e.dependencies) && null !== e.firstContext && (0 !== (e.lanes & t) && (_a = !0), e.firstContext = null);
      }

      function xs(e) {
        var t = e._currentValue;
        if (Cs !== e) if (e = {
          context: e,
          memoizedValue: t,
          next: null
        }, null === Is) {
          if (null === Ts) throw Error(s(308));
          Is = e, Ts.dependencies = {
            lanes: 0,
            firstContext: e
          };
        } else Is = Is.next = e;
        return t;
      }

      var Ds = null;

      function Os(e) {
        null === Ds ? Ds = [e] : Ds.push(e);
      }

      function Ls(e, t, n, r) {
        var i = t.interleaved;
        return null === i ? (n.next = n, Os(t)) : (n.next = i.next, i.next = n), t.interleaved = n, Ms(e, r);
      }

      function Ms(e, t) {
        e.lanes |= t;
        var n = e.alternate;

        for (null !== n && (n.lanes |= t), n = e, e = e["return"]; null !== e;) {
          e.childLanes |= t, null !== (n = e.alternate) && (n.childLanes |= t), n = e, e = e["return"];
        }

        return 3 === n.tag ? n.stateNode : null;
      }

      var Fs = !1;

      function Us(e) {
        e.updateQueue = {
          baseState: e.memoizedState,
          firstBaseUpdate: null,
          lastBaseUpdate: null,
          shared: {
            pending: null,
            interleaved: null,
            lanes: 0
          },
          effects: null
        };
      }

      function Vs(e, t) {
        e = e.updateQueue, t.updateQueue === e && (t.updateQueue = {
          baseState: e.baseState,
          firstBaseUpdate: e.firstBaseUpdate,
          lastBaseUpdate: e.lastBaseUpdate,
          shared: e.shared,
          effects: e.effects
        });
      }

      function zs(e, t) {
        return {
          eventTime: e,
          lane: t,
          tag: 0,
          payload: null,
          callback: null,
          next: null
        };
      }

      function js(e, t, n) {
        var r = e.updateQueue;
        if (null === r) return null;

        if (r = r.shared, 0 !== (2 & Rl)) {
          var i = r.pending;
          return null === i ? t.next = t : (t.next = i.next, i.next = t), r.pending = t, Ms(e, n);
        }

        return null === (i = r.interleaved) ? (t.next = t, Os(r)) : (t.next = i.next, i.next = t), r.interleaved = t, Ms(e, n);
      }

      function Bs(e, t, n) {
        if (null !== (t = t.updateQueue) && (t = t.shared, 0 !== (4194240 & n))) {
          var r = t.lanes;
          n |= r &= e.pendingLanes, t.lanes = n, yt(e, n);
        }
      }

      function $s(e, t) {
        var n = e.updateQueue,
            r = e.alternate;

        if (null !== r && n === (r = r.updateQueue)) {
          var i = null,
              s = null;

          if (null !== (n = n.firstBaseUpdate)) {
            do {
              var o = {
                eventTime: n.eventTime,
                lane: n.lane,
                tag: n.tag,
                payload: n.payload,
                callback: n.callback,
                next: null
              };
              null === s ? i = s = o : s = s.next = o, n = n.next;
            } while (null !== n);

            null === s ? i = s = t : s = s.next = t;
          } else i = s = t;

          return n = {
            baseState: r.baseState,
            firstBaseUpdate: i,
            lastBaseUpdate: s,
            shared: r.shared,
            effects: r.effects
          }, void (e.updateQueue = n);
        }

        null === (e = n.lastBaseUpdate) ? n.firstBaseUpdate = t : e.next = t, n.lastBaseUpdate = t;
      }

      function qs(e, t, n, r) {
        var i = e.updateQueue;
        Fs = !1;
        var s = i.firstBaseUpdate,
            o = i.lastBaseUpdate,
            a = i.shared.pending;

        if (null !== a) {
          i.shared.pending = null;
          var l = a,
              u = l.next;
          l.next = null, null === o ? s = u : o.next = u, o = l;
          var c = e.alternate;
          null !== c && (a = (c = c.updateQueue).lastBaseUpdate) !== o && (null === a ? c.firstBaseUpdate = u : a.next = u, c.lastBaseUpdate = l);
        }

        if (null !== s) {
          var h = i.baseState;

          for (o = 0, c = u = l = null, a = s;;) {
            var d = a.lane,
                f = a.eventTime;

            if ((r & d) === d) {
              null !== c && (c = c.next = {
                eventTime: f,
                lane: 0,
                tag: a.tag,
                payload: a.payload,
                callback: a.callback,
                next: null
              });

              e: {
                var p = e,
                    g = a;

                switch (d = t, f = n, g.tag) {
                  case 1:
                    if ("function" === typeof (p = g.payload)) {
                      h = p.call(f, h, d);
                      break e;
                    }

                    h = p;
                    break e;

                  case 3:
                    p.flags = -65537 & p.flags | 128;

                  case 0:
                    if (null === (d = "function" === typeof (p = g.payload) ? p.call(f, h, d) : p) || void 0 === d) break e;
                    h = F({}, h, d);
                    break e;

                  case 2:
                    Fs = !0;
                }
              }

              null !== a.callback && 0 !== a.lane && (e.flags |= 64, null === (d = i.effects) ? i.effects = [a] : d.push(a));
            } else f = {
              eventTime: f,
              lane: d,
              tag: a.tag,
              payload: a.payload,
              callback: a.callback,
              next: null
            }, null === c ? (u = c = f, l = h) : c = c.next = f, o |= d;

            if (null === (a = a.next)) {
              if (null === (a = i.shared.pending)) break;
              a = (d = a).next, d.next = null, i.lastBaseUpdate = d, i.shared.pending = null;
            }
          }

          if (null === c && (l = h), i.baseState = l, i.firstBaseUpdate = u, i.lastBaseUpdate = c, null !== (t = i.shared.interleaved)) {
            i = t;

            do {
              o |= i.lane, i = i.next;
            } while (i !== t);
          } else null === s && (i.shared.lanes = 0);

          Ul |= o, e.lanes = o, e.memoizedState = h;
        }
      }

      function Hs(e, t, n) {
        if (e = t.effects, t.effects = null, null !== e) for (t = 0; t < e.length; t++) {
          var r = e[t],
              i = r.callback;

          if (null !== i) {
            if (r.callback = null, r = n, "function" !== typeof i) throw Error(s(191, i));
            i.call(r);
          }
        }
      }

      var Ks = {},
          Ws = Ii(Ks),
          Gs = Ii(Ks),
          Qs = Ii(Ks);

      function Xs(e) {
        if (e === Ks) throw Error(s(174));
        return e;
      }

      function Ys(e, t) {
        switch (Ni(Qs, t), Ni(Gs, e), Ni(Ws, Ks), e = t.nodeType) {
          case 9:
          case 11:
            t = (t = t.documentElement) ? t.namespaceURI : le(null, "");
            break;

          default:
            t = le(t = (e = 8 === e ? t.parentNode : t).namespaceURI || null, e = e.tagName);
        }

        Ci(Ws), Ni(Ws, t);
      }

      function Js() {
        Ci(Ws), Ci(Gs), Ci(Qs);
      }

      function Zs(e) {
        Xs(Qs.current);
        var t = Xs(Ws.current),
            n = le(t, e.type);
        t !== n && (Ni(Gs, e), Ni(Ws, n));
      }

      function eo(e) {
        Gs.current === e && (Ci(Ws), Ci(Gs));
      }

      var to = Ii(0);

      function no(e) {
        for (var t = e; null !== t;) {
          if (13 === t.tag) {
            var n = t.memoizedState;
            if (null !== n && (null === (n = n.dehydrated) || "$?" === n.data || "$!" === n.data)) return t;
          } else if (19 === t.tag && void 0 !== t.memoizedProps.revealOrder) {
            if (0 !== (128 & t.flags)) return t;
          } else if (null !== t.child) {
            t.child["return"] = t, t = t.child;
            continue;
          }

          if (t === e) break;

          for (; null === t.sibling;) {
            if (null === t["return"] || t["return"] === e) return null;
            t = t["return"];
          }

          t.sibling["return"] = t["return"], t = t.sibling;
        }

        return null;
      }

      var ro = [];

      function io() {
        for (var e = 0; e < ro.length; e++) {
          ro[e]._workInProgressVersionPrimary = null;
        }

        ro.length = 0;
      }

      var so = b.ReactCurrentDispatcher,
          oo = b.ReactCurrentBatchConfig,
          ao = 0,
          lo = null,
          uo = null,
          co = null,
          ho = !1,
          fo = !1,
          po = 0,
          go = 0;

      function mo() {
        throw Error(s(321));
      }

      function vo(e, t) {
        if (null === t) return !1;

        for (var n = 0; n < t.length && n < e.length; n++) {
          if (!ur(e[n], t[n])) return !1;
        }

        return !0;
      }

      function yo(e, t, n, r, i, o) {
        if (ao = o, lo = t, t.memoizedState = null, t.updateQueue = null, t.lanes = 0, so.current = null === e || null === e.memoizedState ? ta : na, e = n(r, i), fo) {
          o = 0;

          do {
            if (fo = !1, po = 0, 25 <= o) throw Error(s(301));
            o += 1, co = uo = null, t.updateQueue = null, so.current = ra, e = n(r, i);
          } while (fo);
        }

        if (so.current = ea, t = null !== uo && null !== uo.next, ao = 0, co = uo = lo = null, ho = !1, t) throw Error(s(300));
        return e;
      }

      function wo() {
        var e = 0 !== po;
        return po = 0, e;
      }

      function bo() {
        var e = {
          memoizedState: null,
          baseState: null,
          baseQueue: null,
          queue: null,
          next: null
        };
        return null === co ? lo.memoizedState = co = e : co = co.next = e, co;
      }

      function _o() {
        if (null === uo) {
          var e = lo.alternate;
          e = null !== e ? e.memoizedState : null;
        } else e = uo.next;

        var t = null === co ? lo.memoizedState : co.next;
        if (null !== t) co = t, uo = e;else {
          if (null === e) throw Error(s(310));
          e = {
            memoizedState: (uo = e).memoizedState,
            baseState: uo.baseState,
            baseQueue: uo.baseQueue,
            queue: uo.queue,
            next: null
          }, null === co ? lo.memoizedState = co = e : co = co.next = e;
        }
        return co;
      }

      function Eo(e, t) {
        return "function" === typeof t ? t(e) : t;
      }

      function So(e) {
        var t = _o(),
            n = t.queue;

        if (null === n) throw Error(s(311));
        n.lastRenderedReducer = e;
        var r = uo,
            i = r.baseQueue,
            o = n.pending;

        if (null !== o) {
          if (null !== i) {
            var a = i.next;
            i.next = o.next, o.next = a;
          }

          r.baseQueue = i = o, n.pending = null;
        }

        if (null !== i) {
          o = i.next, r = r.baseState;
          var l = a = null,
              u = null,
              c = o;

          do {
            var h = c.lane;
            if ((ao & h) === h) null !== u && (u = u.next = {
              lane: 0,
              action: c.action,
              hasEagerState: c.hasEagerState,
              eagerState: c.eagerState,
              next: null
            }), r = c.hasEagerState ? c.eagerState : e(r, c.action);else {
              var d = {
                lane: h,
                action: c.action,
                hasEagerState: c.hasEagerState,
                eagerState: c.eagerState,
                next: null
              };
              null === u ? (l = u = d, a = r) : u = u.next = d, lo.lanes |= h, Ul |= h;
            }
            c = c.next;
          } while (null !== c && c !== o);

          null === u ? a = r : u.next = l, ur(r, t.memoizedState) || (_a = !0), t.memoizedState = r, t.baseState = a, t.baseQueue = u, n.lastRenderedState = r;
        }

        if (null !== (e = n.interleaved)) {
          i = e;

          do {
            o = i.lane, lo.lanes |= o, Ul |= o, i = i.next;
          } while (i !== e);
        } else null === i && (n.lanes = 0);

        return [t.memoizedState, n.dispatch];
      }

      function ko(e) {
        var t = _o(),
            n = t.queue;

        if (null === n) throw Error(s(311));
        n.lastRenderedReducer = e;
        var r = n.dispatch,
            i = n.pending,
            o = t.memoizedState;

        if (null !== i) {
          n.pending = null;
          var a = i = i.next;

          do {
            o = e(o, a.action), a = a.next;
          } while (a !== i);

          ur(o, t.memoizedState) || (_a = !0), t.memoizedState = o, null === t.baseQueue && (t.baseState = o), n.lastRenderedState = o;
        }

        return [o, r];
      }

      function To() {}

      function Io(e, t) {
        var n = lo,
            r = _o(),
            i = t(),
            o = !ur(r.memoizedState, i);

        if (o && (r.memoizedState = i, _a = !0), r = r.queue, Uo(Ao.bind(null, n, r, e), [e]), r.getSnapshot !== t || o || null !== co && 1 & co.memoizedState.tag) {
          if (n.flags |= 2048, Do(9, No.bind(null, n, r, i, t), void 0, null), null === Pl) throw Error(s(349));
          0 !== (30 & ao) || Co(n, t, i);
        }

        return i;
      }

      function Co(e, t, n) {
        e.flags |= 16384, e = {
          getSnapshot: t,
          value: n
        }, null === (t = lo.updateQueue) ? (t = {
          lastEffect: null,
          stores: null
        }, lo.updateQueue = t, t.stores = [e]) : null === (n = t.stores) ? t.stores = [e] : n.push(e);
      }

      function No(e, t, n, r) {
        t.value = n, t.getSnapshot = r, Ro(t) && Po(e);
      }

      function Ao(e, t, n) {
        return n(function () {
          Ro(t) && Po(e);
        });
      }

      function Ro(e) {
        var t = e.getSnapshot;
        e = e.value;

        try {
          var n = t();
          return !ur(e, n);
        } catch (r) {
          return !0;
        }
      }

      function Po(e) {
        var t = Ms(e, 1);
        null !== t && iu(t, e, 1, -1);
      }

      function xo(e) {
        var t = bo();
        return "function" === typeof e && (e = e()), t.memoizedState = t.baseState = e, e = {
          pending: null,
          interleaved: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: Eo,
          lastRenderedState: e
        }, t.queue = e, e = e.dispatch = Xo.bind(null, lo, e), [t.memoizedState, e];
      }

      function Do(e, t, n, r) {
        return e = {
          tag: e,
          create: t,
          destroy: n,
          deps: r,
          next: null
        }, null === (t = lo.updateQueue) ? (t = {
          lastEffect: null,
          stores: null
        }, lo.updateQueue = t, t.lastEffect = e.next = e) : null === (n = t.lastEffect) ? t.lastEffect = e.next = e : (r = n.next, n.next = e, e.next = r, t.lastEffect = e), e;
      }

      function Oo() {
        return _o().memoizedState;
      }

      function Lo(e, t, n, r) {
        var i = bo();
        lo.flags |= e, i.memoizedState = Do(1 | t, n, void 0, void 0 === r ? null : r);
      }

      function Mo(e, t, n, r) {
        var i = _o();

        r = void 0 === r ? null : r;
        var s = void 0;

        if (null !== uo) {
          var o = uo.memoizedState;
          if (s = o.destroy, null !== r && vo(r, o.deps)) return void (i.memoizedState = Do(t, n, s, r));
        }

        lo.flags |= e, i.memoizedState = Do(1 | t, n, s, r);
      }

      function Fo(e, t) {
        return Lo(8390656, 8, e, t);
      }

      function Uo(e, t) {
        return Mo(2048, 8, e, t);
      }

      function Vo(e, t) {
        return Mo(4, 2, e, t);
      }

      function zo(e, t) {
        return Mo(4, 4, e, t);
      }

      function jo(e, t) {
        return "function" === typeof t ? (e = e(), t(e), function () {
          t(null);
        }) : null !== t && void 0 !== t ? (e = e(), t.current = e, function () {
          t.current = null;
        }) : void 0;
      }

      function Bo(e, t, n) {
        return n = null !== n && void 0 !== n ? n.concat([e]) : null, Mo(4, 4, jo.bind(null, t, e), n);
      }

      function $o() {}

      function qo(e, t) {
        var n = _o();

        t = void 0 === t ? null : t;
        var r = n.memoizedState;
        return null !== r && null !== t && vo(t, r[1]) ? r[0] : (n.memoizedState = [e, t], e);
      }

      function Ho(e, t) {
        var n = _o();

        t = void 0 === t ? null : t;
        var r = n.memoizedState;
        return null !== r && null !== t && vo(t, r[1]) ? r[0] : (e = e(), n.memoizedState = [e, t], e);
      }

      function Ko(e, t, n) {
        return 0 === (21 & ao) ? (e.baseState && (e.baseState = !1, _a = !0), e.memoizedState = n) : (ur(n, t) || (n = gt(), lo.lanes |= n, Ul |= n, e.baseState = !0), t);
      }

      function Wo(e, t) {
        var n = wt;
        wt = 0 !== n && 4 > n ? n : 4, e(!0);
        var r = oo.transition;
        oo.transition = {};

        try {
          e(!1), t();
        } finally {
          wt = n, oo.transition = r;
        }
      }

      function Go() {
        return _o().memoizedState;
      }

      function Qo(e, t, n) {
        var r = ru(e);
        if (n = {
          lane: r,
          action: n,
          hasEagerState: !1,
          eagerState: null,
          next: null
        }, Yo(e)) Jo(t, n);else if (null !== (n = Ls(e, t, n, r))) {
          iu(n, e, r, nu()), Zo(n, t, r);
        }
      }

      function Xo(e, t, n) {
        var r = ru(e),
            i = {
          lane: r,
          action: n,
          hasEagerState: !1,
          eagerState: null,
          next: null
        };
        if (Yo(e)) Jo(t, i);else {
          var s = e.alternate;
          if (0 === e.lanes && (null === s || 0 === s.lanes) && null !== (s = t.lastRenderedReducer)) try {
            var o = t.lastRenderedState,
                a = s(o, n);

            if (i.hasEagerState = !0, i.eagerState = a, ur(a, o)) {
              var l = t.interleaved;
              return null === l ? (i.next = i, Os(t)) : (i.next = l.next, l.next = i), void (t.interleaved = i);
            }
          } catch (u) {}
          null !== (n = Ls(e, t, i, r)) && (iu(n, e, r, i = nu()), Zo(n, t, r));
        }
      }

      function Yo(e) {
        var t = e.alternate;
        return e === lo || null !== t && t === lo;
      }

      function Jo(e, t) {
        fo = ho = !0;
        var n = e.pending;
        null === n ? t.next = t : (t.next = n.next, n.next = t), e.pending = t;
      }

      function Zo(e, t, n) {
        if (0 !== (4194240 & n)) {
          var r = t.lanes;
          n |= r &= e.pendingLanes, t.lanes = n, yt(e, n);
        }
      }

      var ea = {
        readContext: xs,
        useCallback: mo,
        useContext: mo,
        useEffect: mo,
        useImperativeHandle: mo,
        useInsertionEffect: mo,
        useLayoutEffect: mo,
        useMemo: mo,
        useReducer: mo,
        useRef: mo,
        useState: mo,
        useDebugValue: mo,
        useDeferredValue: mo,
        useTransition: mo,
        useMutableSource: mo,
        useSyncExternalStore: mo,
        useId: mo,
        unstable_isNewReconciler: !1
      },
          ta = {
        readContext: xs,
        useCallback: function useCallback(e, t) {
          return bo().memoizedState = [e, void 0 === t ? null : t], e;
        },
        useContext: xs,
        useEffect: Fo,
        useImperativeHandle: function useImperativeHandle(e, t, n) {
          return n = null !== n && void 0 !== n ? n.concat([e]) : null, Lo(4194308, 4, jo.bind(null, t, e), n);
        },
        useLayoutEffect: function useLayoutEffect(e, t) {
          return Lo(4194308, 4, e, t);
        },
        useInsertionEffect: function useInsertionEffect(e, t) {
          return Lo(4, 2, e, t);
        },
        useMemo: function useMemo(e, t) {
          var n = bo();
          return t = void 0 === t ? null : t, e = e(), n.memoizedState = [e, t], e;
        },
        useReducer: function useReducer(e, t, n) {
          var r = bo();
          return t = void 0 !== n ? n(t) : t, r.memoizedState = r.baseState = t, e = {
            pending: null,
            interleaved: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: e,
            lastRenderedState: t
          }, r.queue = e, e = e.dispatch = Qo.bind(null, lo, e), [r.memoizedState, e];
        },
        useRef: function useRef(e) {
          return e = {
            current: e
          }, bo().memoizedState = e;
        },
        useState: xo,
        useDebugValue: $o,
        useDeferredValue: function useDeferredValue(e) {
          return bo().memoizedState = e;
        },
        useTransition: function useTransition() {
          var e = xo(!1),
              t = e[0];
          return e = Wo.bind(null, e[1]), bo().memoizedState = e, [t, e];
        },
        useMutableSource: function useMutableSource() {},
        useSyncExternalStore: function useSyncExternalStore(e, t, n) {
          var r = lo,
              i = bo();

          if (os) {
            if (void 0 === n) throw Error(s(407));
            n = n();
          } else {
            if (n = t(), null === Pl) throw Error(s(349));
            0 !== (30 & ao) || Co(r, t, n);
          }

          i.memoizedState = n;
          var o = {
            value: n,
            getSnapshot: t
          };
          return i.queue = o, Fo(Ao.bind(null, r, o, e), [e]), r.flags |= 2048, Do(9, No.bind(null, r, o, n, t), void 0, null), n;
        },
        useId: function useId() {
          var e = bo(),
              t = Pl.identifierPrefix;

          if (os) {
            var n = Zi;
            t = ":" + t + "R" + (n = (Ji & ~(1 << 32 - ot(Ji) - 1)).toString(32) + n), 0 < (n = po++) && (t += "H" + n.toString(32)), t += ":";
          } else t = ":" + t + "r" + (n = go++).toString(32) + ":";

          return e.memoizedState = t;
        },
        unstable_isNewReconciler: !1
      },
          na = {
        readContext: xs,
        useCallback: qo,
        useContext: xs,
        useEffect: Uo,
        useImperativeHandle: Bo,
        useInsertionEffect: Vo,
        useLayoutEffect: zo,
        useMemo: Ho,
        useReducer: So,
        useRef: Oo,
        useState: function useState() {
          return So(Eo);
        },
        useDebugValue: $o,
        useDeferredValue: function useDeferredValue(e) {
          return Ko(_o(), uo.memoizedState, e);
        },
        useTransition: function useTransition() {
          return [So(Eo)[0], _o().memoizedState];
        },
        useMutableSource: To,
        useSyncExternalStore: Io,
        useId: Go,
        unstable_isNewReconciler: !1
      },
          ra = {
        readContext: xs,
        useCallback: qo,
        useContext: xs,
        useEffect: Uo,
        useImperativeHandle: Bo,
        useInsertionEffect: Vo,
        useLayoutEffect: zo,
        useMemo: Ho,
        useReducer: ko,
        useRef: Oo,
        useState: function useState() {
          return ko(Eo);
        },
        useDebugValue: $o,
        useDeferredValue: function useDeferredValue(e) {
          var t = _o();

          return null === uo ? t.memoizedState = e : Ko(t, uo.memoizedState, e);
        },
        useTransition: function useTransition() {
          return [ko(Eo)[0], _o().memoizedState];
        },
        useMutableSource: To,
        useSyncExternalStore: Io,
        useId: Go,
        unstable_isNewReconciler: !1
      };

      function ia(e, t) {
        if (e && e.defaultProps) {
          for (var n in t = F({}, t), e = e.defaultProps) {
            void 0 === t[n] && (t[n] = e[n]);
          }

          return t;
        }

        return t;
      }

      function sa(e, t, n, r) {
        n = null === (n = n(r, t = e.memoizedState)) || void 0 === n ? t : F({}, t, n), e.memoizedState = n, 0 === e.lanes && (e.updateQueue.baseState = n);
      }

      var oa = {
        isMounted: function isMounted(e) {
          return !!(e = e._reactInternals) && Be(e) === e;
        },
        enqueueSetState: function enqueueSetState(e, t, n) {
          e = e._reactInternals;
          var r = nu(),
              i = ru(e),
              s = zs(r, i);
          s.payload = t, void 0 !== n && null !== n && (s.callback = n), null !== (t = js(e, s, i)) && (iu(t, e, i, r), Bs(t, e, i));
        },
        enqueueReplaceState: function enqueueReplaceState(e, t, n) {
          e = e._reactInternals;
          var r = nu(),
              i = ru(e),
              s = zs(r, i);
          s.tag = 1, s.payload = t, void 0 !== n && null !== n && (s.callback = n), null !== (t = js(e, s, i)) && (iu(t, e, i, r), Bs(t, e, i));
        },
        enqueueForceUpdate: function enqueueForceUpdate(e, t) {
          e = e._reactInternals;
          var n = nu(),
              r = ru(e),
              i = zs(n, r);
          i.tag = 2, void 0 !== t && null !== t && (i.callback = t), null !== (t = js(e, i, r)) && (iu(t, e, r, n), Bs(t, e, r));
        }
      };

      function aa(e, t, n, r, i, s, o) {
        return "function" === typeof (e = e.stateNode).shouldComponentUpdate ? e.shouldComponentUpdate(r, s, o) : !t.prototype || !t.prototype.isPureReactComponent || !cr(n, r) || !cr(i, s);
      }

      function la(e, t, n) {
        var r = !1,
            i = Ai,
            s = t.contextType;
        return "object" === _typeof(s) && null !== s ? s = xs(s) : (i = Oi(t) ? xi : Ri.current, s = (r = null !== (r = t.contextTypes) && void 0 !== r) ? Di(e, i) : Ai), t = new t(n, s), e.memoizedState = null !== t.state && void 0 !== t.state ? t.state : null, t.updater = oa, e.stateNode = t, t._reactInternals = e, r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = i, e.__reactInternalMemoizedMaskedChildContext = s), t;
      }

      function ua(e, t, n, r) {
        e = t.state, "function" === typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, r), "function" === typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, r), t.state !== e && oa.enqueueReplaceState(t, t.state, null);
      }

      function ca(e, t, n, r) {
        var i = e.stateNode;
        i.props = n, i.state = e.memoizedState, i.refs = {}, Us(e);
        var s = t.contextType;
        "object" === _typeof(s) && null !== s ? i.context = xs(s) : (s = Oi(t) ? xi : Ri.current, i.context = Di(e, s)), i.state = e.memoizedState, "function" === typeof (s = t.getDerivedStateFromProps) && (sa(e, t, s, n), i.state = e.memoizedState), "function" === typeof t.getDerivedStateFromProps || "function" === typeof i.getSnapshotBeforeUpdate || "function" !== typeof i.UNSAFE_componentWillMount && "function" !== typeof i.componentWillMount || (t = i.state, "function" === typeof i.componentWillMount && i.componentWillMount(), "function" === typeof i.UNSAFE_componentWillMount && i.UNSAFE_componentWillMount(), t !== i.state && oa.enqueueReplaceState(i, i.state, null), qs(e, n, i, r), i.state = e.memoizedState), "function" === typeof i.componentDidMount && (e.flags |= 4194308);
      }

      function ha(e, t) {
        try {
          var n = "",
              r = t;

          do {
            n += j(r), r = r["return"];
          } while (r);

          var i = n;
        } catch (s) {
          i = "\nError generating stack: " + s.message + "\n" + s.stack;
        }

        return {
          value: e,
          source: t,
          stack: i,
          digest: null
        };
      }

      function da(e, t, n) {
        return {
          value: e,
          source: null,
          stack: null != n ? n : null,
          digest: null != t ? t : null
        };
      }

      function fa(e, t) {
        try {
          console.error(t.value);
        } catch (n) {
          setTimeout(function () {
            throw n;
          });
        }
      }

      var pa = "function" === typeof WeakMap ? WeakMap : Map;

      function ga(e, t, n) {
        (n = zs(-1, n)).tag = 3, n.payload = {
          element: null
        };
        var r = t.value;
        return n.callback = function () {
          Kl || (Kl = !0, Wl = r), fa(0, t);
        }, n;
      }

      function ma(e, t, n) {
        (n = zs(-1, n)).tag = 3;
        var r = e.type.getDerivedStateFromError;

        if ("function" === typeof r) {
          var i = t.value;
          n.payload = function () {
            return r(i);
          }, n.callback = function () {
            fa(0, t);
          };
        }

        var s = e.stateNode;
        return null !== s && "function" === typeof s.componentDidCatch && (n.callback = function () {
          fa(0, t), "function" !== typeof r && (null === Gl ? Gl = new Set([this]) : Gl.add(this));
          var e = t.stack;
          this.componentDidCatch(t.value, {
            componentStack: null !== e ? e : ""
          });
        }), n;
      }

      function va(e, t, n) {
        var r = e.pingCache;

        if (null === r) {
          r = e.pingCache = new pa();
          var i = new Set();
          r.set(t, i);
        } else void 0 === (i = r.get(t)) && (i = new Set(), r.set(t, i));

        i.has(n) || (i.add(n), e = Cu.bind(null, e, t, n), t.then(e, e));
      }

      function ya(e) {
        do {
          var t;
          if ((t = 13 === e.tag) && (t = null === (t = e.memoizedState) || null !== t.dehydrated), t) return e;
          e = e["return"];
        } while (null !== e);

        return null;
      }

      function wa(e, t, n, r, i) {
        return 0 === (1 & e.mode) ? (e === t ? e.flags |= 65536 : (e.flags |= 128, n.flags |= 131072, n.flags &= -52805, 1 === n.tag && (null === n.alternate ? n.tag = 17 : ((t = zs(-1, 1)).tag = 2, js(n, t, 1))), n.lanes |= 1), e) : (e.flags |= 65536, e.lanes = i, e);
      }

      var ba = b.ReactCurrentOwner,
          _a = !1;

      function Ea(e, t, n, r) {
        t.child = null === e ? Ss(t, null, n, r) : Es(t, e.child, n, r);
      }

      function Sa(e, t, n, r, i) {
        n = n.render;
        var s = t.ref;
        return Ps(t, i), r = yo(e, t, n, r, s, i), n = wo(), null === e || _a ? (os && n && ns(t), t.flags |= 1, Ea(e, t, r, i), t.child) : (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~i, Ka(e, t, i));
      }

      function ka(e, t, n, r, i) {
        if (null === e) {
          var s = n.type;
          return "function" !== typeof s || Ou(s) || void 0 !== s.defaultProps || null !== n.compare || void 0 !== n.defaultProps ? ((e = Mu(n.type, null, r, t, t.mode, i)).ref = t.ref, e["return"] = t, t.child = e) : (t.tag = 15, t.type = s, Ta(e, t, s, r, i));
        }

        if (s = e.child, 0 === (e.lanes & i)) {
          var o = s.memoizedProps;
          if ((n = null !== (n = n.compare) ? n : cr)(o, r) && e.ref === t.ref) return Ka(e, t, i);
        }

        return t.flags |= 1, (e = Lu(s, r)).ref = t.ref, e["return"] = t, t.child = e;
      }

      function Ta(e, t, n, r, i) {
        if (null !== e) {
          var s = e.memoizedProps;

          if (cr(s, r) && e.ref === t.ref) {
            if (_a = !1, t.pendingProps = r = s, 0 === (e.lanes & i)) return t.lanes = e.lanes, Ka(e, t, i);
            0 !== (131072 & e.flags) && (_a = !0);
          }
        }

        return Na(e, t, n, r, i);
      }

      function Ia(e, t, n) {
        var r = t.pendingProps,
            i = r.children,
            s = null !== e ? e.memoizedState : null;
        if ("hidden" === r.mode) {
          if (0 === (1 & t.mode)) t.memoizedState = {
            baseLanes: 0,
            cachePool: null,
            transitions: null
          }, Ni(Ll, Ol), Ol |= n;else {
            if (0 === (1073741824 & n)) return e = null !== s ? s.baseLanes | n : n, t.lanes = t.childLanes = 1073741824, t.memoizedState = {
              baseLanes: e,
              cachePool: null,
              transitions: null
            }, t.updateQueue = null, Ni(Ll, Ol), Ol |= e, null;
            t.memoizedState = {
              baseLanes: 0,
              cachePool: null,
              transitions: null
            }, r = null !== s ? s.baseLanes : n, Ni(Ll, Ol), Ol |= r;
          }
        } else null !== s ? (r = s.baseLanes | n, t.memoizedState = null) : r = n, Ni(Ll, Ol), Ol |= r;
        return Ea(e, t, i, n), t.child;
      }

      function Ca(e, t) {
        var n = t.ref;
        (null === e && null !== n || null !== e && e.ref !== n) && (t.flags |= 512, t.flags |= 2097152);
      }

      function Na(e, t, n, r, i) {
        var s = Oi(n) ? xi : Ri.current;
        return s = Di(t, s), Ps(t, i), n = yo(e, t, n, r, s, i), r = wo(), null === e || _a ? (os && r && ns(t), t.flags |= 1, Ea(e, t, n, i), t.child) : (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~i, Ka(e, t, i));
      }

      function Aa(e, t, n, r, i) {
        if (Oi(n)) {
          var s = !0;
          Ui(t);
        } else s = !1;

        if (Ps(t, i), null === t.stateNode) Ha(e, t), la(t, n, r), ca(t, n, r, i), r = !0;else if (null === e) {
          var o = t.stateNode,
              a = t.memoizedProps;
          o.props = a;
          var l = o.context,
              u = n.contextType;
          "object" === _typeof(u) && null !== u ? u = xs(u) : u = Di(t, u = Oi(n) ? xi : Ri.current);
          var c = n.getDerivedStateFromProps,
              h = "function" === typeof c || "function" === typeof o.getSnapshotBeforeUpdate;
          h || "function" !== typeof o.UNSAFE_componentWillReceiveProps && "function" !== typeof o.componentWillReceiveProps || (a !== r || l !== u) && ua(t, o, r, u), Fs = !1;
          var d = t.memoizedState;
          o.state = d, qs(t, r, o, i), l = t.memoizedState, a !== r || d !== l || Pi.current || Fs ? ("function" === typeof c && (sa(t, n, c, r), l = t.memoizedState), (a = Fs || aa(t, n, a, r, d, l, u)) ? (h || "function" !== typeof o.UNSAFE_componentWillMount && "function" !== typeof o.componentWillMount || ("function" === typeof o.componentWillMount && o.componentWillMount(), "function" === typeof o.UNSAFE_componentWillMount && o.UNSAFE_componentWillMount()), "function" === typeof o.componentDidMount && (t.flags |= 4194308)) : ("function" === typeof o.componentDidMount && (t.flags |= 4194308), t.memoizedProps = r, t.memoizedState = l), o.props = r, o.state = l, o.context = u, r = a) : ("function" === typeof o.componentDidMount && (t.flags |= 4194308), r = !1);
        } else {
          o = t.stateNode, Vs(e, t), a = t.memoizedProps, u = t.type === t.elementType ? a : ia(t.type, a), o.props = u, h = t.pendingProps, d = o.context, "object" === _typeof(l = n.contextType) && null !== l ? l = xs(l) : l = Di(t, l = Oi(n) ? xi : Ri.current);
          var f = n.getDerivedStateFromProps;
          (c = "function" === typeof f || "function" === typeof o.getSnapshotBeforeUpdate) || "function" !== typeof o.UNSAFE_componentWillReceiveProps && "function" !== typeof o.componentWillReceiveProps || (a !== h || d !== l) && ua(t, o, r, l), Fs = !1, d = t.memoizedState, o.state = d, qs(t, r, o, i);
          var p = t.memoizedState;
          a !== h || d !== p || Pi.current || Fs ? ("function" === typeof f && (sa(t, n, f, r), p = t.memoizedState), (u = Fs || aa(t, n, u, r, d, p, l) || !1) ? (c || "function" !== typeof o.UNSAFE_componentWillUpdate && "function" !== typeof o.componentWillUpdate || ("function" === typeof o.componentWillUpdate && o.componentWillUpdate(r, p, l), "function" === typeof o.UNSAFE_componentWillUpdate && o.UNSAFE_componentWillUpdate(r, p, l)), "function" === typeof o.componentDidUpdate && (t.flags |= 4), "function" === typeof o.getSnapshotBeforeUpdate && (t.flags |= 1024)) : ("function" !== typeof o.componentDidUpdate || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 4), "function" !== typeof o.getSnapshotBeforeUpdate || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 1024), t.memoizedProps = r, t.memoizedState = p), o.props = r, o.state = p, o.context = l, r = u) : ("function" !== typeof o.componentDidUpdate || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 4), "function" !== typeof o.getSnapshotBeforeUpdate || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 1024), r = !1);
        }
        return Ra(e, t, n, r, s, i);
      }

      function Ra(e, t, n, r, i, s) {
        Ca(e, t);
        var o = 0 !== (128 & t.flags);
        if (!r && !o) return i && Vi(t, n, !1), Ka(e, t, s);
        r = t.stateNode, ba.current = t;
        var a = o && "function" !== typeof n.getDerivedStateFromError ? null : r.render();
        return t.flags |= 1, null !== e && o ? (t.child = Es(t, e.child, null, s), t.child = Es(t, null, a, s)) : Ea(e, t, a, s), t.memoizedState = r.state, i && Vi(t, n, !0), t.child;
      }

      function Pa(e) {
        var t = e.stateNode;
        t.pendingContext ? Mi(0, t.pendingContext, t.pendingContext !== t.context) : t.context && Mi(0, t.context, !1), Ys(e, t.containerInfo);
      }

      function xa(e, t, n, r, i) {
        return gs(), ms(i), t.flags |= 256, Ea(e, t, n, r), t.child;
      }

      var Da,
          Oa,
          La,
          Ma,
          Fa = {
        dehydrated: null,
        treeContext: null,
        retryLane: 0
      };

      function Ua(e) {
        return {
          baseLanes: e,
          cachePool: null,
          transitions: null
        };
      }

      function Va(e, t, n) {
        var r,
            i = t.pendingProps,
            o = to.current,
            a = !1,
            l = 0 !== (128 & t.flags);
        if ((r = l) || (r = (null === e || null !== e.memoizedState) && 0 !== (2 & o)), r ? (a = !0, t.flags &= -129) : null !== e && null === e.memoizedState || (o |= 1), Ni(to, 1 & o), null === e) return hs(t), null !== (e = t.memoizedState) && null !== (e = e.dehydrated) ? (0 === (1 & t.mode) ? t.lanes = 1 : "$!" === e.data ? t.lanes = 8 : t.lanes = 1073741824, null) : (l = i.children, e = i.fallback, a ? (i = t.mode, a = t.child, l = {
          mode: "hidden",
          children: l
        }, 0 === (1 & i) && null !== a ? (a.childLanes = 0, a.pendingProps = l) : a = Uu(l, i, 0, null), e = Fu(e, i, n, null), a["return"] = t, e["return"] = t, a.sibling = e, t.child = a, t.child.memoizedState = Ua(n), t.memoizedState = Fa, e) : za(t, l));
        if (null !== (o = e.memoizedState) && null !== (r = o.dehydrated)) return function (e, t, n, r, i, o, a) {
          if (n) return 256 & t.flags ? (t.flags &= -257, ja(e, t, a, r = da(Error(s(422))))) : null !== t.memoizedState ? (t.child = e.child, t.flags |= 128, null) : (o = r.fallback, i = t.mode, r = Uu({
            mode: "visible",
            children: r.children
          }, i, 0, null), (o = Fu(o, i, a, null)).flags |= 2, r["return"] = t, o["return"] = t, r.sibling = o, t.child = r, 0 !== (1 & t.mode) && Es(t, e.child, null, a), t.child.memoizedState = Ua(a), t.memoizedState = Fa, o);
          if (0 === (1 & t.mode)) return ja(e, t, a, null);

          if ("$!" === i.data) {
            if (r = i.nextSibling && i.nextSibling.dataset) var l = r.dgst;
            return r = l, ja(e, t, a, r = da(o = Error(s(419)), r, void 0));
          }

          if (l = 0 !== (a & e.childLanes), _a || l) {
            if (null !== (r = Pl)) {
              switch (a & -a) {
                case 4:
                  i = 2;
                  break;

                case 16:
                  i = 8;
                  break;

                case 64:
                case 128:
                case 256:
                case 512:
                case 1024:
                case 2048:
                case 4096:
                case 8192:
                case 16384:
                case 32768:
                case 65536:
                case 131072:
                case 262144:
                case 524288:
                case 1048576:
                case 2097152:
                case 4194304:
                case 8388608:
                case 16777216:
                case 33554432:
                case 67108864:
                  i = 32;
                  break;

                case 536870912:
                  i = 268435456;
                  break;

                default:
                  i = 0;
              }

              0 !== (i = 0 !== (i & (r.suspendedLanes | a)) ? 0 : i) && i !== o.retryLane && (o.retryLane = i, Ms(e, i), iu(r, e, i, -1));
            }

            return vu(), ja(e, t, a, r = da(Error(s(421))));
          }

          return "$?" === i.data ? (t.flags |= 128, t.child = e.child, t = Au.bind(null, e), i._reactRetry = t, null) : (e = o.treeContext, ss = hi(i.nextSibling), is = t, os = !0, as = null, null !== e && (Qi[Xi++] = Ji, Qi[Xi++] = Zi, Qi[Xi++] = Yi, Ji = e.id, Zi = e.overflow, Yi = t), t = za(t, r.children), t.flags |= 4096, t);
        }(e, t, l, i, r, o, n);

        if (a) {
          a = i.fallback, l = t.mode, r = (o = e.child).sibling;
          var u = {
            mode: "hidden",
            children: i.children
          };
          return 0 === (1 & l) && t.child !== o ? ((i = t.child).childLanes = 0, i.pendingProps = u, t.deletions = null) : (i = Lu(o, u)).subtreeFlags = 14680064 & o.subtreeFlags, null !== r ? a = Lu(r, a) : (a = Fu(a, l, n, null)).flags |= 2, a["return"] = t, i["return"] = t, i.sibling = a, t.child = i, i = a, a = t.child, l = null === (l = e.child.memoizedState) ? Ua(n) : {
            baseLanes: l.baseLanes | n,
            cachePool: null,
            transitions: l.transitions
          }, a.memoizedState = l, a.childLanes = e.childLanes & ~n, t.memoizedState = Fa, i;
        }

        return e = (a = e.child).sibling, i = Lu(a, {
          mode: "visible",
          children: i.children
        }), 0 === (1 & t.mode) && (i.lanes = n), i["return"] = t, i.sibling = null, null !== e && (null === (n = t.deletions) ? (t.deletions = [e], t.flags |= 16) : n.push(e)), t.child = i, t.memoizedState = null, i;
      }

      function za(e, t) {
        return (t = Uu({
          mode: "visible",
          children: t
        }, e.mode, 0, null))["return"] = e, e.child = t;
      }

      function ja(e, t, n, r) {
        return null !== r && ms(r), Es(t, e.child, null, n), (e = za(t, t.pendingProps.children)).flags |= 2, t.memoizedState = null, e;
      }

      function Ba(e, t, n) {
        e.lanes |= t;
        var r = e.alternate;
        null !== r && (r.lanes |= t), Rs(e["return"], t, n);
      }

      function $a(e, t, n, r, i) {
        var s = e.memoizedState;
        null === s ? e.memoizedState = {
          isBackwards: t,
          rendering: null,
          renderingStartTime: 0,
          last: r,
          tail: n,
          tailMode: i
        } : (s.isBackwards = t, s.rendering = null, s.renderingStartTime = 0, s.last = r, s.tail = n, s.tailMode = i);
      }

      function qa(e, t, n) {
        var r = t.pendingProps,
            i = r.revealOrder,
            s = r.tail;
        if (Ea(e, t, r.children, n), 0 !== (2 & (r = to.current))) r = 1 & r | 2, t.flags |= 128;else {
          if (null !== e && 0 !== (128 & e.flags)) e: for (e = t.child; null !== e;) {
            if (13 === e.tag) null !== e.memoizedState && Ba(e, n, t);else if (19 === e.tag) Ba(e, n, t);else if (null !== e.child) {
              e.child["return"] = e, e = e.child;
              continue;
            }
            if (e === t) break e;

            for (; null === e.sibling;) {
              if (null === e["return"] || e["return"] === t) break e;
              e = e["return"];
            }

            e.sibling["return"] = e["return"], e = e.sibling;
          }
          r &= 1;
        }
        if (Ni(to, r), 0 === (1 & t.mode)) t.memoizedState = null;else switch (i) {
          case "forwards":
            for (n = t.child, i = null; null !== n;) {
              null !== (e = n.alternate) && null === no(e) && (i = n), n = n.sibling;
            }

            null === (n = i) ? (i = t.child, t.child = null) : (i = n.sibling, n.sibling = null), $a(t, !1, i, n, s);
            break;

          case "backwards":
            for (n = null, i = t.child, t.child = null; null !== i;) {
              if (null !== (e = i.alternate) && null === no(e)) {
                t.child = i;
                break;
              }

              e = i.sibling, i.sibling = n, n = i, i = e;
            }

            $a(t, !0, n, null, s);
            break;

          case "together":
            $a(t, !1, null, null, void 0);
            break;

          default:
            t.memoizedState = null;
        }
        return t.child;
      }

      function Ha(e, t) {
        0 === (1 & t.mode) && null !== e && (e.alternate = null, t.alternate = null, t.flags |= 2);
      }

      function Ka(e, t, n) {
        if (null !== e && (t.dependencies = e.dependencies), Ul |= t.lanes, 0 === (n & t.childLanes)) return null;
        if (null !== e && t.child !== e.child) throw Error(s(153));

        if (null !== t.child) {
          for (n = Lu(e = t.child, e.pendingProps), t.child = n, n["return"] = t; null !== e.sibling;) {
            e = e.sibling, (n = n.sibling = Lu(e, e.pendingProps))["return"] = t;
          }

          n.sibling = null;
        }

        return t.child;
      }

      function Wa(e, t) {
        if (!os) switch (e.tailMode) {
          case "hidden":
            t = e.tail;

            for (var n = null; null !== t;) {
              null !== t.alternate && (n = t), t = t.sibling;
            }

            null === n ? e.tail = null : n.sibling = null;
            break;

          case "collapsed":
            n = e.tail;

            for (var r = null; null !== n;) {
              null !== n.alternate && (r = n), n = n.sibling;
            }

            null === r ? t || null === e.tail ? e.tail = null : e.tail.sibling = null : r.sibling = null;
        }
      }

      function Ga(e) {
        var t = null !== e.alternate && e.alternate.child === e.child,
            n = 0,
            r = 0;
        if (t) for (var i = e.child; null !== i;) {
          n |= i.lanes | i.childLanes, r |= 14680064 & i.subtreeFlags, r |= 14680064 & i.flags, i["return"] = e, i = i.sibling;
        } else for (i = e.child; null !== i;) {
          n |= i.lanes | i.childLanes, r |= i.subtreeFlags, r |= i.flags, i["return"] = e, i = i.sibling;
        }
        return e.subtreeFlags |= r, e.childLanes = n, t;
      }

      function Qa(e, t, n) {
        var r = t.pendingProps;

        switch (rs(t), t.tag) {
          case 2:
          case 16:
          case 15:
          case 0:
          case 11:
          case 7:
          case 8:
          case 12:
          case 9:
          case 14:
            return Ga(t), null;

          case 1:
          case 17:
            return Oi(t.type) && Li(), Ga(t), null;

          case 3:
            return r = t.stateNode, Js(), Ci(Pi), Ci(Ri), io(), r.pendingContext && (r.context = r.pendingContext, r.pendingContext = null), null !== e && null !== e.child || (fs(t) ? t.flags |= 4 : null === e || e.memoizedState.isDehydrated && 0 === (256 & t.flags) || (t.flags |= 1024, null !== as && (lu(as), as = null))), Oa(e, t), Ga(t), null;

          case 5:
            eo(t);
            var i = Xs(Qs.current);
            if (n = t.type, null !== e && null != t.stateNode) La(e, t, n, r, i), e.ref !== t.ref && (t.flags |= 512, t.flags |= 2097152);else {
              if (!r) {
                if (null === t.stateNode) throw Error(s(166));
                return Ga(t), null;
              }

              if (e = Xs(Ws.current), fs(t)) {
                r = t.stateNode, n = t.type;
                var o = t.memoizedProps;

                switch (r[pi] = t, r[gi] = o, e = 0 !== (1 & t.mode), n) {
                  case "dialog":
                    jr("cancel", r), jr("close", r);
                    break;

                  case "iframe":
                  case "object":
                  case "embed":
                    jr("load", r);
                    break;

                  case "video":
                  case "audio":
                    for (i = 0; i < Fr.length; i++) {
                      jr(Fr[i], r);
                    }

                    break;

                  case "source":
                    jr("error", r);
                    break;

                  case "img":
                  case "image":
                  case "link":
                    jr("error", r), jr("load", r);
                    break;

                  case "details":
                    jr("toggle", r);
                    break;

                  case "input":
                    X(r, o), jr("invalid", r);
                    break;

                  case "select":
                    r._wrapperState = {
                      wasMultiple: !!o.multiple
                    }, jr("invalid", r);
                    break;

                  case "textarea":
                    ie(r, o), jr("invalid", r);
                }

                for (var l in ye(n, o), i = null, o) {
                  if (o.hasOwnProperty(l)) {
                    var u = o[l];
                    "children" === l ? "string" === typeof u ? r.textContent !== u && (!0 !== o.suppressHydrationWarning && ei(r.textContent, u, e), i = ["children", u]) : "number" === typeof u && r.textContent !== "" + u && (!0 !== o.suppressHydrationWarning && ei(r.textContent, u, e), i = ["children", "" + u]) : a.hasOwnProperty(l) && null != u && "onScroll" === l && jr("scroll", r);
                  }
                }

                switch (n) {
                  case "input":
                    K(r), Z(r, o, !0);
                    break;

                  case "textarea":
                    K(r), oe(r);
                    break;

                  case "select":
                  case "option":
                    break;

                  default:
                    "function" === typeof o.onClick && (r.onclick = ti);
                }

                r = i, t.updateQueue = r, null !== r && (t.flags |= 4);
              } else {
                l = 9 === i.nodeType ? i : i.ownerDocument, "http://www.w3.org/1999/xhtml" === e && (e = ae(n)), "http://www.w3.org/1999/xhtml" === e ? "script" === n ? ((e = l.createElement("div")).innerHTML = "<script><\/script>", e = e.removeChild(e.firstChild)) : "string" === typeof r.is ? e = l.createElement(n, {
                  is: r.is
                }) : (e = l.createElement(n), "select" === n && (l = e, r.multiple ? l.multiple = !0 : r.size && (l.size = r.size))) : e = l.createElementNS(e, n), e[pi] = t, e[gi] = r, Da(e, t, !1, !1), t.stateNode = e;

                e: {
                  switch (l = we(n, r), n) {
                    case "dialog":
                      jr("cancel", e), jr("close", e), i = r;
                      break;

                    case "iframe":
                    case "object":
                    case "embed":
                      jr("load", e), i = r;
                      break;

                    case "video":
                    case "audio":
                      for (i = 0; i < Fr.length; i++) {
                        jr(Fr[i], e);
                      }

                      i = r;
                      break;

                    case "source":
                      jr("error", e), i = r;
                      break;

                    case "img":
                    case "image":
                    case "link":
                      jr("error", e), jr("load", e), i = r;
                      break;

                    case "details":
                      jr("toggle", e), i = r;
                      break;

                    case "input":
                      X(e, r), i = Q(e, r), jr("invalid", e);
                      break;

                    case "option":
                    default:
                      i = r;
                      break;

                    case "select":
                      e._wrapperState = {
                        wasMultiple: !!r.multiple
                      }, i = F({}, r, {
                        value: void 0
                      }), jr("invalid", e);
                      break;

                    case "textarea":
                      ie(e, r), i = re(e, r), jr("invalid", e);
                  }

                  for (o in ye(n, i), u = i) {
                    if (u.hasOwnProperty(o)) {
                      var c = u[o];
                      "style" === o ? me(e, c) : "dangerouslySetInnerHTML" === o ? null != (c = c ? c.__html : void 0) && he(e, c) : "children" === o ? "string" === typeof c ? ("textarea" !== n || "" !== c) && de(e, c) : "number" === typeof c && de(e, "" + c) : "suppressContentEditableWarning" !== o && "suppressHydrationWarning" !== o && "autoFocus" !== o && (a.hasOwnProperty(o) ? null != c && "onScroll" === o && jr("scroll", e) : null != c && w(e, o, c, l));
                    }
                  }

                  switch (n) {
                    case "input":
                      K(e), Z(e, r, !1);
                      break;

                    case "textarea":
                      K(e), oe(e);
                      break;

                    case "option":
                      null != r.value && e.setAttribute("value", "" + q(r.value));
                      break;

                    case "select":
                      e.multiple = !!r.multiple, null != (o = r.value) ? ne(e, !!r.multiple, o, !1) : null != r.defaultValue && ne(e, !!r.multiple, r.defaultValue, !0);
                      break;

                    default:
                      "function" === typeof i.onClick && (e.onclick = ti);
                  }

                  switch (n) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                      r = !!r.autoFocus;
                      break e;

                    case "img":
                      r = !0;
                      break e;

                    default:
                      r = !1;
                  }
                }

                r && (t.flags |= 4);
              }

              null !== t.ref && (t.flags |= 512, t.flags |= 2097152);
            }
            return Ga(t), null;

          case 6:
            if (e && null != t.stateNode) Ma(e, t, e.memoizedProps, r);else {
              if ("string" !== typeof r && null === t.stateNode) throw Error(s(166));

              if (n = Xs(Qs.current), Xs(Ws.current), fs(t)) {
                if (r = t.stateNode, n = t.memoizedProps, r[pi] = t, (o = r.nodeValue !== n) && null !== (e = is)) switch (e.tag) {
                  case 3:
                    ei(r.nodeValue, n, 0 !== (1 & e.mode));
                    break;

                  case 5:
                    !0 !== e.memoizedProps.suppressHydrationWarning && ei(r.nodeValue, n, 0 !== (1 & e.mode));
                }
                o && (t.flags |= 4);
              } else (r = (9 === n.nodeType ? n : n.ownerDocument).createTextNode(r))[pi] = t, t.stateNode = r;
            }
            return Ga(t), null;

          case 13:
            if (Ci(to), r = t.memoizedState, null === e || null !== e.memoizedState && null !== e.memoizedState.dehydrated) {
              if (os && null !== ss && 0 !== (1 & t.mode) && 0 === (128 & t.flags)) ps(), gs(), t.flags |= 98560, o = !1;else if (o = fs(t), null !== r && null !== r.dehydrated) {
                if (null === e) {
                  if (!o) throw Error(s(318));
                  if (!(o = null !== (o = t.memoizedState) ? o.dehydrated : null)) throw Error(s(317));
                  o[pi] = t;
                } else gs(), 0 === (128 & t.flags) && (t.memoizedState = null), t.flags |= 4;

                Ga(t), o = !1;
              } else null !== as && (lu(as), as = null), o = !0;
              if (!o) return 65536 & t.flags ? t : null;
            }

            return 0 !== (128 & t.flags) ? (t.lanes = n, t) : ((r = null !== r) !== (null !== e && null !== e.memoizedState) && r && (t.child.flags |= 8192, 0 !== (1 & t.mode) && (null === e || 0 !== (1 & to.current) ? 0 === Ml && (Ml = 3) : vu())), null !== t.updateQueue && (t.flags |= 4), Ga(t), null);

          case 4:
            return Js(), Oa(e, t), null === e && qr(t.stateNode.containerInfo), Ga(t), null;

          case 10:
            return As(t.type._context), Ga(t), null;

          case 19:
            if (Ci(to), null === (o = t.memoizedState)) return Ga(t), null;
            if (r = 0 !== (128 & t.flags), null === (l = o.rendering)) {
              if (r) Wa(o, !1);else {
                if (0 !== Ml || null !== e && 0 !== (128 & e.flags)) for (e = t.child; null !== e;) {
                  if (null !== (l = no(e))) {
                    for (t.flags |= 128, Wa(o, !1), null !== (r = l.updateQueue) && (t.updateQueue = r, t.flags |= 4), t.subtreeFlags = 0, r = n, n = t.child; null !== n;) {
                      e = r, (o = n).flags &= 14680066, null === (l = o.alternate) ? (o.childLanes = 0, o.lanes = e, o.child = null, o.subtreeFlags = 0, o.memoizedProps = null, o.memoizedState = null, o.updateQueue = null, o.dependencies = null, o.stateNode = null) : (o.childLanes = l.childLanes, o.lanes = l.lanes, o.child = l.child, o.subtreeFlags = 0, o.deletions = null, o.memoizedProps = l.memoizedProps, o.memoizedState = l.memoizedState, o.updateQueue = l.updateQueue, o.type = l.type, e = l.dependencies, o.dependencies = null === e ? null : {
                        lanes: e.lanes,
                        firstContext: e.firstContext
                      }), n = n.sibling;
                    }

                    return Ni(to, 1 & to.current | 2), t.child;
                  }

                  e = e.sibling;
                }
                null !== o.tail && Ye() > ql && (t.flags |= 128, r = !0, Wa(o, !1), t.lanes = 4194304);
              }
            } else {
              if (!r) if (null !== (e = no(l))) {
                if (t.flags |= 128, r = !0, null !== (n = e.updateQueue) && (t.updateQueue = n, t.flags |= 4), Wa(o, !0), null === o.tail && "hidden" === o.tailMode && !l.alternate && !os) return Ga(t), null;
              } else 2 * Ye() - o.renderingStartTime > ql && 1073741824 !== n && (t.flags |= 128, r = !0, Wa(o, !1), t.lanes = 4194304);
              o.isBackwards ? (l.sibling = t.child, t.child = l) : (null !== (n = o.last) ? n.sibling = l : t.child = l, o.last = l);
            }
            return null !== o.tail ? (t = o.tail, o.rendering = t, o.tail = t.sibling, o.renderingStartTime = Ye(), t.sibling = null, n = to.current, Ni(to, r ? 1 & n | 2 : 1 & n), t) : (Ga(t), null);

          case 22:
          case 23:
            return fu(), r = null !== t.memoizedState, null !== e && null !== e.memoizedState !== r && (t.flags |= 8192), r && 0 !== (1 & t.mode) ? 0 !== (1073741824 & Ol) && (Ga(t), 6 & t.subtreeFlags && (t.flags |= 8192)) : Ga(t), null;

          case 24:
          case 25:
            return null;
        }

        throw Error(s(156, t.tag));
      }

      function Xa(e, t) {
        switch (rs(t), t.tag) {
          case 1:
            return Oi(t.type) && Li(), 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null;

          case 3:
            return Js(), Ci(Pi), Ci(Ri), io(), 0 !== (65536 & (e = t.flags)) && 0 === (128 & e) ? (t.flags = -65537 & e | 128, t) : null;

          case 5:
            return eo(t), null;

          case 13:
            if (Ci(to), null !== (e = t.memoizedState) && null !== e.dehydrated) {
              if (null === t.alternate) throw Error(s(340));
              gs();
            }

            return 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null;

          case 19:
            return Ci(to), null;

          case 4:
            return Js(), null;

          case 10:
            return As(t.type._context), null;

          case 22:
          case 23:
            return fu(), null;

          default:
            return null;
        }
      }

      Da = function Da(e, t) {
        for (var n = t.child; null !== n;) {
          if (5 === n.tag || 6 === n.tag) e.appendChild(n.stateNode);else if (4 !== n.tag && null !== n.child) {
            n.child["return"] = n, n = n.child;
            continue;
          }
          if (n === t) break;

          for (; null === n.sibling;) {
            if (null === n["return"] || n["return"] === t) return;
            n = n["return"];
          }

          n.sibling["return"] = n["return"], n = n.sibling;
        }
      }, Oa = function Oa() {}, La = function La(e, t, n, r) {
        var i = e.memoizedProps;

        if (i !== r) {
          e = t.stateNode, Xs(Ws.current);
          var s,
              o = null;

          switch (n) {
            case "input":
              i = Q(e, i), r = Q(e, r), o = [];
              break;

            case "select":
              i = F({}, i, {
                value: void 0
              }), r = F({}, r, {
                value: void 0
              }), o = [];
              break;

            case "textarea":
              i = re(e, i), r = re(e, r), o = [];
              break;

            default:
              "function" !== typeof i.onClick && "function" === typeof r.onClick && (e.onclick = ti);
          }

          for (c in ye(n, r), n = null, i) {
            if (!r.hasOwnProperty(c) && i.hasOwnProperty(c) && null != i[c]) if ("style" === c) {
              var l = i[c];

              for (s in l) {
                l.hasOwnProperty(s) && (n || (n = {}), n[s] = "");
              }
            } else "dangerouslySetInnerHTML" !== c && "children" !== c && "suppressContentEditableWarning" !== c && "suppressHydrationWarning" !== c && "autoFocus" !== c && (a.hasOwnProperty(c) ? o || (o = []) : (o = o || []).push(c, null));
          }

          for (c in r) {
            var u = r[c];
            if (l = null != i ? i[c] : void 0, r.hasOwnProperty(c) && u !== l && (null != u || null != l)) if ("style" === c) {
              if (l) {
                for (s in l) {
                  !l.hasOwnProperty(s) || u && u.hasOwnProperty(s) || (n || (n = {}), n[s] = "");
                }

                for (s in u) {
                  u.hasOwnProperty(s) && l[s] !== u[s] && (n || (n = {}), n[s] = u[s]);
                }
              } else n || (o || (o = []), o.push(c, n)), n = u;
            } else "dangerouslySetInnerHTML" === c ? (u = u ? u.__html : void 0, l = l ? l.__html : void 0, null != u && l !== u && (o = o || []).push(c, u)) : "children" === c ? "string" !== typeof u && "number" !== typeof u || (o = o || []).push(c, "" + u) : "suppressContentEditableWarning" !== c && "suppressHydrationWarning" !== c && (a.hasOwnProperty(c) ? (null != u && "onScroll" === c && jr("scroll", e), o || l === u || (o = [])) : (o = o || []).push(c, u));
          }

          n && (o = o || []).push("style", n);
          var c = o;
          (t.updateQueue = c) && (t.flags |= 4);
        }
      }, Ma = function Ma(e, t, n, r) {
        n !== r && (t.flags |= 4);
      };
      var Ya = !1,
          Ja = !1,
          Za = "function" === typeof WeakSet ? WeakSet : Set,
          el = null;

      function tl(e, t) {
        var n = e.ref;
        if (null !== n) if ("function" === typeof n) try {
          n(null);
        } catch (r) {
          Iu(e, t, r);
        } else n.current = null;
      }

      function nl(e, t, n) {
        try {
          n();
        } catch (r) {
          Iu(e, t, r);
        }
      }

      var rl = !1;

      function il(e, t, n) {
        var r = t.updateQueue;

        if (null !== (r = null !== r ? r.lastEffect : null)) {
          var i = r = r.next;

          do {
            if ((i.tag & e) === e) {
              var s = i.destroy;
              i.destroy = void 0, void 0 !== s && nl(t, n, s);
            }

            i = i.next;
          } while (i !== r);
        }
      }

      function sl(e, t) {
        if (null !== (t = null !== (t = t.updateQueue) ? t.lastEffect : null)) {
          var n = t = t.next;

          do {
            if ((n.tag & e) === e) {
              var r = n.create;
              n.destroy = r();
            }

            n = n.next;
          } while (n !== t);
        }
      }

      function ol(e) {
        var t = e.ref;

        if (null !== t) {
          var n = e.stateNode;
          e.tag, e = n, "function" === typeof t ? t(e) : t.current = e;
        }
      }

      function al(e) {
        var t = e.alternate;
        null !== t && (e.alternate = null, al(t)), e.child = null, e.deletions = null, e.sibling = null, 5 === e.tag && null !== (t = e.stateNode) && (delete t[pi], delete t[gi], delete t[vi], delete t[yi], delete t[wi]), e.stateNode = null, e["return"] = null, e.dependencies = null, e.memoizedProps = null, e.memoizedState = null, e.pendingProps = null, e.stateNode = null, e.updateQueue = null;
      }

      function ll(e) {
        return 5 === e.tag || 3 === e.tag || 4 === e.tag;
      }

      function ul(e) {
        e: for (;;) {
          for (; null === e.sibling;) {
            if (null === e["return"] || ll(e["return"])) return null;
            e = e["return"];
          }

          for (e.sibling["return"] = e["return"], e = e.sibling; 5 !== e.tag && 6 !== e.tag && 18 !== e.tag;) {
            if (2 & e.flags) continue e;
            if (null === e.child || 4 === e.tag) continue e;
            e.child["return"] = e, e = e.child;
          }

          if (!(2 & e.flags)) return e.stateNode;
        }
      }

      function cl(e, t, n) {
        var r = e.tag;
        if (5 === r || 6 === r) e = e.stateNode, t ? 8 === n.nodeType ? n.parentNode.insertBefore(e, t) : n.insertBefore(e, t) : (8 === n.nodeType ? (t = n.parentNode).insertBefore(e, n) : (t = n).appendChild(e), null !== (n = n._reactRootContainer) && void 0 !== n || null !== t.onclick || (t.onclick = ti));else if (4 !== r && null !== (e = e.child)) for (cl(e, t, n), e = e.sibling; null !== e;) {
          cl(e, t, n), e = e.sibling;
        }
      }

      function hl(e, t, n) {
        var r = e.tag;
        if (5 === r || 6 === r) e = e.stateNode, t ? n.insertBefore(e, t) : n.appendChild(e);else if (4 !== r && null !== (e = e.child)) for (hl(e, t, n), e = e.sibling; null !== e;) {
          hl(e, t, n), e = e.sibling;
        }
      }

      var dl = null,
          fl = !1;

      function pl(e, t, n) {
        for (n = n.child; null !== n;) {
          gl(e, t, n), n = n.sibling;
        }
      }

      function gl(e, t, n) {
        if (st && "function" === typeof st.onCommitFiberUnmount) try {
          st.onCommitFiberUnmount(it, n);
        } catch (a) {}

        switch (n.tag) {
          case 5:
            Ja || tl(n, t);

          case 6:
            var r = dl,
                i = fl;
            dl = null, pl(e, t, n), fl = i, null !== (dl = r) && (fl ? (e = dl, n = n.stateNode, 8 === e.nodeType ? e.parentNode.removeChild(n) : e.removeChild(n)) : dl.removeChild(n.stateNode));
            break;

          case 18:
            null !== dl && (fl ? (e = dl, n = n.stateNode, 8 === e.nodeType ? ci(e.parentNode, n) : 1 === e.nodeType && ci(e, n), $t(e)) : ci(dl, n.stateNode));
            break;

          case 4:
            r = dl, i = fl, dl = n.stateNode.containerInfo, fl = !0, pl(e, t, n), dl = r, fl = i;
            break;

          case 0:
          case 11:
          case 14:
          case 15:
            if (!Ja && null !== (r = n.updateQueue) && null !== (r = r.lastEffect)) {
              i = r = r.next;

              do {
                var s = i,
                    o = s.destroy;
                s = s.tag, void 0 !== o && (0 !== (2 & s) || 0 !== (4 & s)) && nl(n, t, o), i = i.next;
              } while (i !== r);
            }

            pl(e, t, n);
            break;

          case 1:
            if (!Ja && (tl(n, t), "function" === typeof (r = n.stateNode).componentWillUnmount)) try {
              r.props = n.memoizedProps, r.state = n.memoizedState, r.componentWillUnmount();
            } catch (a) {
              Iu(n, t, a);
            }
            pl(e, t, n);
            break;

          case 21:
            pl(e, t, n);
            break;

          case 22:
            1 & n.mode ? (Ja = (r = Ja) || null !== n.memoizedState, pl(e, t, n), Ja = r) : pl(e, t, n);
            break;

          default:
            pl(e, t, n);
        }
      }

      function ml(e) {
        var t = e.updateQueue;

        if (null !== t) {
          e.updateQueue = null;
          var n = e.stateNode;
          null === n && (n = e.stateNode = new Za()), t.forEach(function (t) {
            var r = Ru.bind(null, e, t);
            n.has(t) || (n.add(t), t.then(r, r));
          });
        }
      }

      function vl(e, t) {
        var n = t.deletions;
        if (null !== n) for (var r = 0; r < n.length; r++) {
          var i = n[r];

          try {
            var o = e,
                a = t,
                l = a;

            e: for (; null !== l;) {
              switch (l.tag) {
                case 5:
                  dl = l.stateNode, fl = !1;
                  break e;

                case 3:
                case 4:
                  dl = l.stateNode.containerInfo, fl = !0;
                  break e;
              }

              l = l["return"];
            }

            if (null === dl) throw Error(s(160));
            gl(o, a, i), dl = null, fl = !1;
            var u = i.alternate;
            null !== u && (u["return"] = null), i["return"] = null;
          } catch (c) {
            Iu(i, t, c);
          }
        }
        if (12854 & t.subtreeFlags) for (t = t.child; null !== t;) {
          yl(t, e), t = t.sibling;
        }
      }

      function yl(e, t) {
        var n = e.alternate,
            r = e.flags;

        switch (e.tag) {
          case 0:
          case 11:
          case 14:
          case 15:
            if (vl(t, e), wl(e), 4 & r) {
              try {
                il(3, e, e["return"]), sl(3, e);
              } catch (m) {
                Iu(e, e["return"], m);
              }

              try {
                il(5, e, e["return"]);
              } catch (m) {
                Iu(e, e["return"], m);
              }
            }

            break;

          case 1:
            vl(t, e), wl(e), 512 & r && null !== n && tl(n, n["return"]);
            break;

          case 5:
            if (vl(t, e), wl(e), 512 & r && null !== n && tl(n, n["return"]), 32 & e.flags) {
              var i = e.stateNode;

              try {
                de(i, "");
              } catch (m) {
                Iu(e, e["return"], m);
              }
            }

            if (4 & r && null != (i = e.stateNode)) {
              var o = e.memoizedProps,
                  a = null !== n ? n.memoizedProps : o,
                  l = e.type,
                  u = e.updateQueue;
              if (e.updateQueue = null, null !== u) try {
                "input" === l && "radio" === o.type && null != o.name && Y(i, o), we(l, a);
                var c = we(l, o);

                for (a = 0; a < u.length; a += 2) {
                  var h = u[a],
                      d = u[a + 1];
                  "style" === h ? me(i, d) : "dangerouslySetInnerHTML" === h ? he(i, d) : "children" === h ? de(i, d) : w(i, h, d, c);
                }

                switch (l) {
                  case "input":
                    J(i, o);
                    break;

                  case "textarea":
                    se(i, o);
                    break;

                  case "select":
                    var f = i._wrapperState.wasMultiple;
                    i._wrapperState.wasMultiple = !!o.multiple;
                    var p = o.value;
                    null != p ? ne(i, !!o.multiple, p, !1) : f !== !!o.multiple && (null != o.defaultValue ? ne(i, !!o.multiple, o.defaultValue, !0) : ne(i, !!o.multiple, o.multiple ? [] : "", !1));
                }

                i[gi] = o;
              } catch (m) {
                Iu(e, e["return"], m);
              }
            }

            break;

          case 6:
            if (vl(t, e), wl(e), 4 & r) {
              if (null === e.stateNode) throw Error(s(162));
              i = e.stateNode, o = e.memoizedProps;

              try {
                i.nodeValue = o;
              } catch (m) {
                Iu(e, e["return"], m);
              }
            }

            break;

          case 3:
            if (vl(t, e), wl(e), 4 & r && null !== n && n.memoizedState.isDehydrated) try {
              $t(t.containerInfo);
            } catch (m) {
              Iu(e, e["return"], m);
            }
            break;

          case 4:
          default:
            vl(t, e), wl(e);
            break;

          case 13:
            vl(t, e), wl(e), 8192 & (i = e.child).flags && (o = null !== i.memoizedState, i.stateNode.isHidden = o, !o || null !== i.alternate && null !== i.alternate.memoizedState || ($l = Ye())), 4 & r && ml(e);
            break;

          case 22:
            if (h = null !== n && null !== n.memoizedState, 1 & e.mode ? (Ja = (c = Ja) || h, vl(t, e), Ja = c) : vl(t, e), wl(e), 8192 & r) {
              if (c = null !== e.memoizedState, (e.stateNode.isHidden = c) && !h && 0 !== (1 & e.mode)) for (el = e, h = e.child; null !== h;) {
                for (d = el = h; null !== el;) {
                  switch (p = (f = el).child, f.tag) {
                    case 0:
                    case 11:
                    case 14:
                    case 15:
                      il(4, f, f["return"]);
                      break;

                    case 1:
                      tl(f, f["return"]);
                      var g = f.stateNode;

                      if ("function" === typeof g.componentWillUnmount) {
                        r = f, n = f["return"];

                        try {
                          t = r, g.props = t.memoizedProps, g.state = t.memoizedState, g.componentWillUnmount();
                        } catch (m) {
                          Iu(r, n, m);
                        }
                      }

                      break;

                    case 5:
                      tl(f, f["return"]);
                      break;

                    case 22:
                      if (null !== f.memoizedState) {
                        Sl(d);
                        continue;
                      }

                  }

                  null !== p ? (p["return"] = f, el = p) : Sl(d);
                }

                h = h.sibling;
              }

              e: for (h = null, d = e;;) {
                if (5 === d.tag) {
                  if (null === h) {
                    h = d;

                    try {
                      i = d.stateNode, c ? "function" === typeof (o = i.style).setProperty ? o.setProperty("display", "none", "important") : o.display = "none" : (l = d.stateNode, a = void 0 !== (u = d.memoizedProps.style) && null !== u && u.hasOwnProperty("display") ? u.display : null, l.style.display = ge("display", a));
                    } catch (m) {
                      Iu(e, e["return"], m);
                    }
                  }
                } else if (6 === d.tag) {
                  if (null === h) try {
                    d.stateNode.nodeValue = c ? "" : d.memoizedProps;
                  } catch (m) {
                    Iu(e, e["return"], m);
                  }
                } else if ((22 !== d.tag && 23 !== d.tag || null === d.memoizedState || d === e) && null !== d.child) {
                  d.child["return"] = d, d = d.child;
                  continue;
                }

                if (d === e) break e;

                for (; null === d.sibling;) {
                  if (null === d["return"] || d["return"] === e) break e;
                  h === d && (h = null), d = d["return"];
                }

                h === d && (h = null), d.sibling["return"] = d["return"], d = d.sibling;
              }
            }

            break;

          case 19:
            vl(t, e), wl(e), 4 & r && ml(e);

          case 21:
        }
      }

      function wl(e) {
        var t = e.flags;

        if (2 & t) {
          try {
            e: {
              for (var n = e["return"]; null !== n;) {
                if (ll(n)) {
                  var r = n;
                  break e;
                }

                n = n["return"];
              }

              throw Error(s(160));
            }

            switch (r.tag) {
              case 5:
                var i = r.stateNode;
                32 & r.flags && (de(i, ""), r.flags &= -33), hl(e, ul(e), i);
                break;

              case 3:
              case 4:
                var o = r.stateNode.containerInfo;
                cl(e, ul(e), o);
                break;

              default:
                throw Error(s(161));
            }
          } catch (a) {
            Iu(e, e["return"], a);
          }

          e.flags &= -3;
        }

        4096 & t && (e.flags &= -4097);
      }

      function bl(e, t, n) {
        el = e, _l(e, t, n);
      }

      function _l(e, t, n) {
        for (var r = 0 !== (1 & e.mode); null !== el;) {
          var i = el,
              s = i.child;

          if (22 === i.tag && r) {
            var o = null !== i.memoizedState || Ya;

            if (!o) {
              var a = i.alternate,
                  l = null !== a && null !== a.memoizedState || Ja;
              a = Ya;
              var u = Ja;
              if (Ya = o, (Ja = l) && !u) for (el = i; null !== el;) {
                l = (o = el).child, 22 === o.tag && null !== o.memoizedState ? kl(i) : null !== l ? (l["return"] = o, el = l) : kl(i);
              }

              for (; null !== s;) {
                el = s, _l(s, t, n), s = s.sibling;
              }

              el = i, Ya = a, Ja = u;
            }

            El(e);
          } else 0 !== (8772 & i.subtreeFlags) && null !== s ? (s["return"] = i, el = s) : El(e);
        }
      }

      function El(e) {
        for (; null !== el;) {
          var t = el;

          if (0 !== (8772 & t.flags)) {
            var n = t.alternate;

            try {
              if (0 !== (8772 & t.flags)) switch (t.tag) {
                case 0:
                case 11:
                case 15:
                  Ja || sl(5, t);
                  break;

                case 1:
                  var r = t.stateNode;
                  if (4 & t.flags && !Ja) if (null === n) r.componentDidMount();else {
                    var i = t.elementType === t.type ? n.memoizedProps : ia(t.type, n.memoizedProps);
                    r.componentDidUpdate(i, n.memoizedState, r.__reactInternalSnapshotBeforeUpdate);
                  }
                  var o = t.updateQueue;
                  null !== o && Hs(t, o, r);
                  break;

                case 3:
                  var a = t.updateQueue;

                  if (null !== a) {
                    if (n = null, null !== t.child) switch (t.child.tag) {
                      case 5:
                      case 1:
                        n = t.child.stateNode;
                    }
                    Hs(t, a, n);
                  }

                  break;

                case 5:
                  var l = t.stateNode;

                  if (null === n && 4 & t.flags) {
                    n = l;
                    var u = t.memoizedProps;

                    switch (t.type) {
                      case "button":
                      case "input":
                      case "select":
                      case "textarea":
                        u.autoFocus && n.focus();
                        break;

                      case "img":
                        u.src && (n.src = u.src);
                    }
                  }

                  break;

                case 6:
                case 4:
                case 12:
                case 19:
                case 17:
                case 21:
                case 22:
                case 23:
                case 25:
                  break;

                case 13:
                  if (null === t.memoizedState) {
                    var c = t.alternate;

                    if (null !== c) {
                      var h = c.memoizedState;

                      if (null !== h) {
                        var d = h.dehydrated;
                        null !== d && $t(d);
                      }
                    }
                  }

                  break;

                default:
                  throw Error(s(163));
              }
              Ja || 512 & t.flags && ol(t);
            } catch (f) {
              Iu(t, t["return"], f);
            }
          }

          if (t === e) {
            el = null;
            break;
          }

          if (null !== (n = t.sibling)) {
            n["return"] = t["return"], el = n;
            break;
          }

          el = t["return"];
        }
      }

      function Sl(e) {
        for (; null !== el;) {
          var t = el;

          if (t === e) {
            el = null;
            break;
          }

          var n = t.sibling;

          if (null !== n) {
            n["return"] = t["return"], el = n;
            break;
          }

          el = t["return"];
        }
      }

      function kl(e) {
        for (; null !== el;) {
          var t = el;

          try {
            switch (t.tag) {
              case 0:
              case 11:
              case 15:
                var n = t["return"];

                try {
                  sl(4, t);
                } catch (l) {
                  Iu(t, n, l);
                }

                break;

              case 1:
                var r = t.stateNode;

                if ("function" === typeof r.componentDidMount) {
                  var i = t["return"];

                  try {
                    r.componentDidMount();
                  } catch (l) {
                    Iu(t, i, l);
                  }
                }

                var s = t["return"];

                try {
                  ol(t);
                } catch (l) {
                  Iu(t, s, l);
                }

                break;

              case 5:
                var o = t["return"];

                try {
                  ol(t);
                } catch (l) {
                  Iu(t, o, l);
                }

            }
          } catch (l) {
            Iu(t, t["return"], l);
          }

          if (t === e) {
            el = null;
            break;
          }

          var a = t.sibling;

          if (null !== a) {
            a["return"] = t["return"], el = a;
            break;
          }

          el = t["return"];
        }
      }

      var Tl,
          Il = Math.ceil,
          Cl = b.ReactCurrentDispatcher,
          Nl = b.ReactCurrentOwner,
          Al = b.ReactCurrentBatchConfig,
          Rl = 0,
          Pl = null,
          xl = null,
          Dl = 0,
          Ol = 0,
          Ll = Ii(0),
          Ml = 0,
          Fl = null,
          Ul = 0,
          Vl = 0,
          zl = 0,
          jl = null,
          Bl = null,
          $l = 0,
          ql = 1 / 0,
          Hl = null,
          Kl = !1,
          Wl = null,
          Gl = null,
          Ql = !1,
          Xl = null,
          Yl = 0,
          Jl = 0,
          Zl = null,
          eu = -1,
          tu = 0;

      function nu() {
        return 0 !== (6 & Rl) ? Ye() : -1 !== eu ? eu : eu = Ye();
      }

      function ru(e) {
        return 0 === (1 & e.mode) ? 1 : 0 !== (2 & Rl) && 0 !== Dl ? Dl & -Dl : null !== vs.transition ? (0 === tu && (tu = gt()), tu) : 0 !== (e = wt) ? e : e = void 0 === (e = window.event) ? 16 : Yt(e.type);
      }

      function iu(e, t, n, r) {
        if (50 < Jl) throw Jl = 0, Zl = null, Error(s(185));
        vt(e, n, r), 0 !== (2 & Rl) && e === Pl || (e === Pl && (0 === (2 & Rl) && (Vl |= n), 4 === Ml && uu(e, Dl)), su(e, r), 1 === n && 0 === Rl && 0 === (1 & t.mode) && (ql = Ye() + 500, ji && qi()));
      }

      function su(e, t) {
        var n = e.callbackNode;
        !function (e, t) {
          for (var n = e.suspendedLanes, r = e.pingedLanes, i = e.expirationTimes, s = e.pendingLanes; 0 < s;) {
            var o = 31 - ot(s),
                a = 1 << o,
                l = i[o];
            -1 === l ? 0 !== (a & n) && 0 === (a & r) || (i[o] = ft(a, t)) : l <= t && (e.expiredLanes |= a), s &= ~a;
          }
        }(e, t);
        var r = dt(e, e === Pl ? Dl : 0);
        if (0 === r) null !== n && Ge(n), e.callbackNode = null, e.callbackPriority = 0;else if (t = r & -r, e.callbackPriority !== t) {
          if (null != n && Ge(n), 1 === t) 0 === e.tag ? function (e) {
            ji = !0, $i(e);
          }(cu.bind(null, e)) : $i(cu.bind(null, e)), li(function () {
            0 === (6 & Rl) && qi();
          }), n = null;else {
            switch (bt(r)) {
              case 1:
                n = Ze;
                break;

              case 4:
                n = et;
                break;

              case 16:
              default:
                n = tt;
                break;

              case 536870912:
                n = rt;
            }

            n = Pu(n, ou.bind(null, e));
          }
          e.callbackPriority = t, e.callbackNode = n;
        }
      }

      function ou(e, t) {
        if (eu = -1, tu = 0, 0 !== (6 & Rl)) throw Error(s(327));
        var n = e.callbackNode;
        if (ku() && e.callbackNode !== n) return null;
        var r = dt(e, e === Pl ? Dl : 0);
        if (0 === r) return null;
        if (0 !== (30 & r) || 0 !== (r & e.expiredLanes) || t) t = yu(e, r);else {
          t = r;
          var i = Rl;
          Rl |= 2;
          var o = mu();

          for (Pl === e && Dl === t || (Hl = null, ql = Ye() + 500, pu(e, t));;) {
            try {
              bu();
              break;
            } catch (l) {
              gu(e, l);
            }
          }

          Ns(), Cl.current = o, Rl = i, null !== xl ? t = 0 : (Pl = null, Dl = 0, t = Ml);
        }

        if (0 !== t) {
          if (2 === t && 0 !== (i = pt(e)) && (r = i, t = au(e, i)), 1 === t) throw n = Fl, pu(e, 0), uu(e, r), su(e, Ye()), n;
          if (6 === t) uu(e, r);else {
            if (i = e.current.alternate, 0 === (30 & r) && !function (e) {
              for (var t = e;;) {
                if (16384 & t.flags) {
                  var n = t.updateQueue;
                  if (null !== n && null !== (n = n.stores)) for (var r = 0; r < n.length; r++) {
                    var i = n[r],
                        s = i.getSnapshot;
                    i = i.value;

                    try {
                      if (!ur(s(), i)) return !1;
                    } catch (a) {
                      return !1;
                    }
                  }
                }

                if (n = t.child, 16384 & t.subtreeFlags && null !== n) n["return"] = t, t = n;else {
                  if (t === e) break;

                  for (; null === t.sibling;) {
                    if (null === t["return"] || t["return"] === e) return !0;
                    t = t["return"];
                  }

                  t.sibling["return"] = t["return"], t = t.sibling;
                }
              }

              return !0;
            }(i) && (2 === (t = yu(e, r)) && 0 !== (o = pt(e)) && (r = o, t = au(e, o)), 1 === t)) throw n = Fl, pu(e, 0), uu(e, r), su(e, Ye()), n;

            switch (e.finishedWork = i, e.finishedLanes = r, t) {
              case 0:
              case 1:
                throw Error(s(345));

              case 2:
              case 5:
                Su(e, Bl, Hl);
                break;

              case 3:
                if (uu(e, r), (130023424 & r) === r && 10 < (t = $l + 500 - Ye())) {
                  if (0 !== dt(e, 0)) break;

                  if (((i = e.suspendedLanes) & r) !== r) {
                    nu(), e.pingedLanes |= e.suspendedLanes & i;
                    break;
                  }

                  e.timeoutHandle = si(Su.bind(null, e, Bl, Hl), t);
                  break;
                }

                Su(e, Bl, Hl);
                break;

              case 4:
                if (uu(e, r), (4194240 & r) === r) break;

                for (t = e.eventTimes, i = -1; 0 < r;) {
                  var a = 31 - ot(r);
                  o = 1 << a, (a = t[a]) > i && (i = a), r &= ~o;
                }

                if (r = i, 10 < (r = (120 > (r = Ye() - r) ? 120 : 480 > r ? 480 : 1080 > r ? 1080 : 1920 > r ? 1920 : 3e3 > r ? 3e3 : 4320 > r ? 4320 : 1960 * Il(r / 1960)) - r)) {
                  e.timeoutHandle = si(Su.bind(null, e, Bl, Hl), r);
                  break;
                }

                Su(e, Bl, Hl);
                break;

              default:
                throw Error(s(329));
            }
          }
        }

        return su(e, Ye()), e.callbackNode === n ? ou.bind(null, e) : null;
      }

      function au(e, t) {
        var n = jl;
        return e.current.memoizedState.isDehydrated && (pu(e, t).flags |= 256), 2 !== (e = yu(e, t)) && (t = Bl, Bl = n, null !== t && lu(t)), e;
      }

      function lu(e) {
        null === Bl ? Bl = e : Bl.push.apply(Bl, e);
      }

      function uu(e, t) {
        for (t &= ~zl, t &= ~Vl, e.suspendedLanes |= t, e.pingedLanes &= ~t, e = e.expirationTimes; 0 < t;) {
          var n = 31 - ot(t),
              r = 1 << n;
          e[n] = -1, t &= ~r;
        }
      }

      function cu(e) {
        if (0 !== (6 & Rl)) throw Error(s(327));
        ku();
        var t = dt(e, 0);
        if (0 === (1 & t)) return su(e, Ye()), null;
        var n = yu(e, t);

        if (0 !== e.tag && 2 === n) {
          var r = pt(e);
          0 !== r && (t = r, n = au(e, r));
        }

        if (1 === n) throw n = Fl, pu(e, 0), uu(e, t), su(e, Ye()), n;
        if (6 === n) throw Error(s(345));
        return e.finishedWork = e.current.alternate, e.finishedLanes = t, Su(e, Bl, Hl), su(e, Ye()), null;
      }

      function hu(e, t) {
        var n = Rl;
        Rl |= 1;

        try {
          return e(t);
        } finally {
          0 === (Rl = n) && (ql = Ye() + 500, ji && qi());
        }
      }

      function du(e) {
        null !== Xl && 0 === Xl.tag && 0 === (6 & Rl) && ku();
        var t = Rl;
        Rl |= 1;
        var n = Al.transition,
            r = wt;

        try {
          if (Al.transition = null, wt = 1, e) return e();
        } finally {
          wt = r, Al.transition = n, 0 === (6 & (Rl = t)) && qi();
        }
      }

      function fu() {
        Ol = Ll.current, Ci(Ll);
      }

      function pu(e, t) {
        e.finishedWork = null, e.finishedLanes = 0;
        var n = e.timeoutHandle;
        if (-1 !== n && (e.timeoutHandle = -1, oi(n)), null !== xl) for (n = xl["return"]; null !== n;) {
          var r = n;

          switch (rs(r), r.tag) {
            case 1:
              null !== (r = r.type.childContextTypes) && void 0 !== r && Li();
              break;

            case 3:
              Js(), Ci(Pi), Ci(Ri), io();
              break;

            case 5:
              eo(r);
              break;

            case 4:
              Js();
              break;

            case 13:
            case 19:
              Ci(to);
              break;

            case 10:
              As(r.type._context);
              break;

            case 22:
            case 23:
              fu();
          }

          n = n["return"];
        }

        if (Pl = e, xl = e = Lu(e.current, null), Dl = Ol = t, Ml = 0, Fl = null, zl = Vl = Ul = 0, Bl = jl = null, null !== Ds) {
          for (t = 0; t < Ds.length; t++) {
            if (null !== (r = (n = Ds[t]).interleaved)) {
              n.interleaved = null;
              var i = r.next,
                  s = n.pending;

              if (null !== s) {
                var o = s.next;
                s.next = i, r.next = o;
              }

              n.pending = r;
            }
          }

          Ds = null;
        }

        return e;
      }

      function gu(e, t) {
        for (;;) {
          var n = xl;

          try {
            if (Ns(), so.current = ea, ho) {
              for (var r = lo.memoizedState; null !== r;) {
                var i = r.queue;
                null !== i && (i.pending = null), r = r.next;
              }

              ho = !1;
            }

            if (ao = 0, co = uo = lo = null, fo = !1, po = 0, Nl.current = null, null === n || null === n["return"]) {
              Ml = 1, Fl = t, xl = null;
              break;
            }

            e: {
              var o = e,
                  a = n["return"],
                  l = n,
                  u = t;

              if (t = Dl, l.flags |= 32768, null !== u && "object" === _typeof(u) && "function" === typeof u.then) {
                var c = u,
                    h = l,
                    d = h.tag;

                if (0 === (1 & h.mode) && (0 === d || 11 === d || 15 === d)) {
                  var f = h.alternate;
                  f ? (h.updateQueue = f.updateQueue, h.memoizedState = f.memoizedState, h.lanes = f.lanes) : (h.updateQueue = null, h.memoizedState = null);
                }

                var p = ya(a);

                if (null !== p) {
                  p.flags &= -257, wa(p, a, l, 0, t), 1 & p.mode && va(o, c, t), u = c;
                  var g = (t = p).updateQueue;

                  if (null === g) {
                    var m = new Set();
                    m.add(u), t.updateQueue = m;
                  } else g.add(u);

                  break e;
                }

                if (0 === (1 & t)) {
                  va(o, c, t), vu();
                  break e;
                }

                u = Error(s(426));
              } else if (os && 1 & l.mode) {
                var v = ya(a);

                if (null !== v) {
                  0 === (65536 & v.flags) && (v.flags |= 256), wa(v, a, l, 0, t), ms(ha(u, l));
                  break e;
                }
              }

              o = u = ha(u, l), 4 !== Ml && (Ml = 2), null === jl ? jl = [o] : jl.push(o), o = a;

              do {
                switch (o.tag) {
                  case 3:
                    o.flags |= 65536, t &= -t, o.lanes |= t, $s(o, ga(0, u, t));
                    break e;

                  case 1:
                    l = u;
                    var y = o.type,
                        w = o.stateNode;

                    if (0 === (128 & o.flags) && ("function" === typeof y.getDerivedStateFromError || null !== w && "function" === typeof w.componentDidCatch && (null === Gl || !Gl.has(w)))) {
                      o.flags |= 65536, t &= -t, o.lanes |= t, $s(o, ma(o, l, t));
                      break e;
                    }

                }

                o = o["return"];
              } while (null !== o);
            }

            Eu(n);
          } catch (b) {
            t = b, xl === n && null !== n && (xl = n = n["return"]);
            continue;
          }

          break;
        }
      }

      function mu() {
        var e = Cl.current;
        return Cl.current = ea, null === e ? ea : e;
      }

      function vu() {
        0 !== Ml && 3 !== Ml && 2 !== Ml || (Ml = 4), null === Pl || 0 === (268435455 & Ul) && 0 === (268435455 & Vl) || uu(Pl, Dl);
      }

      function yu(e, t) {
        var n = Rl;
        Rl |= 2;
        var r = mu();

        for (Pl === e && Dl === t || (Hl = null, pu(e, t));;) {
          try {
            wu();
            break;
          } catch (i) {
            gu(e, i);
          }
        }

        if (Ns(), Rl = n, Cl.current = r, null !== xl) throw Error(s(261));
        return Pl = null, Dl = 0, Ml;
      }

      function wu() {
        for (; null !== xl;) {
          _u(xl);
        }
      }

      function bu() {
        for (; null !== xl && !Qe();) {
          _u(xl);
        }
      }

      function _u(e) {
        var t = Tl(e.alternate, e, Ol);
        e.memoizedProps = e.pendingProps, null === t ? Eu(e) : xl = t, Nl.current = null;
      }

      function Eu(e) {
        var t = e;

        do {
          var n = t.alternate;

          if (e = t["return"], 0 === (32768 & t.flags)) {
            if (null !== (n = Qa(n, t, Ol))) return void (xl = n);
          } else {
            if (null !== (n = Xa(n, t))) return n.flags &= 32767, void (xl = n);
            if (null === e) return Ml = 6, void (xl = null);
            e.flags |= 32768, e.subtreeFlags = 0, e.deletions = null;
          }

          if (null !== (t = t.sibling)) return void (xl = t);
          xl = t = e;
        } while (null !== t);

        0 === Ml && (Ml = 5);
      }

      function Su(e, t, n) {
        var r = wt,
            i = Al.transition;

        try {
          Al.transition = null, wt = 1, function (e, t, n, r) {
            do {
              ku();
            } while (null !== Xl);

            if (0 !== (6 & Rl)) throw Error(s(327));
            n = e.finishedWork;
            var i = e.finishedLanes;
            if (null === n) return null;
            if (e.finishedWork = null, e.finishedLanes = 0, n === e.current) throw Error(s(177));
            e.callbackNode = null, e.callbackPriority = 0;
            var o = n.lanes | n.childLanes;

            if (function (e, t) {
              var n = e.pendingLanes & ~t;
              e.pendingLanes = t, e.suspendedLanes = 0, e.pingedLanes = 0, e.expiredLanes &= t, e.mutableReadLanes &= t, e.entangledLanes &= t, t = e.entanglements;
              var r = e.eventTimes;

              for (e = e.expirationTimes; 0 < n;) {
                var i = 31 - ot(n),
                    s = 1 << i;
                t[i] = 0, r[i] = -1, e[i] = -1, n &= ~s;
              }
            }(e, o), e === Pl && (xl = Pl = null, Dl = 0), 0 === (2064 & n.subtreeFlags) && 0 === (2064 & n.flags) || Ql || (Ql = !0, Pu(tt, function () {
              return ku(), null;
            })), o = 0 !== (15990 & n.flags), 0 !== (15990 & n.subtreeFlags) || o) {
              o = Al.transition, Al.transition = null;
              var a = wt;
              wt = 1;
              var l = Rl;
              Rl |= 4, Nl.current = null, function (e, t) {
                if (ni = Ht, gr(e = pr())) {
                  if ("selectionStart" in e) var n = {
                    start: e.selectionStart,
                    end: e.selectionEnd
                  };else e: {
                    var r = (n = (n = e.ownerDocument) && n.defaultView || window).getSelection && n.getSelection();

                    if (r && 0 !== r.rangeCount) {
                      n = r.anchorNode;
                      var i = r.anchorOffset,
                          o = r.focusNode;
                      r = r.focusOffset;

                      try {
                        n.nodeType, o.nodeType;
                      } catch (ln) {
                        n = null;
                        break e;
                      }

                      var a = 0,
                          l = -1,
                          u = -1,
                          c = 0,
                          h = 0,
                          d = e,
                          f = null;

                      t: for (;;) {
                        for (var p; d !== n || 0 !== i && 3 !== d.nodeType || (l = a + i), d !== o || 0 !== r && 3 !== d.nodeType || (u = a + r), 3 === d.nodeType && (a += d.nodeValue.length), null !== (p = d.firstChild);) {
                          f = d, d = p;
                        }

                        for (;;) {
                          if (d === e) break t;
                          if (f === n && ++c === i && (l = a), f === o && ++h === r && (u = a), null !== (p = d.nextSibling)) break;
                          f = (d = f).parentNode;
                        }

                        d = p;
                      }

                      n = -1 === l || -1 === u ? null : {
                        start: l,
                        end: u
                      };
                    } else n = null;
                  }
                  n = n || {
                    start: 0,
                    end: 0
                  };
                } else n = null;

                for (ri = {
                  focusedElem: e,
                  selectionRange: n
                }, Ht = !1, el = t; null !== el;) {
                  if (e = (t = el).child, 0 !== (1028 & t.subtreeFlags) && null !== e) e["return"] = t, el = e;else for (; null !== el;) {
                    t = el;

                    try {
                      var g = t.alternate;
                      if (0 !== (1024 & t.flags)) switch (t.tag) {
                        case 0:
                        case 11:
                        case 15:
                        case 5:
                        case 6:
                        case 4:
                        case 17:
                          break;

                        case 1:
                          if (null !== g) {
                            var m = g.memoizedProps,
                                v = g.memoizedState,
                                y = t.stateNode,
                                w = y.getSnapshotBeforeUpdate(t.elementType === t.type ? m : ia(t.type, m), v);
                            y.__reactInternalSnapshotBeforeUpdate = w;
                          }

                          break;

                        case 3:
                          var b = t.stateNode.containerInfo;
                          1 === b.nodeType ? b.textContent = "" : 9 === b.nodeType && b.documentElement && b.removeChild(b.documentElement);
                          break;

                        default:
                          throw Error(s(163));
                      }
                    } catch (ln) {
                      Iu(t, t["return"], ln);
                    }

                    if (null !== (e = t.sibling)) {
                      e["return"] = t["return"], el = e;
                      break;
                    }

                    el = t["return"];
                  }
                }

                g = rl, rl = !1;
              }(e, n), yl(n, e), mr(ri), Ht = !!ni, ri = ni = null, e.current = n, bl(n, e, i), Xe(), Rl = l, wt = a, Al.transition = o;
            } else e.current = n;

            if (Ql && (Ql = !1, Xl = e, Yl = i), o = e.pendingLanes, 0 === o && (Gl = null), function (e) {
              if (st && "function" === typeof st.onCommitFiberRoot) try {
                st.onCommitFiberRoot(it, e, void 0, 128 === (128 & e.current.flags));
              } catch (t) {}
            }(n.stateNode), su(e, Ye()), null !== t) for (r = e.onRecoverableError, n = 0; n < t.length; n++) {
              i = t[n], r(i.value, {
                componentStack: i.stack,
                digest: i.digest
              });
            }
            if (Kl) throw Kl = !1, e = Wl, Wl = null, e;
            0 !== (1 & Yl) && 0 !== e.tag && ku(), o = e.pendingLanes, 0 !== (1 & o) ? e === Zl ? Jl++ : (Jl = 0, Zl = e) : Jl = 0, qi();
          }(e, t, n, r);
        } finally {
          Al.transition = i, wt = r;
        }

        return null;
      }

      function ku() {
        if (null !== Xl) {
          var e = bt(Yl),
              t = Al.transition,
              n = wt;

          try {
            if (Al.transition = null, wt = 16 > e ? 16 : e, null === Xl) var r = !1;else {
              if (e = Xl, Xl = null, Yl = 0, 0 !== (6 & Rl)) throw Error(s(331));
              var i = Rl;

              for (Rl |= 4, el = e.current; null !== el;) {
                var o = el,
                    a = o.child;

                if (0 !== (16 & el.flags)) {
                  var l = o.deletions;

                  if (null !== l) {
                    for (var u = 0; u < l.length; u++) {
                      var c = l[u];

                      for (el = c; null !== el;) {
                        var h = el;

                        switch (h.tag) {
                          case 0:
                          case 11:
                          case 15:
                            il(8, h, o);
                        }

                        var d = h.child;
                        if (null !== d) d["return"] = h, el = d;else for (; null !== el;) {
                          var f = (h = el).sibling,
                              p = h["return"];

                          if (al(h), h === c) {
                            el = null;
                            break;
                          }

                          if (null !== f) {
                            f["return"] = p, el = f;
                            break;
                          }

                          el = p;
                        }
                      }
                    }

                    var g = o.alternate;

                    if (null !== g) {
                      var m = g.child;

                      if (null !== m) {
                        g.child = null;

                        do {
                          var v = m.sibling;
                          m.sibling = null, m = v;
                        } while (null !== m);
                      }
                    }

                    el = o;
                  }
                }

                if (0 !== (2064 & o.subtreeFlags) && null !== a) a["return"] = o, el = a;else e: for (; null !== el;) {
                  if (0 !== (2048 & (o = el).flags)) switch (o.tag) {
                    case 0:
                    case 11:
                    case 15:
                      il(9, o, o["return"]);
                  }
                  var y = o.sibling;

                  if (null !== y) {
                    y["return"] = o["return"], el = y;
                    break e;
                  }

                  el = o["return"];
                }
              }

              var w = e.current;

              for (el = w; null !== el;) {
                var b = (a = el).child;
                if (0 !== (2064 & a.subtreeFlags) && null !== b) b["return"] = a, el = b;else e: for (a = w; null !== el;) {
                  if (0 !== (2048 & (l = el).flags)) try {
                    switch (l.tag) {
                      case 0:
                      case 11:
                      case 15:
                        sl(9, l);
                    }
                  } catch (E) {
                    Iu(l, l["return"], E);
                  }

                  if (l === a) {
                    el = null;
                    break e;
                  }

                  var _ = l.sibling;

                  if (null !== _) {
                    _["return"] = l["return"], el = _;
                    break e;
                  }

                  el = l["return"];
                }
              }

              if (Rl = i, qi(), st && "function" === typeof st.onPostCommitFiberRoot) try {
                st.onPostCommitFiberRoot(it, e);
              } catch (E) {}
              r = !0;
            }
            return r;
          } finally {
            wt = n, Al.transition = t;
          }
        }

        return !1;
      }

      function Tu(e, t, n) {
        e = js(e, t = ga(0, t = ha(n, t), 1), 1), t = nu(), null !== e && (vt(e, 1, t), su(e, t));
      }

      function Iu(e, t, n) {
        if (3 === e.tag) Tu(e, e, n);else for (; null !== t;) {
          if (3 === t.tag) {
            Tu(t, e, n);
            break;
          }

          if (1 === t.tag) {
            var r = t.stateNode;

            if ("function" === typeof t.type.getDerivedStateFromError || "function" === typeof r.componentDidCatch && (null === Gl || !Gl.has(r))) {
              t = js(t, e = ma(t, e = ha(n, e), 1), 1), e = nu(), null !== t && (vt(t, 1, e), su(t, e));
              break;
            }
          }

          t = t["return"];
        }
      }

      function Cu(e, t, n) {
        var r = e.pingCache;
        null !== r && r["delete"](t), t = nu(), e.pingedLanes |= e.suspendedLanes & n, Pl === e && (Dl & n) === n && (4 === Ml || 3 === Ml && (130023424 & Dl) === Dl && 500 > Ye() - $l ? pu(e, 0) : zl |= n), su(e, t);
      }

      function Nu(e, t) {
        0 === t && (0 === (1 & e.mode) ? t = 1 : (t = ct, 0 === (130023424 & (ct <<= 1)) && (ct = 4194304)));
        var n = nu();
        null !== (e = Ms(e, t)) && (vt(e, t, n), su(e, n));
      }

      function Au(e) {
        var t = e.memoizedState,
            n = 0;
        null !== t && (n = t.retryLane), Nu(e, n);
      }

      function Ru(e, t) {
        var n = 0;

        switch (e.tag) {
          case 13:
            var r = e.stateNode,
                i = e.memoizedState;
            null !== i && (n = i.retryLane);
            break;

          case 19:
            r = e.stateNode;
            break;

          default:
            throw Error(s(314));
        }

        null !== r && r["delete"](t), Nu(e, n);
      }

      function Pu(e, t) {
        return We(e, t);
      }

      function xu(e, t, n, r) {
        this.tag = e, this.key = n, this.sibling = this.child = this["return"] = this.stateNode = this.type = this.elementType = null, this.index = 0, this.ref = null, this.pendingProps = t, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = r, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null;
      }

      function Du(e, t, n, r) {
        return new xu(e, t, n, r);
      }

      function Ou(e) {
        return !(!(e = e.prototype) || !e.isReactComponent);
      }

      function Lu(e, t) {
        var n = e.alternate;
        return null === n ? ((n = Du(e.tag, t, e.key, e.mode)).elementType = e.elementType, n.type = e.type, n.stateNode = e.stateNode, n.alternate = e, e.alternate = n) : (n.pendingProps = t, n.type = e.type, n.flags = 0, n.subtreeFlags = 0, n.deletions = null), n.flags = 14680064 & e.flags, n.childLanes = e.childLanes, n.lanes = e.lanes, n.child = e.child, n.memoizedProps = e.memoizedProps, n.memoizedState = e.memoizedState, n.updateQueue = e.updateQueue, t = e.dependencies, n.dependencies = null === t ? null : {
          lanes: t.lanes,
          firstContext: t.firstContext
        }, n.sibling = e.sibling, n.index = e.index, n.ref = e.ref, n;
      }

      function Mu(e, t, n, r, i, o) {
        var a = 2;
        if (r = e, "function" === typeof e) Ou(e) && (a = 1);else if ("string" === typeof e) a = 5;else e: switch (e) {
          case S:
            return Fu(n.children, i, o, t);

          case k:
            a = 8, i |= 8;
            break;

          case T:
            return (e = Du(12, n, t, 2 | i)).elementType = T, e.lanes = o, e;

          case A:
            return (e = Du(13, n, t, i)).elementType = A, e.lanes = o, e;

          case R:
            return (e = Du(19, n, t, i)).elementType = R, e.lanes = o, e;

          case D:
            return Uu(n, i, o, t);

          default:
            if ("object" === _typeof(e) && null !== e) switch (e.$$typeof) {
              case I:
                a = 10;
                break e;

              case C:
                a = 9;
                break e;

              case N:
                a = 11;
                break e;

              case P:
                a = 14;
                break e;

              case x:
                a = 16, r = null;
                break e;
            }
            throw Error(s(130, null == e ? e : _typeof(e), ""));
        }
        return (t = Du(a, n, t, i)).elementType = e, t.type = r, t.lanes = o, t;
      }

      function Fu(e, t, n, r) {
        return (e = Du(7, e, r, t)).lanes = n, e;
      }

      function Uu(e, t, n, r) {
        return (e = Du(22, e, r, t)).elementType = D, e.lanes = n, e.stateNode = {
          isHidden: !1
        }, e;
      }

      function Vu(e, t, n) {
        return (e = Du(6, e, null, t)).lanes = n, e;
      }

      function zu(e, t, n) {
        return (t = Du(4, null !== e.children ? e.children : [], e.key, t)).lanes = n, t.stateNode = {
          containerInfo: e.containerInfo,
          pendingChildren: null,
          implementation: e.implementation
        }, t;
      }

      function ju(e, t, n, r, i) {
        this.tag = t, this.containerInfo = e, this.finishedWork = this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.pendingContext = this.context = null, this.callbackPriority = 0, this.eventTimes = mt(0), this.expirationTimes = mt(-1), this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = mt(0), this.identifierPrefix = r, this.onRecoverableError = i, this.mutableSourceEagerHydrationData = null;
      }

      function Bu(e, t, n, r, i, s, o, a, l) {
        return e = new ju(e, t, n, a, l), 1 === t ? (t = 1, !0 === s && (t |= 8)) : t = 0, s = Du(3, null, null, t), e.current = s, s.stateNode = e, s.memoizedState = {
          element: r,
          isDehydrated: n,
          cache: null,
          transitions: null,
          pendingSuspenseBoundaries: null
        }, Us(s), e;
      }

      function $u(e) {
        if (!e) return Ai;

        e: {
          if (Be(e = e._reactInternals) !== e || 1 !== e.tag) throw Error(s(170));
          var t = e;

          do {
            switch (t.tag) {
              case 3:
                t = t.stateNode.context;
                break e;

              case 1:
                if (Oi(t.type)) {
                  t = t.stateNode.__reactInternalMemoizedMergedChildContext;
                  break e;
                }

            }

            t = t["return"];
          } while (null !== t);

          throw Error(s(171));
        }

        if (1 === e.tag) {
          var n = e.type;
          if (Oi(n)) return Fi(e, n, t);
        }

        return t;
      }

      function qu(e, t, n, r, i, s, o, a, l) {
        return (e = Bu(n, r, !0, e, 0, s, 0, a, l)).context = $u(null), n = e.current, (s = zs(r = nu(), i = ru(n))).callback = void 0 !== t && null !== t ? t : null, js(n, s, i), e.current.lanes = i, vt(e, i, r), su(e, r), e;
      }

      function Hu(e, t, n, r) {
        var i = t.current,
            s = nu(),
            o = ru(i);
        return n = $u(n), null === t.context ? t.context = n : t.pendingContext = n, (t = zs(s, o)).payload = {
          element: e
        }, null !== (r = void 0 === r ? null : r) && (t.callback = r), null !== (e = js(i, t, o)) && (iu(e, i, o, s), Bs(e, i, o)), o;
      }

      function Ku(e) {
        return (e = e.current).child ? (e.child.tag, e.child.stateNode) : null;
      }

      function Wu(e, t) {
        if (null !== (e = e.memoizedState) && null !== e.dehydrated) {
          var n = e.retryLane;
          e.retryLane = 0 !== n && n < t ? n : t;
        }
      }

      function Gu(e, t) {
        Wu(e, t), (e = e.alternate) && Wu(e, t);
      }

      Tl = function Tl(e, t, n) {
        if (null !== e) {
          if (e.memoizedProps !== t.pendingProps || Pi.current) _a = !0;else {
            if (0 === (e.lanes & n) && 0 === (128 & t.flags)) return _a = !1, function (e, t, n) {
              switch (t.tag) {
                case 3:
                  Pa(t), gs();
                  break;

                case 5:
                  Zs(t);
                  break;

                case 1:
                  Oi(t.type) && Ui(t);
                  break;

                case 4:
                  Ys(t, t.stateNode.containerInfo);
                  break;

                case 10:
                  var r = t.type._context,
                      i = t.memoizedProps.value;
                  Ni(ks, r._currentValue), r._currentValue = i;
                  break;

                case 13:
                  if (null !== (r = t.memoizedState)) return null !== r.dehydrated ? (Ni(to, 1 & to.current), t.flags |= 128, null) : 0 !== (n & t.child.childLanes) ? Va(e, t, n) : (Ni(to, 1 & to.current), null !== (e = Ka(e, t, n)) ? e.sibling : null);
                  Ni(to, 1 & to.current);
                  break;

                case 19:
                  if (r = 0 !== (n & t.childLanes), 0 !== (128 & e.flags)) {
                    if (r) return qa(e, t, n);
                    t.flags |= 128;
                  }

                  if (null !== (i = t.memoizedState) && (i.rendering = null, i.tail = null, i.lastEffect = null), Ni(to, to.current), r) break;
                  return null;

                case 22:
                case 23:
                  return t.lanes = 0, Ia(e, t, n);
              }

              return Ka(e, t, n);
            }(e, t, n);
            _a = 0 !== (131072 & e.flags);
          }
        } else _a = !1, os && 0 !== (1048576 & t.flags) && ts(t, Gi, t.index);

        switch (t.lanes = 0, t.tag) {
          case 2:
            var r = t.type;
            Ha(e, t), e = t.pendingProps;
            var i = Di(t, Ri.current);
            Ps(t, n), i = yo(null, t, r, e, i, n);
            var o = wo();
            return t.flags |= 1, "object" === _typeof(i) && null !== i && "function" === typeof i.render && void 0 === i.$$typeof ? (t.tag = 1, t.memoizedState = null, t.updateQueue = null, Oi(r) ? (o = !0, Ui(t)) : o = !1, t.memoizedState = null !== i.state && void 0 !== i.state ? i.state : null, Us(t), i.updater = oa, t.stateNode = i, i._reactInternals = t, ca(t, r, e, n), t = Ra(null, t, r, !0, o, n)) : (t.tag = 0, os && o && ns(t), Ea(null, t, i, n), t = t.child), t;

          case 16:
            r = t.elementType;

            e: {
              switch (Ha(e, t), e = t.pendingProps, r = (i = r._init)(r._payload), t.type = r, i = t.tag = function (e) {
                if ("function" === typeof e) return Ou(e) ? 1 : 0;

                if (void 0 !== e && null !== e) {
                  if ((e = e.$$typeof) === N) return 11;
                  if (e === P) return 14;
                }

                return 2;
              }(r), e = ia(r, e), i) {
                case 0:
                  t = Na(null, t, r, e, n);
                  break e;

                case 1:
                  t = Aa(null, t, r, e, n);
                  break e;

                case 11:
                  t = Sa(null, t, r, e, n);
                  break e;

                case 14:
                  t = ka(null, t, r, ia(r.type, e), n);
                  break e;
              }

              throw Error(s(306, r, ""));
            }

            return t;

          case 0:
            return r = t.type, i = t.pendingProps, Na(e, t, r, i = t.elementType === r ? i : ia(r, i), n);

          case 1:
            return r = t.type, i = t.pendingProps, Aa(e, t, r, i = t.elementType === r ? i : ia(r, i), n);

          case 3:
            e: {
              if (Pa(t), null === e) throw Error(s(387));
              r = t.pendingProps, i = (o = t.memoizedState).element, Vs(e, t), qs(t, r, null, n);
              var a = t.memoizedState;

              if (r = a.element, o.isDehydrated) {
                if (o = {
                  element: r,
                  isDehydrated: !1,
                  cache: a.cache,
                  pendingSuspenseBoundaries: a.pendingSuspenseBoundaries,
                  transitions: a.transitions
                }, t.updateQueue.baseState = o, t.memoizedState = o, 256 & t.flags) {
                  t = xa(e, t, r, n, i = ha(Error(s(423)), t));
                  break e;
                }

                if (r !== i) {
                  t = xa(e, t, r, n, i = ha(Error(s(424)), t));
                  break e;
                }

                for (ss = hi(t.stateNode.containerInfo.firstChild), is = t, os = !0, as = null, n = Ss(t, null, r, n), t.child = n; n;) {
                  n.flags = -3 & n.flags | 4096, n = n.sibling;
                }
              } else {
                if (gs(), r === i) {
                  t = Ka(e, t, n);
                  break e;
                }

                Ea(e, t, r, n);
              }

              t = t.child;
            }

            return t;

          case 5:
            return Zs(t), null === e && hs(t), r = t.type, i = t.pendingProps, o = null !== e ? e.memoizedProps : null, a = i.children, ii(r, i) ? a = null : null !== o && ii(r, o) && (t.flags |= 32), Ca(e, t), Ea(e, t, a, n), t.child;

          case 6:
            return null === e && hs(t), null;

          case 13:
            return Va(e, t, n);

          case 4:
            return Ys(t, t.stateNode.containerInfo), r = t.pendingProps, null === e ? t.child = Es(t, null, r, n) : Ea(e, t, r, n), t.child;

          case 11:
            return r = t.type, i = t.pendingProps, Sa(e, t, r, i = t.elementType === r ? i : ia(r, i), n);

          case 7:
            return Ea(e, t, t.pendingProps, n), t.child;

          case 8:
          case 12:
            return Ea(e, t, t.pendingProps.children, n), t.child;

          case 10:
            e: {
              if (r = t.type._context, i = t.pendingProps, o = t.memoizedProps, a = i.value, Ni(ks, r._currentValue), r._currentValue = a, null !== o) if (ur(o.value, a)) {
                if (o.children === i.children && !Pi.current) {
                  t = Ka(e, t, n);
                  break e;
                }
              } else for (null !== (o = t.child) && (o["return"] = t); null !== o;) {
                var l = o.dependencies;

                if (null !== l) {
                  a = o.child;

                  for (var u = l.firstContext; null !== u;) {
                    if (u.context === r) {
                      if (1 === o.tag) {
                        (u = zs(-1, n & -n)).tag = 2;
                        var c = o.updateQueue;

                        if (null !== c) {
                          var h = (c = c.shared).pending;
                          null === h ? u.next = u : (u.next = h.next, h.next = u), c.pending = u;
                        }
                      }

                      o.lanes |= n, null !== (u = o.alternate) && (u.lanes |= n), Rs(o["return"], n, t), l.lanes |= n;
                      break;
                    }

                    u = u.next;
                  }
                } else if (10 === o.tag) a = o.type === t.type ? null : o.child;else if (18 === o.tag) {
                  if (null === (a = o["return"])) throw Error(s(341));
                  a.lanes |= n, null !== (l = a.alternate) && (l.lanes |= n), Rs(a, n, t), a = o.sibling;
                } else a = o.child;

                if (null !== a) a["return"] = o;else for (a = o; null !== a;) {
                  if (a === t) {
                    a = null;
                    break;
                  }

                  if (null !== (o = a.sibling)) {
                    o["return"] = a["return"], a = o;
                    break;
                  }

                  a = a["return"];
                }
                o = a;
              }
              Ea(e, t, i.children, n), t = t.child;
            }

            return t;

          case 9:
            return i = t.type, r = t.pendingProps.children, Ps(t, n), r = r(i = xs(i)), t.flags |= 1, Ea(e, t, r, n), t.child;

          case 14:
            return i = ia(r = t.type, t.pendingProps), ka(e, t, r, i = ia(r.type, i), n);

          case 15:
            return Ta(e, t, t.type, t.pendingProps, n);

          case 17:
            return r = t.type, i = t.pendingProps, i = t.elementType === r ? i : ia(r, i), Ha(e, t), t.tag = 1, Oi(r) ? (e = !0, Ui(t)) : e = !1, Ps(t, n), la(t, r, i), ca(t, r, i, n), Ra(null, t, r, !0, e, n);

          case 19:
            return qa(e, t, n);

          case 22:
            return Ia(e, t, n);
        }

        throw Error(s(156, t.tag));
      };

      var Qu = "function" === typeof reportError ? reportError : function (e) {
        console.error(e);
      };

      function Xu(e) {
        this._internalRoot = e;
      }

      function Yu(e) {
        this._internalRoot = e;
      }

      function Ju(e) {
        return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType);
      }

      function Zu(e) {
        return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType && (8 !== e.nodeType || " react-mount-point-unstable " !== e.nodeValue));
      }

      function ec() {}

      function tc(e, t, n, r, i) {
        var s = n._reactRootContainer;

        if (s) {
          var o = s;

          if ("function" === typeof i) {
            var a = i;

            i = function i() {
              var e = Ku(o);
              a.call(e);
            };
          }

          Hu(t, o, e, i);
        } else o = function (e, t, n, r, i) {
          if (i) {
            if ("function" === typeof r) {
              var s = r;

              r = function r() {
                var e = Ku(o);
                s.call(e);
              };
            }

            var o = qu(t, r, e, 0, null, !1, 0, "", ec);
            return e._reactRootContainer = o, e[mi] = o.current, qr(8 === e.nodeType ? e.parentNode : e), du(), o;
          }

          for (; i = e.lastChild;) {
            e.removeChild(i);
          }

          if ("function" === typeof r) {
            var a = r;

            r = function r() {
              var e = Ku(l);
              a.call(e);
            };
          }

          var l = Bu(e, 0, !1, null, 0, !1, 0, "", ec);
          return e._reactRootContainer = l, e[mi] = l.current, qr(8 === e.nodeType ? e.parentNode : e), du(function () {
            Hu(t, l, n, r);
          }), l;
        }(n, t, e, i, r);

        return Ku(o);
      }

      Yu.prototype.render = Xu.prototype.render = function (e) {
        var t = this._internalRoot;
        if (null === t) throw Error(s(409));
        Hu(e, t, null, null);
      }, Yu.prototype.unmount = Xu.prototype.unmount = function () {
        var e = this._internalRoot;

        if (null !== e) {
          this._internalRoot = null;
          var t = e.containerInfo;
          du(function () {
            Hu(null, e, null, null);
          }), t[mi] = null;
        }
      }, Yu.prototype.unstable_scheduleHydration = function (e) {
        if (e) {
          var t = Tt();
          e = {
            blockedOn: null,
            target: e,
            priority: t
          };

          for (var n = 0; n < Ot.length && 0 !== t && t < Ot[n].priority; n++) {
            ;
          }

          Ot.splice(n, 0, e), 0 === n && Ut(e);
        }
      }, _t = function _t(e) {
        switch (e.tag) {
          case 3:
            var t = e.stateNode;

            if (t.current.memoizedState.isDehydrated) {
              var n = ht(t.pendingLanes);
              0 !== n && (yt(t, 1 | n), su(t, Ye()), 0 === (6 & Rl) && (ql = Ye() + 500, qi()));
            }

            break;

          case 13:
            du(function () {
              var t = Ms(e, 1);

              if (null !== t) {
                var n = nu();
                iu(t, e, 1, n);
              }
            }), Gu(e, 1);
        }
      }, Et = function Et(e) {
        if (13 === e.tag) {
          var t = Ms(e, 134217728);
          if (null !== t) iu(t, e, 134217728, nu());
          Gu(e, 134217728);
        }
      }, St = function St(e) {
        if (13 === e.tag) {
          var t = ru(e),
              n = Ms(e, t);
          if (null !== n) iu(n, e, t, nu());
          Gu(e, t);
        }
      }, Tt = function Tt() {
        return wt;
      }, It = function It(e, t) {
        var n = wt;

        try {
          return wt = e, t();
        } finally {
          wt = n;
        }
      }, Ee = function Ee(e, t, n) {
        switch (t) {
          case "input":
            if (J(e, n), t = n.name, "radio" === n.type && null != t) {
              for (n = e; n.parentNode;) {
                n = n.parentNode;
              }

              for (n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'), t = 0; t < n.length; t++) {
                var r = n[t];

                if (r !== e && r.form === e.form) {
                  var i = Si(r);
                  if (!i) throw Error(s(90));
                  W(r), J(r, i);
                }
              }
            }

            break;

          case "textarea":
            se(e, n);
            break;

          case "select":
            null != (t = n.value) && ne(e, !!n.multiple, t, !1);
        }
      }, Ne = hu, Ae = du;
      var nc = {
        usingClientEntryPoint: !1,
        Events: [_i, Ei, Si, Ie, Ce, hu]
      },
          rc = {
        findFiberByHostInstance: bi,
        bundleType: 0,
        version: "18.3.1",
        rendererPackageName: "react-dom"
      },
          ic = {
        bundleType: rc.bundleType,
        version: rc.version,
        rendererPackageName: rc.rendererPackageName,
        rendererConfig: rc.rendererConfig,
        overrideHookState: null,
        overrideHookStateDeletePath: null,
        overrideHookStateRenamePath: null,
        overrideProps: null,
        overridePropsDeletePath: null,
        overridePropsRenamePath: null,
        setErrorHandler: null,
        setSuspenseHandler: null,
        scheduleUpdate: null,
        currentDispatcherRef: b.ReactCurrentDispatcher,
        findHostInstanceByFiber: function findHostInstanceByFiber(e) {
          return null === (e = He(e)) ? null : e.stateNode;
        },
        findFiberByHostInstance: rc.findFiberByHostInstance || function () {
          return null;
        },
        findHostInstancesForRefresh: null,
        scheduleRefresh: null,
        scheduleRoot: null,
        setRefreshHandler: null,
        getCurrentFiber: null,
        reconcilerVersion: "18.3.1-next-f1338f8080-20240426"
      };

      if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
        var sc = __REACT_DEVTOOLS_GLOBAL_HOOK__;
        if (!sc.isDisabled && sc.supportsFiber) try {
          it = sc.inject(ic), st = sc;
        } catch (ce) {}
      }

      t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = nc, t.createPortal = function (e, t) {
        var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
        if (!Ju(t)) throw Error(s(200));
        return function (e, t, n) {
          var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
          return {
            $$typeof: E,
            key: null == r ? null : "" + r,
            children: e,
            containerInfo: t,
            implementation: n
          };
        }(e, t, null, n);
      }, t.createRoot = function (e, t) {
        if (!Ju(e)) throw Error(s(299));
        var n = !1,
            r = "",
            i = Qu;
        return null !== t && void 0 !== t && (!0 === t.unstable_strictMode && (n = !0), void 0 !== t.identifierPrefix && (r = t.identifierPrefix), void 0 !== t.onRecoverableError && (i = t.onRecoverableError)), t = Bu(e, 1, !1, null, 0, n, 0, r, i), e[mi] = t.current, qr(8 === e.nodeType ? e.parentNode : e), new Xu(t);
      }, t.findDOMNode = function (e) {
        if (null == e) return null;
        if (1 === e.nodeType) return e;
        var t = e._reactInternals;

        if (void 0 === t) {
          if ("function" === typeof e.render) throw Error(s(188));
          throw e = Object.keys(e).join(","), Error(s(268, e));
        }

        return e = null === (e = He(t)) ? null : e.stateNode;
      }, t.flushSync = function (e) {
        return du(e);
      }, t.hydrate = function (e, t, n) {
        if (!Zu(t)) throw Error(s(200));
        return tc(null, e, t, !0, n);
      }, t.hydrateRoot = function (e, t, n) {
        if (!Ju(e)) throw Error(s(405));
        var r = null != n && n.hydratedSources || null,
            i = !1,
            o = "",
            a = Qu;
        if (null !== n && void 0 !== n && (!0 === n.unstable_strictMode && (i = !0), void 0 !== n.identifierPrefix && (o = n.identifierPrefix), void 0 !== n.onRecoverableError && (a = n.onRecoverableError)), t = qu(t, null, e, 1, null != n ? n : null, i, 0, o, a), e[mi] = t.current, qr(e), r) for (e = 0; e < r.length; e++) {
          i = (i = (n = r[e])._getVersion)(n._source), null == t.mutableSourceEagerHydrationData ? t.mutableSourceEagerHydrationData = [n, i] : t.mutableSourceEagerHydrationData.push(n, i);
        }
        return new Yu(t);
      }, t.render = function (e, t, n) {
        if (!Zu(t)) throw Error(s(200));
        return tc(null, e, t, !1, n);
      }, t.unmountComponentAtNode = function (e) {
        if (!Zu(e)) throw Error(s(40));
        return !!e._reactRootContainer && (du(function () {
          tc(null, null, e, !1, function () {
            e._reactRootContainer = null, e[mi] = null;
          });
        }), !0);
      }, t.unstable_batchedUpdates = hu, t.unstable_renderSubtreeIntoContainer = function (e, t, n, r) {
        if (!Zu(n)) throw Error(s(200));
        if (null == e || void 0 === e._reactInternals) throw Error(s(38));
        return tc(e, t, n, !1, r);
      }, t.version = "18.3.1-next-f1338f8080-20240426";
    },
    391: function _(e, t, n) {
      var r = n(950);
      t.createRoot = r.createRoot, t.hydrateRoot = r.hydrateRoot;
    },
    950: function _(e, t, n) {
      !function e() {
        if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE) try {
          __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e);
        } catch (t) {
          console.error(t);
        }
      }(), e.exports = n(730);
    },
    153: function _(e, t, n) {
      var r = n(43),
          i = Symbol["for"]("react.element"),
          s = Symbol["for"]("react.fragment"),
          o = Object.prototype.hasOwnProperty,
          a = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
          l = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
      };

      function u(e, t, n) {
        var r,
            s = {},
            u = null,
            c = null;

        for (r in void 0 !== n && (u = "" + n), void 0 !== t.key && (u = "" + t.key), void 0 !== t.ref && (c = t.ref), t) {
          o.call(t, r) && !l.hasOwnProperty(r) && (s[r] = t[r]);
        }

        if (e && e.defaultProps) for (r in t = e.defaultProps) {
          void 0 === s[r] && (s[r] = t[r]);
        }
        return {
          $$typeof: i,
          type: e,
          key: u,
          ref: c,
          props: s,
          _owner: a.current
        };
      }

      t.Fragment = s, t.jsx = u, t.jsxs = u;
    },
    202: function _(e, t) {
      var n = Symbol["for"]("react.element"),
          r = Symbol["for"]("react.portal"),
          i = Symbol["for"]("react.fragment"),
          s = Symbol["for"]("react.strict_mode"),
          o = Symbol["for"]("react.profiler"),
          a = Symbol["for"]("react.provider"),
          l = Symbol["for"]("react.context"),
          u = Symbol["for"]("react.forward_ref"),
          c = Symbol["for"]("react.suspense"),
          h = Symbol["for"]("react.memo"),
          d = Symbol["for"]("react.lazy"),
          f = Symbol.iterator;
      var p = {
        isMounted: function isMounted() {
          return !1;
        },
        enqueueForceUpdate: function enqueueForceUpdate() {},
        enqueueReplaceState: function enqueueReplaceState() {},
        enqueueSetState: function enqueueSetState() {}
      },
          g = Object.assign,
          m = {};

      function v(e, t, n) {
        this.props = e, this.context = t, this.refs = m, this.updater = n || p;
      }

      function y() {}

      function w(e, t, n) {
        this.props = e, this.context = t, this.refs = m, this.updater = n || p;
      }

      v.prototype.isReactComponent = {}, v.prototype.setState = function (e, t) {
        if ("object" !== _typeof(e) && "function" !== typeof e && null != e) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
        this.updater.enqueueSetState(this, e, t, "setState");
      }, v.prototype.forceUpdate = function (e) {
        this.updater.enqueueForceUpdate(this, e, "forceUpdate");
      }, y.prototype = v.prototype;
      var b = w.prototype = new y();
      b.constructor = w, g(b, v.prototype), b.isPureReactComponent = !0;
      var _ = Array.isArray,
          E = Object.prototype.hasOwnProperty,
          S = {
        current: null
      },
          k = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
      };

      function T(e, t, r) {
        var i,
            s = {},
            o = null,
            a = null;
        if (null != t) for (i in void 0 !== t.ref && (a = t.ref), void 0 !== t.key && (o = "" + t.key), t) {
          E.call(t, i) && !k.hasOwnProperty(i) && (s[i] = t[i]);
        }
        var l = arguments.length - 2;
        if (1 === l) s.children = r;else if (1 < l) {
          for (var u = Array(l), c = 0; c < l; c++) {
            u[c] = arguments[c + 2];
          }

          s.children = u;
        }
        if (e && e.defaultProps) for (i in l = e.defaultProps) {
          void 0 === s[i] && (s[i] = l[i]);
        }
        return {
          $$typeof: n,
          type: e,
          key: o,
          ref: a,
          props: s,
          _owner: S.current
        };
      }

      function I(e) {
        return "object" === _typeof(e) && null !== e && e.$$typeof === n;
      }

      var C = /\/+/g;

      function N(e, t) {
        return "object" === _typeof(e) && null !== e && null != e.key ? function (e) {
          var t = {
            "=": "=0",
            ":": "=2"
          };
          return "$" + e.replace(/[=:]/g, function (e) {
            return t[e];
          });
        }("" + e.key) : t.toString(36);
      }

      function A(e, t, i, s, o) {
        var a = _typeof(e);

        "undefined" !== a && "boolean" !== a || (e = null);
        var l = !1;
        if (null === e) l = !0;else switch (a) {
          case "string":
          case "number":
            l = !0;
            break;

          case "object":
            switch (e.$$typeof) {
              case n:
              case r:
                l = !0;
            }

        }
        if (l) return o = o(l = e), e = "" === s ? "." + N(l, 0) : s, _(o) ? (i = "", null != e && (i = e.replace(C, "$&/") + "/"), A(o, t, i, "", function (e) {
          return e;
        })) : null != o && (I(o) && (o = function (e, t) {
          return {
            $$typeof: n,
            type: e.type,
            key: t,
            ref: e.ref,
            props: e.props,
            _owner: e._owner
          };
        }(o, i + (!o.key || l && l.key === o.key ? "" : ("" + o.key).replace(C, "$&/") + "/") + e)), t.push(o)), 1;
        if (l = 0, s = "" === s ? "." : s + ":", _(e)) for (var u = 0; u < e.length; u++) {
          var c = s + N(a = e[u], u);
          l += A(a, t, i, c, o);
        } else if (c = function (e) {
          return null === e || "object" !== _typeof(e) ? null : "function" === typeof (e = f && e[f] || e["@@iterator"]) ? e : null;
        }(e), "function" === typeof c) for (e = c.call(e), u = 0; !(a = e.next()).done;) {
          l += A(a = a.value, t, i, c = s + N(a, u++), o);
        } else if ("object" === a) throw t = String(e), Error("Objects are not valid as a React child (found: " + ("[object Object]" === t ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead.");
        return l;
      }

      function R(e, t, n) {
        if (null == e) return e;
        var r = [],
            i = 0;
        return A(e, r, "", "", function (e) {
          return t.call(n, e, i++);
        }), r;
      }

      function P(e) {
        if (-1 === e._status) {
          var t = e._result;
          (t = t()).then(function (t) {
            0 !== e._status && -1 !== e._status || (e._status = 1, e._result = t);
          }, function (t) {
            0 !== e._status && -1 !== e._status || (e._status = 2, e._result = t);
          }), -1 === e._status && (e._status = 0, e._result = t);
        }

        if (1 === e._status) return e._result["default"];
        throw e._result;
      }

      var x = {
        current: null
      },
          D = {
        transition: null
      },
          O = {
        ReactCurrentDispatcher: x,
        ReactCurrentBatchConfig: D,
        ReactCurrentOwner: S
      };

      function L() {
        throw Error("act(...) is not supported in production builds of React.");
      }

      t.Children = {
        map: R,
        forEach: function forEach(e, t, n) {
          R(e, function () {
            t.apply(this, arguments);
          }, n);
        },
        count: function count(e) {
          var t = 0;
          return R(e, function () {
            t++;
          }), t;
        },
        toArray: function toArray(e) {
          return R(e, function (e) {
            return e;
          }) || [];
        },
        only: function only(e) {
          if (!I(e)) throw Error("React.Children.only expected to receive a single React element child.");
          return e;
        }
      }, t.Component = v, t.Fragment = i, t.Profiler = o, t.PureComponent = w, t.StrictMode = s, t.Suspense = c, t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = O, t.act = L, t.cloneElement = function (e, t, r) {
        if (null === e || void 0 === e) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + ".");
        var i = g({}, e.props),
            s = e.key,
            o = e.ref,
            a = e._owner;

        if (null != t) {
          if (void 0 !== t.ref && (o = t.ref, a = S.current), void 0 !== t.key && (s = "" + t.key), e.type && e.type.defaultProps) var l = e.type.defaultProps;

          for (u in t) {
            E.call(t, u) && !k.hasOwnProperty(u) && (i[u] = void 0 === t[u] && void 0 !== l ? l[u] : t[u]);
          }
        }

        var u = arguments.length - 2;
        if (1 === u) i.children = r;else if (1 < u) {
          l = Array(u);

          for (var c = 0; c < u; c++) {
            l[c] = arguments[c + 2];
          }

          i.children = l;
        }
        return {
          $$typeof: n,
          type: e.type,
          key: s,
          ref: o,
          props: i,
          _owner: a
        };
      }, t.createContext = function (e) {
        return (e = {
          $$typeof: l,
          _currentValue: e,
          _currentValue2: e,
          _threadCount: 0,
          Provider: null,
          Consumer: null,
          _defaultValue: null,
          _globalName: null
        }).Provider = {
          $$typeof: a,
          _context: e
        }, e.Consumer = e;
      }, t.createElement = T, t.createFactory = function (e) {
        var t = T.bind(null, e);
        return t.type = e, t;
      }, t.createRef = function () {
        return {
          current: null
        };
      }, t.forwardRef = function (e) {
        return {
          $$typeof: u,
          render: e
        };
      }, t.isValidElement = I, t.lazy = function (e) {
        return {
          $$typeof: d,
          _payload: {
            _status: -1,
            _result: e
          },
          _init: P
        };
      }, t.memo = function (e, t) {
        return {
          $$typeof: h,
          type: e,
          compare: void 0 === t ? null : t
        };
      }, t.startTransition = function (e) {
        var t = D.transition;
        D.transition = {};

        try {
          e();
        } finally {
          D.transition = t;
        }
      }, t.unstable_act = L, t.useCallback = function (e, t) {
        return x.current.useCallback(e, t);
      }, t.useContext = function (e) {
        return x.current.useContext(e);
      }, t.useDebugValue = function () {}, t.useDeferredValue = function (e) {
        return x.current.useDeferredValue(e);
      }, t.useEffect = function (e, t) {
        return x.current.useEffect(e, t);
      }, t.useId = function () {
        return x.current.useId();
      }, t.useImperativeHandle = function (e, t, n) {
        return x.current.useImperativeHandle(e, t, n);
      }, t.useInsertionEffect = function (e, t) {
        return x.current.useInsertionEffect(e, t);
      }, t.useLayoutEffect = function (e, t) {
        return x.current.useLayoutEffect(e, t);
      }, t.useMemo = function (e, t) {
        return x.current.useMemo(e, t);
      }, t.useReducer = function (e, t, n) {
        return x.current.useReducer(e, t, n);
      }, t.useRef = function (e) {
        return x.current.useRef(e);
      }, t.useState = function (e) {
        return x.current.useState(e);
      }, t.useSyncExternalStore = function (e, t, n) {
        return x.current.useSyncExternalStore(e, t, n);
      }, t.useTransition = function () {
        return x.current.useTransition();
      }, t.version = "18.3.1";
    },
    43: function _(e, t, n) {
      e.exports = n(202);
    },
    579: function _(e, t, n) {
      e.exports = n(153);
    },
    234: function _(e, t) {
      function n(e, t) {
        var n = e.length;
        e.push(t);

        e: for (; 0 < n;) {
          var r = n - 1 >>> 1,
              i = e[r];
          if (!(0 < s(i, t))) break e;
          e[r] = t, e[n] = i, n = r;
        }
      }

      function r(e) {
        return 0 === e.length ? null : e[0];
      }

      function i(e) {
        if (0 === e.length) return null;
        var t = e[0],
            n = e.pop();

        if (n !== t) {
          e[0] = n;

          e: for (var r = 0, i = e.length, o = i >>> 1; r < o;) {
            var a = 2 * (r + 1) - 1,
                l = e[a],
                u = a + 1,
                c = e[u];
            if (0 > s(l, n)) u < i && 0 > s(c, l) ? (e[r] = c, e[u] = n, r = u) : (e[r] = l, e[a] = n, r = a);else {
              if (!(u < i && 0 > s(c, n))) break e;
              e[r] = c, e[u] = n, r = u;
            }
          }
        }

        return t;
      }

      function s(e, t) {
        var n = e.sortIndex - t.sortIndex;
        return 0 !== n ? n : e.id - t.id;
      }

      if ("object" === (typeof performance === "undefined" ? "undefined" : _typeof(performance)) && "function" === typeof performance.now) {
        var o = performance;

        t.unstable_now = function () {
          return o.now();
        };
      } else {
        var a = Date,
            l = a.now();

        t.unstable_now = function () {
          return a.now() - l;
        };
      }

      var u = [],
          c = [],
          h = 1,
          d = null,
          f = 3,
          p = !1,
          g = !1,
          m = !1,
          v = "function" === typeof setTimeout ? setTimeout : null,
          y = "function" === typeof clearTimeout ? clearTimeout : null,
          w = "undefined" !== typeof setImmediate ? setImmediate : null;

      function b(e) {
        for (var t = r(c); null !== t;) {
          if (null === t.callback) i(c);else {
            if (!(t.startTime <= e)) break;
            i(c), t.sortIndex = t.expirationTime, n(u, t);
          }
          t = r(c);
        }
      }

      function _(e) {
        if (m = !1, b(e), !g) if (null !== r(u)) g = !0, D(E);else {
          var t = r(c);
          null !== t && O(_, t.startTime - e);
        }
      }

      function E(e, n) {
        g = !1, m && (m = !1, y(I), I = -1), p = !0;
        var s = f;

        try {
          for (b(n), d = r(u); null !== d && (!(d.expirationTime > n) || e && !A());) {
            var o = d.callback;

            if ("function" === typeof o) {
              d.callback = null, f = d.priorityLevel;
              var a = o(d.expirationTime <= n);
              n = t.unstable_now(), "function" === typeof a ? d.callback = a : d === r(u) && i(u), b(n);
            } else i(u);

            d = r(u);
          }

          if (null !== d) var l = !0;else {
            var h = r(c);
            null !== h && O(_, h.startTime - n), l = !1;
          }
          return l;
        } finally {
          d = null, f = s, p = !1;
        }
      }

      "undefined" !== typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling);
      var S,
          k = !1,
          T = null,
          I = -1,
          C = 5,
          N = -1;

      function A() {
        return !(t.unstable_now() - N < C);
      }

      function R() {
        if (null !== T) {
          var e = t.unstable_now();
          N = e;
          var n = !0;

          try {
            n = T(!0, e);
          } finally {
            n ? S() : (k = !1, T = null);
          }
        } else k = !1;
      }

      if ("function" === typeof w) S = function S() {
        w(R);
      };else if ("undefined" !== typeof MessageChannel) {
        var P = new MessageChannel(),
            x = P.port2;
        P.port1.onmessage = R, S = function S() {
          x.postMessage(null);
        };
      } else S = function S() {
        v(R, 0);
      };

      function D(e) {
        T = e, k || (k = !0, S());
      }

      function O(e, n) {
        I = v(function () {
          e(t.unstable_now());
        }, n);
      }

      t.unstable_IdlePriority = 5, t.unstable_ImmediatePriority = 1, t.unstable_LowPriority = 4, t.unstable_NormalPriority = 3, t.unstable_Profiling = null, t.unstable_UserBlockingPriority = 2, t.unstable_cancelCallback = function (e) {
        e.callback = null;
      }, t.unstable_continueExecution = function () {
        g || p || (g = !0, D(E));
      }, t.unstable_forceFrameRate = function (e) {
        0 > e || 125 < e ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : C = 0 < e ? Math.floor(1e3 / e) : 5;
      }, t.unstable_getCurrentPriorityLevel = function () {
        return f;
      }, t.unstable_getFirstCallbackNode = function () {
        return r(u);
      }, t.unstable_next = function (e) {
        switch (f) {
          case 1:
          case 2:
          case 3:
            var t = 3;
            break;

          default:
            t = f;
        }

        var n = f;
        f = t;

        try {
          return e();
        } finally {
          f = n;
        }
      }, t.unstable_pauseExecution = function () {}, t.unstable_requestPaint = function () {}, t.unstable_runWithPriority = function (e, t) {
        switch (e) {
          case 1:
          case 2:
          case 3:
          case 4:
          case 5:
            break;

          default:
            e = 3;
        }

        var n = f;
        f = e;

        try {
          return t();
        } finally {
          f = n;
        }
      }, t.unstable_scheduleCallback = function (e, i, s) {
        var o = t.unstable_now();

        switch ("object" === _typeof(s) && null !== s ? s = "number" === typeof (s = s.delay) && 0 < s ? o + s : o : s = o, e) {
          case 1:
            var a = -1;
            break;

          case 2:
            a = 250;
            break;

          case 5:
            a = 1073741823;
            break;

          case 4:
            a = 1e4;
            break;

          default:
            a = 5e3;
        }

        return e = {
          id: h++,
          callback: i,
          priorityLevel: e,
          startTime: s,
          expirationTime: a = s + a,
          sortIndex: -1
        }, s > o ? (e.sortIndex = s, n(c, e), null === r(u) && e === r(c) && (m ? (y(I), I = -1) : m = !0, O(_, s - o))) : (e.sortIndex = a, n(u, e), g || p || (g = !0, D(E))), e;
      }, t.unstable_shouldYield = A, t.unstable_wrapCallback = function (e) {
        var t = f;
        return function () {
          var n = f;
          f = t;

          try {
            return e.apply(this, arguments);
          } finally {
            f = n;
          }
        };
      };
    },
    853: function _(e, t, n) {
      e.exports = n(234);
    }
  },
      t = {};

  function n(r) {
    var i = t[r];
    if (void 0 !== i) return i.exports;
    var s = t[r] = {
      exports: {}
    };
    return e[r](s, s.exports, n), s.exports;
  }

  n.m = e, n.d = function (e, t) {
    for (var r in t) {
      n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, {
        enumerable: !0,
        get: t[r]
      });
    }
  }, n.f = {}, n.e = function (e) {
    return Promise.all(Object.keys(n.f).reduce(function (t, r) {
      return n.f[r](e, t), t;
    }, []));
  }, n.u = function (e) {
    return "static/js/" + e + ".89b16c87.chunk.js";
  }, n.miniCssF = function (e) {}, n.g = function () {
    if ("object" === (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis))) return globalThis;

    try {
      return this || new Function("return this")();
    } catch (e) {
      if ("object" === (typeof window === "undefined" ? "undefined" : _typeof(window))) return window;
    }
  }(), n.o = function (e, t) {
    return Object.prototype.hasOwnProperty.call(e, t);
  }, function () {
    var e = {},
        t = "react-and-firebase-test:";

    n.l = function (r, i, s, o) {
      if (e[r]) e[r].push(i);else {
        var a, l;
        if (void 0 !== s) for (var u = document.getElementsByTagName("script"), c = 0; c < u.length; c++) {
          var h = u[c];

          if (h.getAttribute("src") == r || h.getAttribute("data-webpack") == t + s) {
            a = h;
            break;
          }
        }
        a || (l = !0, (a = document.createElement("script")).charset = "utf-8", a.timeout = 120, n.nc && a.setAttribute("nonce", n.nc), a.setAttribute("data-webpack", t + s), a.src = r), e[r] = [i];

        var d = function d(t, n) {
          a.onerror = a.onload = null, clearTimeout(f);
          var i = e[r];
          if (delete e[r], a.parentNode && a.parentNode.removeChild(a), i && i.forEach(function (e) {
            return e(n);
          }), t) return t(n);
        },
            f = setTimeout(d.bind(null, void 0, {
          type: "timeout",
          target: a
        }), 12e4);

        a.onerror = d.bind(null, a.onerror), a.onload = d.bind(null, a.onload), l && document.head.appendChild(a);
      }
    };
  }(), n.r = function (e) {
    "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(e, "__esModule", {
      value: !0
    });
  }, n.p = "/seanyeschool.github.io/projects/build/", function () {
    var e = {
      792: 0
    };

    n.f.j = function (t, r) {
      var i = n.o(e, t) ? e[t] : void 0;
      if (0 !== i) if (i) r.push(i[2]);else {
        var s = new Promise(function (n, r) {
          return i = e[t] = [n, r];
        });
        r.push(i[2] = s);
        var o = n.p + n.u(t),
            a = new Error();
        n.l(o, function (r) {
          if (n.o(e, t) && (0 !== (i = e[t]) && (e[t] = void 0), i)) {
            var s = r && ("load" === r.type ? "missing" : r.type),
                o = r && r.target && r.target.src;
            a.message = "Loading chunk " + t + " failed.\n(" + s + ": " + o + ")", a.name = "ChunkLoadError", a.type = s, a.request = o, i[1](a);
          }
        }, "chunk-" + t, t);
      }
    };

    var t = function t(_t2, r) {
      var i,
          s,
          o = r[0],
          a = r[1],
          l = r[2],
          u = 0;

      if (o.some(function (t) {
        return 0 !== e[t];
      })) {
        for (i in a) {
          n.o(a, i) && (n.m[i] = a[i]);
        }

        if (l) l(n);
      }

      for (_t2 && _t2(r); u < o.length; u++) {
        s = o[u], n.o(e, s) && e[s] && e[s][0](), e[s] = 0;
      }
    },
        r = self.webpackChunkreact_and_firebase_test = self.webpackChunkreact_and_firebase_test || [];

    r.forEach(t.bind(null, 0)), r.push = t.bind(null, r.push.bind(r));
  }();
  var r = n(43),
      i = n(391);

  var s = function s(e) {
    var t = [];
    var n = 0;

    for (var _r2 = 0; _r2 < e.length; _r2++) {
      var _i2 = e.charCodeAt(_r2);

      _i2 < 128 ? t[n++] = _i2 : _i2 < 2048 ? (t[n++] = _i2 >> 6 | 192, t[n++] = 63 & _i2 | 128) : 55296 === (64512 & _i2) && _r2 + 1 < e.length && 56320 === (64512 & e.charCodeAt(_r2 + 1)) ? (_i2 = 65536 + ((1023 & _i2) << 10) + (1023 & e.charCodeAt(++_r2)), t[n++] = _i2 >> 18 | 240, t[n++] = _i2 >> 12 & 63 | 128, t[n++] = _i2 >> 6 & 63 | 128, t[n++] = 63 & _i2 | 128) : (t[n++] = _i2 >> 12 | 224, t[n++] = _i2 >> 6 & 63 | 128, t[n++] = 63 & _i2 | 128);
    }

    return t;
  },
      o = {
    byteToCharMap_: null,
    charToByteMap_: null,
    byteToCharMapWebSafe_: null,
    charToByteMapWebSafe_: null,
    ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",

    get ENCODED_VALS() {
      return this.ENCODED_VALS_BASE + "+/=";
    },

    get ENCODED_VALS_WEBSAFE() {
      return this.ENCODED_VALS_BASE + "-_.";
    },

    HAS_NATIVE_SUPPORT: "function" === typeof atob,
    encodeByteArray: function encodeByteArray(e, t) {
      if (!Array.isArray(e)) throw Error("encodeByteArray takes an array as a parameter");
      this.init_();
      var n = t ? this.byteToCharMapWebSafe_ : this.byteToCharMap_,
          r = [];

      for (var _i3 = 0; _i3 < e.length; _i3 += 3) {
        var _t3 = e[_i3],
            _s2 = _i3 + 1 < e.length,
            _o2 = _s2 ? e[_i3 + 1] : 0,
            _a2 = _i3 + 2 < e.length,
            _l2 = _a2 ? e[_i3 + 2] : 0,
            _u2 = _t3 >> 2,
            _c2 = (3 & _t3) << 4 | _o2 >> 4;

        var _h2 = (15 & _o2) << 2 | _l2 >> 6,
            _d2 = 63 & _l2;

        _a2 || (_d2 = 64, _s2 || (_h2 = 64)), r.push(n[_u2], n[_c2], n[_h2], n[_d2]);
      }

      return r.join("");
    },
    encodeString: function encodeString(e, t) {
      return this.HAS_NATIVE_SUPPORT && !t ? btoa(e) : this.encodeByteArray(s(e), t);
    },
    decodeString: function decodeString(e, t) {
      return this.HAS_NATIVE_SUPPORT && !t ? atob(e) : function (e) {
        var t = [];
        var n = 0,
            r = 0;

        for (; n < e.length;) {
          var _i4 = e[n++];
          if (_i4 < 128) t[r++] = String.fromCharCode(_i4);else if (_i4 > 191 && _i4 < 224) {
            var _s3 = e[n++];
            t[r++] = String.fromCharCode((31 & _i4) << 6 | 63 & _s3);
          } else if (_i4 > 239 && _i4 < 365) {
            var _s4 = ((7 & _i4) << 18 | (63 & e[n++]) << 12 | (63 & e[n++]) << 6 | 63 & e[n++]) - 65536;

            t[r++] = String.fromCharCode(55296 + (_s4 >> 10)), t[r++] = String.fromCharCode(56320 + (1023 & _s4));
          } else {
            var _s5 = e[n++],
                _o3 = e[n++];
            t[r++] = String.fromCharCode((15 & _i4) << 12 | (63 & _s5) << 6 | 63 & _o3);
          }
        }

        return t.join("");
      }(this.decodeStringToByteArray(e, t));
    },
    decodeStringToByteArray: function decodeStringToByteArray(e, t) {
      this.init_();
      var n = t ? this.charToByteMapWebSafe_ : this.charToByteMap_,
          r = [];

      for (var _i5 = 0; _i5 < e.length;) {
        var _t4 = n[e.charAt(_i5++)],
            _s6 = _i5 < e.length ? n[e.charAt(_i5)] : 0;

        ++_i5;

        var _o4 = _i5 < e.length ? n[e.charAt(_i5)] : 64;

        ++_i5;

        var _l3 = _i5 < e.length ? n[e.charAt(_i5)] : 64;

        if (++_i5, null == _t4 || null == _s6 || null == _o4 || null == _l3) throw new a();

        var _u3 = _t4 << 2 | _s6 >> 4;

        if (r.push(_u3), 64 !== _o4) {
          var _e2 = _s6 << 4 & 240 | _o4 >> 2;

          if (r.push(_e2), 64 !== _l3) {
            var _e3 = _o4 << 6 & 192 | _l3;

            r.push(_e3);
          }
        }
      }

      return r;
    },
    init_: function init_() {
      if (!this.byteToCharMap_) {
        this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, this.charToByteMapWebSafe_ = {};

        for (var _e4 = 0; _e4 < this.ENCODED_VALS.length; _e4++) {
          this.byteToCharMap_[_e4] = this.ENCODED_VALS.charAt(_e4), this.charToByteMap_[this.byteToCharMap_[_e4]] = _e4, this.byteToCharMapWebSafe_[_e4] = this.ENCODED_VALS_WEBSAFE.charAt(_e4), this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e4]] = _e4, _e4 >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e4)] = _e4, this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e4)] = _e4);
        }
      }
    }
  };

  var a =
  /*#__PURE__*/
  function (_Error) {
    _inherits(a, _Error);

    function a() {
      var _this;

      _classCallCheck(this, a);

      _this = _possibleConstructorReturn(this, _getPrototypeOf(a).apply(this, arguments)), _this.name = "DecodeBase64StringError";
      return _this;
    }

    return a;
  }(_wrapNativeSuper(Error));

  var l = function l(e) {
    return function (e) {
      var t = s(e);
      return o.encodeByteArray(t, !0);
    }(e).replace(/\./g, "");
  },
      u = function u(e) {
    try {
      return o.decodeString(e, !0);
    } catch (t) {
      console.error("base64Decode failed: ", t);
    }

    return null;
  };

  var c = function c() {
    return function () {
      if ("undefined" !== typeof self) return self;
      if ("undefined" !== typeof window) return window;
      if ("undefined" !== typeof n.g) return n.g;
      throw new Error("Unable to locate global object.");
    }().__FIREBASE_DEFAULTS__;
  },
      h = function h() {
    try {
      return c() || function () {
        if ("undefined" === typeof process) return;
        var e = {
          NODE_ENV: "production",
          PUBLIC_URL: "/seanyeschool.github.io/projects/build",
          WDS_SOCKET_HOST: void 0,
          WDS_SOCKET_PATH: void 0,
          WDS_SOCKET_PORT: void 0,
          FAST_REFRESH: !0
        }.__FIREBASE_DEFAULTS__;
        return e ? JSON.parse(e) : void 0;
      }() || function () {
        if ("undefined" === typeof document) return;
        var e;

        try {
          e = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
        } catch (n) {
          return;
        }

        var t = e && u(e[1]);
        return t && JSON.parse(t);
      }();
    } catch (e) {
      return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e));
    }
  },
      d = function d(e) {
    var t, n;
    return null === (n = null === (t = h()) || void 0 === t ? void 0 : t.emulatorHosts) || void 0 === n ? void 0 : n[e];
  },
      f = function f(e) {
    var t = d(e);
    if (!t) return;
    var n = t.lastIndexOf(":");
    if (n <= 0 || n + 1 === t.length) throw new Error("Invalid host ".concat(t, " with no separate hostname and port!"));
    var r = parseInt(t.substring(n + 1), 10);
    return "[" === t[0] ? [t.substring(1, n - 1), r] : [t.substring(0, n), r];
  },
      p = function p() {
    var e;
    return null === (e = h()) || void 0 === e ? void 0 : e.config;
  },
      g = function g(e) {
    var t;
    return null === (t = h()) || void 0 === t ? void 0 : t["_".concat(e)];
  };

  var m =
  /*#__PURE__*/
  function () {
    function m() {
      var _this2 = this;

      _classCallCheck(this, m);

      this.reject = function () {}, this.resolve = function () {}, this.promise = new Promise(function (e, t) {
        _this2.resolve = e, _this2.reject = t;
      });
    }

    _createClass(m, [{
      key: "wrapCallback",
      value: function wrapCallback(e) {
        var _this3 = this;

        return function (t, n) {
          t ? _this3.reject(t) : _this3.resolve(n), "function" === typeof e && (_this3.promise["catch"](function () {}), 1 === e.length ? e(t) : e(t, n));
        };
      }
    }]);

    return m;
  }();

  function v() {
    return "undefined" !== typeof navigator && "string" === typeof navigator.userAgent ? navigator.userAgent : "";
  }

  function y() {
    return !function () {
      var e;
      var t = null === (e = h()) || void 0 === e ? void 0 : e.forceEnvironment;
      if ("node" === t) return !0;
      if ("browser" === t) return !1;

      try {
        return "[object process]" === Object.prototype.toString.call(n.g.process);
      } catch (r) {
        return !1;
      }
    }() && !!navigator.userAgent && navigator.userAgent.includes("Safari") && !navigator.userAgent.includes("Chrome");
  }

  function w() {
    try {
      return "object" === (typeof indexedDB === "undefined" ? "undefined" : _typeof(indexedDB));
    } catch (e) {
      return !1;
    }
  }

  var b =
  /*#__PURE__*/
  function (_Error2) {
    _inherits(b, _Error2);

    function b(e, t, n) {
      var _this4;

      _classCallCheck(this, b);

      _this4 = _possibleConstructorReturn(this, _getPrototypeOf(b).call(this, t)), _this4.code = e, _this4.customData = n, _this4.name = "FirebaseError", Object.setPrototypeOf(_assertThisInitialized(_this4), b.prototype), Error.captureStackTrace && Error.captureStackTrace(_assertThisInitialized(_this4), _.prototype.create);
      return _this4;
    }

    return b;
  }(_wrapNativeSuper(Error));

  var _ =
  /*#__PURE__*/
  function () {
    function _(e, t, n) {
      _classCallCheck(this, _);

      this.service = e, this.serviceName = t, this.errors = n;
    }

    _createClass(_, [{
      key: "create",
      value: function create(e) {
        var t = (arguments.length <= 1 ? void 0 : arguments[1]) || {},
            n = "".concat(this.service, "/").concat(e),
            r = this.errors[e],
            i = r ? function (e, t) {
          return e.replace(E, function (e, n) {
            var r = t[n];
            return null != r ? String(r) : "<".concat(n, "?>");
          });
        }(r, t) : "Error",
            s = "".concat(this.serviceName, ": ").concat(i, " (").concat(n, ").");
        return new b(n, s, t);
      }
    }]);

    return _;
  }();

  var E = /\{\$([^}]+)}/g;

  function S(e, t) {
    if (e === t) return !0;
    var n = Object.keys(e),
        r = Object.keys(t);

    for (var _i6 = 0, _n2 = n; _i6 < _n2.length; _i6++) {
      var _i8 = _n2[_i6];
      if (!r.includes(_i8)) return !1;
      var _n3 = e[_i8],
          _s7 = t[_i8];

      if (k(_n3) && k(_s7)) {
        if (!S(_n3, _s7)) return !1;
      } else if (_n3 !== _s7) return !1;
    }

    for (var _i7 = 0, _r3 = r; _i7 < _r3.length; _i7++) {
      var _i9 = _r3[_i7];
      if (!n.includes(_i9)) return !1;
    }

    return !0;
  }

  function k(e) {
    return null !== e && "object" === _typeof(e);
  }

  function T(e) {
    var t = [];

    var _loop = function _loop() {
      var _Object$entries$_i = _slicedToArray(_Object$entries[_i10], 2),
          n = _Object$entries$_i[0],
          r = _Object$entries$_i[1];

      Array.isArray(r) ? r.forEach(function (e) {
        t.push(encodeURIComponent(n) + "=" + encodeURIComponent(e));
      }) : t.push(encodeURIComponent(n) + "=" + encodeURIComponent(r));
    };

    for (var _i10 = 0, _Object$entries = Object.entries(e); _i10 < _Object$entries.length; _i10++) {
      _loop();
    }

    return t.length ? "&" + t.join("&") : "";
  }

  function I(e) {
    var t = {};
    return e.replace(/^\?/, "").split("&").forEach(function (e) {
      if (e) {
        var _e$split = e.split("="),
            _e$split2 = _slicedToArray(_e$split, 2),
            _n4 = _e$split2[0],
            _r4 = _e$split2[1];

        t[decodeURIComponent(_n4)] = decodeURIComponent(_r4);
      }
    }), t;
  }

  function C(e) {
    var t = e.indexOf("?");
    if (!t) return "";
    var n = e.indexOf("#", t);
    return e.substring(t, n > 0 ? n : void 0);
  }

  var N =
  /*#__PURE__*/
  function () {
    function N(e, t) {
      var _this5 = this;

      _classCallCheck(this, N);

      this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), this.finalized = !1, this.onNoObservers = t, this.task.then(function () {
        e(_this5);
      })["catch"](function (e) {
        _this5.error(e);
      });
    }

    _createClass(N, [{
      key: "next",
      value: function next(e) {
        this.forEachObserver(function (t) {
          t.next(e);
        });
      }
    }, {
      key: "error",
      value: function error(e) {
        this.forEachObserver(function (t) {
          t.error(e);
        }), this.close(e);
      }
    }, {
      key: "complete",
      value: function complete() {
        this.forEachObserver(function (e) {
          e.complete();
        }), this.close();
      }
    }, {
      key: "subscribe",
      value: function subscribe(e, t, n) {
        var _this6 = this;

        var r;
        if (void 0 === e && void 0 === t && void 0 === n) throw new Error("Missing Observer.");
        r = function (e, t) {
          if ("object" !== _typeof(e) || null === e) return !1;
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var _n5 = _step.value;
              if (_n5 in e && "function" === typeof e[_n5]) return !0;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                _iterator["return"]();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          return !1;
        }(e, ["next", "error", "complete"]) ? e : {
          next: e,
          error: t,
          complete: n
        }, void 0 === r.next && (r.next = A), void 0 === r.error && (r.error = A), void 0 === r.complete && (r.complete = A);
        var i = this.unsubscribeOne.bind(this, this.observers.length);
        return this.finalized && this.task.then(function () {
          try {
            _this6.finalError ? r.error(_this6.finalError) : r.complete();
          } catch (e) {}
        }), this.observers.push(r), i;
      }
    }, {
      key: "unsubscribeOne",
      value: function unsubscribeOne(e) {
        void 0 !== this.observers && void 0 !== this.observers[e] && (delete this.observers[e], this.observerCount -= 1, 0 === this.observerCount && void 0 !== this.onNoObservers && this.onNoObservers(this));
      }
    }, {
      key: "forEachObserver",
      value: function forEachObserver(e) {
        if (!this.finalized) for (var _t5 = 0; _t5 < this.observers.length; _t5++) {
          this.sendOne(_t5, e);
        }
      }
    }, {
      key: "sendOne",
      value: function sendOne(e, t) {
        var _this7 = this;

        this.task.then(function () {
          if (void 0 !== _this7.observers && void 0 !== _this7.observers[e]) try {
            t(_this7.observers[e]);
          } catch (n) {
            "undefined" !== typeof console && console.error && console.error(n);
          }
        });
      }
    }, {
      key: "close",
      value: function close(e) {
        var _this8 = this;

        this.finalized || (this.finalized = !0, void 0 !== e && (this.finalError = e), this.task.then(function () {
          _this8.observers = void 0, _this8.onNoObservers = void 0;
        }));
      }
    }]);

    return N;
  }();

  function A() {}

  function R(e) {
    return e && e._delegate ? e._delegate : e;
  }

  var P =
  /*#__PURE__*/
  function () {
    function P(e, t, n) {
      _classCallCheck(this, P);

      this.name = e, this.instanceFactory = t, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY", this.onInstanceCreated = null;
    }

    _createClass(P, [{
      key: "setInstantiationMode",
      value: function setInstantiationMode(e) {
        return this.instantiationMode = e, this;
      }
    }, {
      key: "setMultipleInstances",
      value: function setMultipleInstances(e) {
        return this.multipleInstances = e, this;
      }
    }, {
      key: "setServiceProps",
      value: function setServiceProps(e) {
        return this.serviceProps = e, this;
      }
    }, {
      key: "setInstanceCreatedCallback",
      value: function setInstanceCreatedCallback(e) {
        return this.onInstanceCreated = e, this;
      }
    }]);

    return P;
  }();

  var x = "[DEFAULT]";

  var D =
  /*#__PURE__*/
  function () {
    function D(e, t) {
      _classCallCheck(this, D);

      this.name = e, this.container = t, this.component = null, this.instances = new Map(), this.instancesDeferred = new Map(), this.instancesOptions = new Map(), this.onInitCallbacks = new Map();
    }

    _createClass(D, [{
      key: "get",
      value: function get(e) {
        var t = this.normalizeInstanceIdentifier(e);

        if (!this.instancesDeferred.has(t)) {
          var _e5 = new m();

          if (this.instancesDeferred.set(t, _e5), this.isInitialized(t) || this.shouldAutoInitialize()) try {
            var _n6 = this.getOrInitializeService({
              instanceIdentifier: t
            });

            _n6 && _e5.resolve(_n6);
          } catch (n) {}
        }

        return this.instancesDeferred.get(t).promise;
      }
    }, {
      key: "getImmediate",
      value: function getImmediate(e) {
        var t;
        var n = this.normalizeInstanceIdentifier(null === e || void 0 === e ? void 0 : e.identifier),
            r = null !== (t = null === e || void 0 === e ? void 0 : e.optional) && void 0 !== t && t;

        if (!this.isInitialized(n) && !this.shouldAutoInitialize()) {
          if (r) return null;
          throw Error("Service ".concat(this.name, " is not available"));
        }

        try {
          return this.getOrInitializeService({
            instanceIdentifier: n
          });
        } catch (i) {
          if (r) return null;
          throw i;
        }
      }
    }, {
      key: "getComponent",
      value: function getComponent() {
        return this.component;
      }
    }, {
      key: "setComponent",
      value: function setComponent(e) {
        if (e.name !== this.name) throw Error("Mismatching Component ".concat(e.name, " for Provider ").concat(this.name, "."));
        if (this.component) throw Error("Component for ".concat(this.name, " has already been provided"));

        if (this.component = e, this.shouldAutoInitialize()) {
          if (function (e) {
            return "EAGER" === e.instantiationMode;
          }(e)) try {
            this.getOrInitializeService({
              instanceIdentifier: x
            });
          } catch (t) {}
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = this.instancesDeferred.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var _step2$value = _slicedToArray(_step2.value, 2),
                  _e6 = _step2$value[0],
                  _n7 = _step2$value[1];

              var _r5 = this.normalizeInstanceIdentifier(_e6);

              try {
                var _e7 = this.getOrInitializeService({
                  instanceIdentifier: _r5
                });

                _n7.resolve(_e7);
              } catch (t) {}
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                _iterator2["return"]();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
        }
      }
    }, {
      key: "clearInstance",
      value: function clearInstance() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x;
        this.instancesDeferred["delete"](e), this.instancesOptions["delete"](e), this.instances["delete"](e);
      }
    }, {
      key: "delete",
      value: function _delete() {
        var e;
        return regeneratorRuntime.async(function _delete$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                e = Array.from(this.instances.values());
                _context.next = 3;
                return regeneratorRuntime.awrap(Promise.all([].concat(_toConsumableArray(e.filter(function (e) {
                  return "INTERNAL" in e;
                }).map(function (e) {
                  return e.INTERNAL["delete"]();
                })), _toConsumableArray(e.filter(function (e) {
                  return "_delete" in e;
                }).map(function (e) {
                  return e._delete();
                })))));

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "isComponentSet",
      value: function isComponentSet() {
        return null != this.component;
      }
    }, {
      key: "isInitialized",
      value: function isInitialized() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x;
        return this.instances.has(e);
      }
    }, {
      key: "getOptions",
      value: function getOptions() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x;
        return this.instancesOptions.get(e) || {};
      }
    }, {
      key: "initialize",
      value: function initialize() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        var _e$options = e.options,
            t = _e$options === void 0 ? {} : _e$options,
            n = this.normalizeInstanceIdentifier(e.instanceIdentifier);
        if (this.isInitialized(n)) throw Error("".concat(this.name, "(").concat(n, ") has already been initialized"));
        if (!this.isComponentSet()) throw Error("Component ".concat(this.name, " has not been registered yet"));
        var r = this.getOrInitializeService({
          instanceIdentifier: n,
          options: t
        });
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
          for (var _iterator3 = this.instancesDeferred.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
            var _step3$value = _slicedToArray(_step3.value, 2),
                _i11 = _step3$value[0],
                _s8 = _step3$value[1];

            n === this.normalizeInstanceIdentifier(_i11) && _s8.resolve(r);
          }
        } catch (err) {
          _didIteratorError3 = true;
          _iteratorError3 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
              _iterator3["return"]();
            }
          } finally {
            if (_didIteratorError3) {
              throw _iteratorError3;
            }
          }
        }

        return r;
      }
    }, {
      key: "onInit",
      value: function onInit(e, t) {
        var n;
        var r = this.normalizeInstanceIdentifier(t),
            i = null !== (n = this.onInitCallbacks.get(r)) && void 0 !== n ? n : new Set();
        i.add(e), this.onInitCallbacks.set(r, i);
        var s = this.instances.get(r);
        return s && e(s, r), function () {
          i["delete"](e);
        };
      }
    }, {
      key: "invokeOnInitCallbacks",
      value: function invokeOnInitCallbacks(e, t) {
        var n = this.onInitCallbacks.get(t);

        if (n) {
          var _iteratorNormalCompletion4 = true;
          var _didIteratorError4 = false;
          var _iteratorError4 = undefined;

          try {
            for (var _iterator4 = n[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
              var _i12 = _step4.value;

              try {
                _i12(e, t);
              } catch (r) {}
            }
          } catch (err) {
            _didIteratorError4 = true;
            _iteratorError4 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion4 && _iterator4["return"] != null) {
                _iterator4["return"]();
              }
            } finally {
              if (_didIteratorError4) {
                throw _iteratorError4;
              }
            }
          }
        }
      }
    }, {
      key: "getOrInitializeService",
      value: function getOrInitializeService(e) {
        var t = e.instanceIdentifier,
            _e$options2 = e.options,
            n = _e$options2 === void 0 ? {} : _e$options2,
            r = this.instances.get(t);
        if (!r && this.component && (r = this.component.instanceFactory(this.container, {
          instanceIdentifier: (i = t, i === x ? void 0 : i),
          options: n
        }), this.instances.set(t, r), this.instancesOptions.set(t, n), this.invokeOnInitCallbacks(r, t), this.component.onInstanceCreated)) try {
          this.component.onInstanceCreated(this.container, t, r);
        } catch (s) {}
        var i;
        return r || null;
      }
    }, {
      key: "normalizeInstanceIdentifier",
      value: function normalizeInstanceIdentifier() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x;
        return this.component ? this.component.multipleInstances ? e : x : e;
      }
    }, {
      key: "shouldAutoInitialize",
      value: function shouldAutoInitialize() {
        return !!this.component && "EXPLICIT" !== this.component.instantiationMode;
      }
    }]);

    return D;
  }();

  var O =
  /*#__PURE__*/
  function () {
    function O(e) {
      _classCallCheck(this, O);

      this.name = e, this.providers = new Map();
    }

    _createClass(O, [{
      key: "addComponent",
      value: function addComponent(e) {
        var t = this.getProvider(e.name);
        if (t.isComponentSet()) throw new Error("Component ".concat(e.name, " has already been registered with ").concat(this.name));
        t.setComponent(e);
      }
    }, {
      key: "addOrOverwriteComponent",
      value: function addOrOverwriteComponent(e) {
        this.getProvider(e.name).isComponentSet() && this.providers["delete"](e.name), this.addComponent(e);
      }
    }, {
      key: "getProvider",
      value: function getProvider(e) {
        if (this.providers.has(e)) return this.providers.get(e);
        var t = new D(e, this);
        return this.providers.set(e, t), t;
      }
    }, {
      key: "getProviders",
      value: function getProviders() {
        return Array.from(this.providers.values());
      }
    }]);

    return O;
  }();

  var L = [];
  var M;
  !function (e) {
    e[e.DEBUG = 0] = "DEBUG", e[e.VERBOSE = 1] = "VERBOSE", e[e.INFO = 2] = "INFO", e[e.WARN = 3] = "WARN", e[e.ERROR = 4] = "ERROR", e[e.SILENT = 5] = "SILENT";
  }(M || (M = {}));

  var F = {
    debug: M.DEBUG,
    verbose: M.VERBOSE,
    info: M.INFO,
    warn: M.WARN,
    error: M.ERROR,
    silent: M.SILENT
  },
      U = M.INFO,
      V = (_V = {}, _defineProperty(_V, M.DEBUG, "log"), _defineProperty(_V, M.VERBOSE, "log"), _defineProperty(_V, M.INFO, "info"), _defineProperty(_V, M.WARN, "warn"), _defineProperty(_V, M.ERROR, "error"), _V),
      z = function z(e, t) {
    var _console;

    if (t < e.logLevel) return;
    var n = new Date().toISOString(),
        r = V[t];
    if (!r) throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t, ")"));

    for (var i = arguments.length, s = new Array(i > 2 ? i - 2 : 0), o = 2; o < i; o++) {
      s[o - 2] = arguments[o];
    }

    (_console = console)[r].apply(_console, ["[".concat(n, "]  ").concat(e.name, ":")].concat(s));
  };

  var j =
  /*#__PURE__*/
  function () {
    function j(e) {
      _classCallCheck(this, j);

      this.name = e, this._logLevel = U, this._logHandler = z, this._userLogHandler = null, L.push(this);
    }

    _createClass(j, [{
      key: "setLogLevel",
      value: function setLogLevel(e) {
        this._logLevel = "string" === typeof e ? F[e] : e;
      }
    }, {
      key: "debug",
      value: function debug() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
          t[n] = arguments[n];
        }

        this._userLogHandler && this._userLogHandler.apply(this, [this, M.DEBUG].concat(t)), this._logHandler.apply(this, [this, M.DEBUG].concat(t));
      }
    }, {
      key: "log",
      value: function log() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
          t[n] = arguments[n];
        }

        this._userLogHandler && this._userLogHandler.apply(this, [this, M.VERBOSE].concat(t)), this._logHandler.apply(this, [this, M.VERBOSE].concat(t));
      }
    }, {
      key: "info",
      value: function info() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
          t[n] = arguments[n];
        }

        this._userLogHandler && this._userLogHandler.apply(this, [this, M.INFO].concat(t)), this._logHandler.apply(this, [this, M.INFO].concat(t));
      }
    }, {
      key: "warn",
      value: function warn() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
          t[n] = arguments[n];
        }

        this._userLogHandler && this._userLogHandler.apply(this, [this, M.WARN].concat(t)), this._logHandler.apply(this, [this, M.WARN].concat(t));
      }
    }, {
      key: "error",
      value: function error() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
          t[n] = arguments[n];
        }

        this._userLogHandler && this._userLogHandler.apply(this, [this, M.ERROR].concat(t)), this._logHandler.apply(this, [this, M.ERROR].concat(t));
      }
    }, {
      key: "logLevel",
      get: function get() {
        return this._logLevel;
      },
      set: function set(e) {
        if (!(e in M)) throw new TypeError("Invalid value \"".concat(e, "\" assigned to `logLevel`"));
        this._logLevel = e;
      }
    }, {
      key: "logHandler",
      get: function get() {
        return this._logHandler;
      },
      set: function set(e) {
        if ("function" !== typeof e) throw new TypeError("Value assigned to `logHandler` must be a function");
        this._logHandler = e;
      }
    }, {
      key: "userLogHandler",
      get: function get() {
        return this._userLogHandler;
      },
      set: function set(e) {
        this._userLogHandler = e;
      }
    }]);

    return j;
  }();

  var B = function B(e, t) {
    return t.some(function (t) {
      return e instanceof t;
    });
  };

  var $, q;
  var H = new WeakMap(),
      K = new WeakMap(),
      W = new WeakMap(),
      G = new WeakMap(),
      Q = new WeakMap();
  var X = {
    get: function get(e, t, n) {
      if (e instanceof IDBTransaction) {
        if ("done" === t) return K.get(e);
        if ("objectStoreNames" === t) return e.objectStoreNames || W.get(e);
        if ("store" === t) return n.objectStoreNames[1] ? void 0 : n.objectStore(n.objectStoreNames[0]);
      }

      return Z(e[t]);
    },
    set: function set(e, t, n) {
      return e[t] = n, !0;
    },
    has: function has(e, t) {
      return e instanceof IDBTransaction && ("done" === t || "store" === t) || t in e;
    }
  };

  function Y(e) {
    return e !== IDBDatabase.prototype.transaction || "objectStoreNames" in IDBTransaction.prototype ? (q || (q = [IDBCursor.prototype.advance, IDBCursor.prototype["continue"], IDBCursor.prototype.continuePrimaryKey])).includes(e) ? function () {
      for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) {
        n[r] = arguments[r];
      }

      return e.apply(ee(this), n), Z(H.get(this));
    } : function () {
      for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) {
        n[r] = arguments[r];
      }

      return Z(e.apply(ee(this), n));
    } : function (t) {
      for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) {
        r[i - 1] = arguments[i];
      }

      var s = e.call.apply(e, [ee(this), t].concat(r));
      return W.set(s, t.sort ? t.sort() : [t]), Z(s);
    };
  }

  function J(e) {
    return "function" === typeof e ? Y(e) : (e instanceof IDBTransaction && function (e) {
      if (K.has(e)) return;
      var t = new Promise(function (t, n) {
        var r = function r() {
          e.removeEventListener("complete", i), e.removeEventListener("error", s), e.removeEventListener("abort", s);
        },
            i = function i() {
          t(), r();
        },
            s = function s() {
          n(e.error || new DOMException("AbortError", "AbortError")), r();
        };

        e.addEventListener("complete", i), e.addEventListener("error", s), e.addEventListener("abort", s);
      });
      K.set(e, t);
    }(e), B(e, $ || ($ = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction])) ? new Proxy(e, X) : e);
  }

  function Z(e) {
    if (e instanceof IDBRequest) return function (e) {
      var t = new Promise(function (t, n) {
        var r = function r() {
          e.removeEventListener("success", i), e.removeEventListener("error", s);
        },
            i = function i() {
          t(Z(e.result)), r();
        },
            s = function s() {
          n(e.error), r();
        };

        e.addEventListener("success", i), e.addEventListener("error", s);
      });
      return t.then(function (t) {
        t instanceof IDBCursor && H.set(t, e);
      })["catch"](function () {}), Q.set(t, e), t;
    }(e);
    if (G.has(e)) return G.get(e);
    var t = J(e);
    return t !== e && (G.set(e, t), Q.set(t, e)), t;
  }

  var ee = function ee(e) {
    return Q.get(e);
  };

  var te = ["get", "getKey", "getAll", "getAllKeys", "count"],
      ne = ["put", "add", "delete", "clear"],
      re = new Map();

  function ie(e, t) {
    if (!(e instanceof IDBDatabase) || t in e || "string" !== typeof t) return;
    if (re.get(t)) return re.get(t);
    var n = t.replace(/FromIndex$/, ""),
        r = t !== n,
        i = ne.includes(n);
    if (!(n in (r ? IDBIndex : IDBObjectStore).prototype) || !i && !te.includes(n)) return;

    var s = function s(e) {
      var _s9;

      var t,
          s,
          o,
          a,
          l,
          _args2 = arguments;
      return regeneratorRuntime.async(function s$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              t = this.transaction(e, i ? "readwrite" : "readonly");
              s = t.store;

              for (o = _args2.length, a = new Array(o > 1 ? o - 1 : 0), l = 1; l < o; l++) {
                a[l - 1] = _args2[l];
              }

              r && (s = s.index(a.shift()));
              _context2.next = 6;
              return regeneratorRuntime.awrap(Promise.all([(_s9 = s)[n].apply(_s9, a), i && t.done]));

            case 6:
              return _context2.abrupt("return", _context2.sent[0]);

            case 7:
            case "end":
              return _context2.stop();
          }
        }
      }, null, this);
    };

    return re.set(t, s), s;
  }

  X = function (e) {
    return _objectSpread({}, e, {
      get: function get(t, n, r) {
        return ie(t, n) || e.get(t, n, r);
      },
      has: function has(t, n) {
        return !!ie(t, n) || e.has(t, n);
      }
    });
  }(X);

  var se =
  /*#__PURE__*/
  function () {
    function se(e) {
      _classCallCheck(this, se);

      this.container = e;
    }

    _createClass(se, [{
      key: "getPlatformInfoString",
      value: function getPlatformInfoString() {
        return this.container.getProviders().map(function (e) {
          if (function (e) {
            var t = e.getComponent();
            return "VERSION" === (null === t || void 0 === t ? void 0 : t.type);
          }(e)) {
            var _t6 = e.getImmediate();

            return "".concat(_t6.library, "/").concat(_t6.version);
          }

          return null;
        }).filter(function (e) {
          return e;
        }).join(" ");
      }
    }]);

    return se;
  }();

  var oe = "@firebase/app",
      ae = "0.10.9",
      le = new j("@firebase/app"),
      ue = "@firebase/app-compat",
      ce = "@firebase/analytics-compat",
      he = "@firebase/analytics",
      de = "@firebase/app-check-compat",
      fe = "@firebase/app-check",
      pe = "@firebase/auth",
      ge = "@firebase/auth-compat",
      me = "@firebase/database",
      ve = "@firebase/database-compat",
      ye = "@firebase/functions",
      we = "@firebase/functions-compat",
      be = "@firebase/installations",
      _e = "@firebase/installations-compat",
      Ee = "@firebase/messaging",
      Se = "@firebase/messaging-compat",
      ke = "@firebase/performance",
      Te = "@firebase/performance-compat",
      Ie = "@firebase/remote-config",
      Ce = "@firebase/remote-config-compat",
      Ne = "@firebase/storage",
      Ae = "@firebase/storage-compat",
      Re = "@firebase/firestore",
      Pe = "@firebase/vertexai-preview",
      xe = "@firebase/firestore-compat",
      De = "firebase",
      Oe = "[DEFAULT]",
      Le = (_Le = {}, _defineProperty(_Le, oe, "fire-core"), _defineProperty(_Le, ue, "fire-core-compat"), _defineProperty(_Le, he, "fire-analytics"), _defineProperty(_Le, ce, "fire-analytics-compat"), _defineProperty(_Le, fe, "fire-app-check"), _defineProperty(_Le, de, "fire-app-check-compat"), _defineProperty(_Le, pe, "fire-auth"), _defineProperty(_Le, ge, "fire-auth-compat"), _defineProperty(_Le, me, "fire-rtdb"), _defineProperty(_Le, ve, "fire-rtdb-compat"), _defineProperty(_Le, ye, "fire-fn"), _defineProperty(_Le, we, "fire-fn-compat"), _defineProperty(_Le, be, "fire-iid"), _defineProperty(_Le, _e, "fire-iid-compat"), _defineProperty(_Le, Ee, "fire-fcm"), _defineProperty(_Le, Se, "fire-fcm-compat"), _defineProperty(_Le, ke, "fire-perf"), _defineProperty(_Le, Te, "fire-perf-compat"), _defineProperty(_Le, Ie, "fire-rc"), _defineProperty(_Le, Ce, "fire-rc-compat"), _defineProperty(_Le, Ne, "fire-gcs"), _defineProperty(_Le, Ae, "fire-gcs-compat"), _defineProperty(_Le, Re, "fire-fst"), _defineProperty(_Le, xe, "fire-fst-compat"), _defineProperty(_Le, Pe, "fire-vertex"), _defineProperty(_Le, "fire-js", "fire-js"), _defineProperty(_Le, De, "fire-js-all"), _Le),
      Me = new Map(),
      Fe = new Map(),
      Ue = new Map();

  function Ve(e, t) {
    try {
      e.container.addComponent(t);
    } catch (n) {
      le.debug("Component ".concat(t.name, " failed to register with FirebaseApp ").concat(e.name), n);
    }
  }

  function ze(e) {
    var t = e.name;
    if (Ue.has(t)) return le.debug("There were multiple attempts to register component ".concat(t, ".")), !1;
    Ue.set(t, e);
    var _iteratorNormalCompletion5 = true;
    var _didIteratorError5 = false;
    var _iteratorError5 = undefined;

    try {
      for (var _iterator5 = Me.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
        var _n8 = _step5.value;
        Ve(_n8, e);
      }
    } catch (err) {
      _didIteratorError5 = true;
      _iteratorError5 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion5 && _iterator5["return"] != null) {
          _iterator5["return"]();
        }
      } finally {
        if (_didIteratorError5) {
          throw _iteratorError5;
        }
      }
    }

    var _iteratorNormalCompletion6 = true;
    var _didIteratorError6 = false;
    var _iteratorError6 = undefined;

    try {
      for (var _iterator6 = Fe.values()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
        var _n9 = _step6.value;
        Ve(_n9, e);
      }
    } catch (err) {
      _didIteratorError6 = true;
      _iteratorError6 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion6 && _iterator6["return"] != null) {
          _iterator6["return"]();
        }
      } finally {
        if (_didIteratorError6) {
          throw _iteratorError6;
        }
      }
    }

    return !0;
  }

  function je(e, t) {
    var n = e.container.getProvider("heartbeat").getImmediate({
      optional: !0
    });
    return n && n.triggerHeartbeat(), e.container.getProvider(t);
  }

  function Be(e) {
    return void 0 !== e.settings;
  }

  var $e = new _("app", "Firebase", {
    "no-app": "No Firebase App '{$appName}' has been created - call initializeApp() first",
    "bad-app-name": "Illegal App name: '{$appName}'",
    "duplicate-app": "Firebase App named '{$appName}' already exists with different options or config",
    "app-deleted": "Firebase App named '{$appName}' already deleted",
    "server-app-deleted": "Firebase Server App has been deleted",
    "no-options": "Need to provide options, when not being deployed to hosting via source.",
    "invalid-app-argument": "firebase.{$appName}() takes either no argument or a Firebase App instance.",
    "invalid-log-argument": "First argument to `onLog` must be null or a function.",
    "idb-open": "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-get": "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-set": "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-delete": "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
    "finalization-registry-not-supported": "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
    "invalid-server-app-environment": "FirebaseServerApp is not for use in browser environments."
  });

  var qe =
  /*#__PURE__*/
  function () {
    function qe(e, t, n) {
      var _this9 = this;

      _classCallCheck(this, qe);

      this._isDeleted = !1, this._options = Object.assign({}, e), this._config = Object.assign({}, t), this._name = t.name, this._automaticDataCollectionEnabled = t.automaticDataCollectionEnabled, this._container = n, this.container.addComponent(new P("app", function () {
        return _this9;
      }, "PUBLIC"));
    }

    _createClass(qe, [{
      key: "checkDestroyed",
      value: function checkDestroyed() {
        if (this.isDeleted) throw $e.create("app-deleted", {
          appName: this._name
        });
      }
    }, {
      key: "automaticDataCollectionEnabled",
      get: function get() {
        return this.checkDestroyed(), this._automaticDataCollectionEnabled;
      },
      set: function set(e) {
        this.checkDestroyed(), this._automaticDataCollectionEnabled = e;
      }
    }, {
      key: "name",
      get: function get() {
        return this.checkDestroyed(), this._name;
      }
    }, {
      key: "options",
      get: function get() {
        return this.checkDestroyed(), this._options;
      }
    }, {
      key: "config",
      get: function get() {
        return this.checkDestroyed(), this._config;
      }
    }, {
      key: "container",
      get: function get() {
        return this._container;
      }
    }, {
      key: "isDeleted",
      get: function get() {
        return this._isDeleted;
      },
      set: function set(e) {
        this._isDeleted = e;
      }
    }]);

    return qe;
  }();

  var He = "10.13.0";

  function Ke(e) {
    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
        n = e;

    if ("object" !== _typeof(t)) {
      t = {
        name: t
      };
    }

    var r = Object.assign({
      name: Oe,
      automaticDataCollectionEnabled: !1
    }, t),
        i = r.name;
    if ("string" !== typeof i || !i) throw $e.create("bad-app-name", {
      appName: String(i)
    });
    if (n || (n = p()), !n) throw $e.create("no-options");
    var s = Me.get(i);

    if (s) {
      if (S(n, s.options) && S(r, s.config)) return s;
      throw $e.create("duplicate-app", {
        appName: i
      });
    }

    var o = new O(i);
    var _iteratorNormalCompletion7 = true;
    var _didIteratorError7 = false;
    var _iteratorError7 = undefined;

    try {
      for (var _iterator7 = Ue.values()[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {
        var _l4 = _step7.value;
        o.addComponent(_l4);
      }
    } catch (err) {
      _didIteratorError7 = true;
      _iteratorError7 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion7 && _iterator7["return"] != null) {
          _iterator7["return"]();
        }
      } finally {
        if (_didIteratorError7) {
          throw _iteratorError7;
        }
      }
    }

    var a = new qe(n, r, o);
    return Me.set(i, a), a;
  }

  function We() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Oe;
    var t = Me.get(e);
    if (!t && e === Oe && p()) return Ke();
    if (!t) throw $e.create("no-app", {
      appName: e
    });
    return t;
  }

  function Ge(e, t, n) {
    var r;
    var i = null !== (r = Le[e]) && void 0 !== r ? r : e;
    n && (i += "-".concat(n));
    var s = i.match(/\s|\//),
        o = t.match(/\s|\//);

    if (s || o) {
      var _e8 = ["Unable to register library \"".concat(i, "\" with version \"").concat(t, "\":")];
      return s && _e8.push("library name \"".concat(i, "\" contains illegal characters (whitespace or \"/\")")), s && o && _e8.push("and"), o && _e8.push("version name \"".concat(t, "\" contains illegal characters (whitespace or \"/\")")), void le.warn(_e8.join(" "));
    }

    ze(new P("".concat(i, "-version"), function () {
      return {
        library: i,
        version: t
      };
    }, "VERSION"));
  }

  var Qe = "firebase-heartbeat-database",
      Xe = 1,
      Ye = "firebase-heartbeat-store";
  var Je = null;

  function Ze() {
    return Je || (Je = function (e, t) {
      var _ref = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
          n = _ref.blocked,
          r = _ref.upgrade,
          i = _ref.blocking,
          s = _ref.terminated;

      var o = indexedDB.open(e, t),
          a = Z(o);
      return r && o.addEventListener("upgradeneeded", function (e) {
        r(Z(o.result), e.oldVersion, e.newVersion, Z(o.transaction), e);
      }), n && o.addEventListener("blocked", function (e) {
        return n(e.oldVersion, e.newVersion, e);
      }), a.then(function (e) {
        s && e.addEventListener("close", function () {
          return s();
        }), i && e.addEventListener("versionchange", function (e) {
          return i(e.oldVersion, e.newVersion, e);
        });
      })["catch"](function () {}), a;
    }(Qe, Xe, {
      upgrade: function upgrade(e, t) {
        if (0 === t) try {
          e.createObjectStore(Ye);
        } catch (n) {
          console.warn(n);
        }
      }
    })["catch"](function (e) {
      throw $e.create("idb-open", {
        originalErrorMessage: e.message
      });
    })), Je;
  }

  function et(e, t) {
    var _n10, _r6, _e9;

    return regeneratorRuntime.async(function et$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.prev = 0;
            _context3.next = 3;
            return regeneratorRuntime.awrap(Ze());

          case 3:
            _context3.t0 = Ye;
            _n10 = _context3.sent.transaction(_context3.t0, "readwrite");
            _r6 = _n10.objectStore(Ye);
            _context3.next = 8;
            return regeneratorRuntime.awrap(_r6.put(t, tt(e)));

          case 8:
            _context3.next = 10;
            return regeneratorRuntime.awrap(_n10.done);

          case 10:
            _context3.next = 15;
            break;

          case 12:
            _context3.prev = 12;
            _context3.t1 = _context3["catch"](0);
            if (_context3.t1 instanceof b) le.warn(_context3.t1.message);else {
              _e9 = $e.create("idb-set", {
                originalErrorMessage: null === _context3.t1 || void 0 === _context3.t1 ? void 0 : _context3.t1.message
              });
              le.warn(_e9.message);
            }

          case 15:
          case "end":
            return _context3.stop();
        }
      }
    }, null, null, [[0, 12]]);
  }

  function tt(e) {
    return "".concat(e.name, "!").concat(e.options.appId);
  }

  var nt =
  /*#__PURE__*/
  function () {
    function nt(e) {
      var _this10 = this;

      _classCallCheck(this, nt);

      this.container = e, this._heartbeatsCache = null;
      var t = this.container.getProvider("app").getImmediate();
      this._storage = new it(t), this._heartbeatsCachePromise = this._storage.read().then(function (e) {
        return _this10._heartbeatsCache = e, e;
      });
    }

    _createClass(nt, [{
      key: "triggerHeartbeat",
      value: function triggerHeartbeat() {
        var e, t, n, _r7, _i13;

        return regeneratorRuntime.async(function triggerHeartbeat$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.prev = 0;
                _r7 = this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(), _i13 = rt();
                console.log("heartbeats", null === (e = this._heartbeatsCache) || void 0 === e ? void 0 : e.heartbeats);
                _context4.t0 = null == (null === (t = this._heartbeatsCache) || void 0 === t ? void 0 : t.heartbeats);

                if (!_context4.t0) {
                  _context4.next = 9;
                  break;
                }

                _context4.next = 7;
                return regeneratorRuntime.awrap(this._heartbeatsCachePromise);

              case 7:
                this._heartbeatsCache = _context4.sent;
                _context4.t0 = null == (null === (n = this._heartbeatsCache) || void 0 === n ? void 0 : n.heartbeats);

              case 9:
                if (!_context4.t0) {
                  _context4.next = 11;
                  break;
                }

                return _context4.abrupt("return");

              case 11:
                if (!(this._heartbeatsCache.lastSentHeartbeatDate === _i13 || this._heartbeatsCache.heartbeats.some(function (e) {
                  return e.date === _i13;
                }))) {
                  _context4.next = 13;
                  break;
                }

                return _context4.abrupt("return");

              case 13:
                return _context4.abrupt("return", (this._heartbeatsCache.heartbeats.push({
                  date: _i13,
                  agent: _r7
                }), this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter(function (e) {
                  var t = new Date(e.date).valueOf();
                  return Date.now() - t <= 2592e6;
                }), this._storage.overwrite(this._heartbeatsCache)));

              case 16:
                _context4.prev = 16;
                _context4.t1 = _context4["catch"](0);
                le.warn(_context4.t1);

              case 19:
              case "end":
                return _context4.stop();
            }
          }
        }, null, this, [[0, 16]]);
      }
    }, {
      key: "getHeartbeatsHeader",
      value: function getHeartbeatsHeader() {
        var e, t, _ref2, n, _r8, _i14;

        return regeneratorRuntime.async(function getHeartbeatsHeader$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _context5.prev = 0;
                _context5.t0 = null === this._heartbeatsCache;

                if (!_context5.t0) {
                  _context5.next = 5;
                  break;
                }

                _context5.next = 5;
                return regeneratorRuntime.awrap(this._heartbeatsCachePromise);

              case 5:
                if (!(null == (null === (e = this._heartbeatsCache) || void 0 === e ? void 0 : e.heartbeats) || 0 === this._heartbeatsCache.heartbeats.length)) {
                  _context5.next = 7;
                  break;
                }

                return _context5.abrupt("return", "");

              case 7:
                t = rt(), _ref2 = function (e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1024;
                  var n = [];
                  var r = e.slice();
                  var _iteratorNormalCompletion8 = true;
                  var _didIteratorError8 = false;
                  var _iteratorError8 = undefined;

                  try {
                    var _loop2 = function _loop2() {
                      var i = _step8.value;
                      var e = n.find(function (e) {
                        return e.agent === i.agent;
                      });

                      if (e) {
                        if (e.dates.push(i.date), st(n) > t) {
                          e.dates.pop();
                          return "break";
                        }
                      } else if (n.push({
                        agent: i.agent,
                        dates: [i.date]
                      }), st(n) > t) {
                        n.pop();
                        return "break";
                      }

                      r = r.slice(1);
                    };

                    for (var _iterator8 = e[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {
                      var _ret = _loop2();

                      if (_ret === "break") break;
                    }
                  } catch (err) {
                    _didIteratorError8 = true;
                    _iteratorError8 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion8 && _iterator8["return"] != null) {
                        _iterator8["return"]();
                      }
                    } finally {
                      if (_didIteratorError8) {
                        throw _iteratorError8;
                      }
                    }
                  }

                  return {
                    heartbeatsToSend: n,
                    unsentEntries: r
                  };
                }(this._heartbeatsCache.heartbeats), n = _ref2.heartbeatsToSend, _r8 = _ref2.unsentEntries, _i14 = l(JSON.stringify({
                  version: 2,
                  heartbeats: n
                }));
                this._heartbeatsCache.lastSentHeartbeatDate = t;

                if (!(_r8.length > 0)) {
                  _context5.next = 15;
                  break;
                }

                this._heartbeatsCache.heartbeats = _r8;
                _context5.next = 13;
                return regeneratorRuntime.awrap(this._storage.overwrite(this._heartbeatsCache));

              case 13:
                _context5.next = 16;
                break;

              case 15:
                this._heartbeatsCache.heartbeats = [], this._storage.overwrite(this._heartbeatsCache);

              case 16:
                return _context5.abrupt("return", _i14);

              case 19:
                _context5.prev = 19;
                _context5.t1 = _context5["catch"](0);
                return _context5.abrupt("return", (le.warn(_context5.t1), ""));

              case 22:
              case "end":
                return _context5.stop();
            }
          }
        }, null, this, [[0, 19]]);
      }
    }]);

    return nt;
  }();

  function rt() {
    return new Date().toISOString().substring(0, 10);
  }

  var it =
  /*#__PURE__*/
  function () {
    function it(e) {
      _classCallCheck(this, it);

      this.app = e, this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();
    }

    _createClass(it, [{
      key: "runIndexedDBEnvironmentCheck",
      value: function runIndexedDBEnvironmentCheck() {
        return regeneratorRuntime.async(function runIndexedDBEnvironmentCheck$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                return _context6.abrupt("return", !!w() && new Promise(function (e, t) {
                  try {
                    var n = !0;

                    var _r9 = "validate-browser-context-for-indexeddb-analytics-module",
                        _i15 = self.indexedDB.open(_r9);

                    _i15.onsuccess = function () {
                      _i15.result.close(), n || self.indexedDB.deleteDatabase(_r9), e(!0);
                    }, _i15.onupgradeneeded = function () {
                      n = !1;
                    }, _i15.onerror = function () {
                      var e;
                      t((null === (e = _i15.error) || void 0 === e ? void 0 : e.message) || "");
                    };
                  } catch (n) {
                    t(n);
                  }
                }).then(function () {
                  return !0;
                })["catch"](function () {
                  return !1;
                }));

              case 1:
              case "end":
                return _context6.stop();
            }
          }
        });
      }
    }, {
      key: "read",
      value: function read() {
        var e;
        return regeneratorRuntime.async(function read$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                _context8.next = 2;
                return regeneratorRuntime.awrap(this._canUseIndexedDBPromise);

              case 2:
                if (!_context8.sent) {
                  _context8.next = 7;
                  break;
                }

                _context8.next = 5;
                return regeneratorRuntime.awrap(function _callee(e) {
                  var t, n, _e10;

                  return regeneratorRuntime.async(function _callee$(_context7) {
                    while (1) {
                      switch (_context7.prev = _context7.next) {
                        case 0:
                          _context7.prev = 0;
                          _context7.next = 3;
                          return regeneratorRuntime.awrap(Ze());

                        case 3:
                          _context7.t0 = Ye;
                          t = _context7.sent.transaction(_context7.t0);
                          _context7.next = 7;
                          return regeneratorRuntime.awrap(t.objectStore(Ye).get(tt(e)));

                        case 7:
                          n = _context7.sent;
                          _context7.next = 10;
                          return regeneratorRuntime.awrap(t.done);

                        case 10:
                          return _context7.abrupt("return", n);

                        case 13:
                          _context7.prev = 13;
                          _context7.t1 = _context7["catch"](0);
                          if (_context7.t1 instanceof b) le.warn(_context7.t1.message);else {
                            _e10 = $e.create("idb-get", {
                              originalErrorMessage: null === _context7.t1 || void 0 === _context7.t1 ? void 0 : _context7.t1.message
                            });
                            le.warn(_e10.message);
                          }

                        case 16:
                        case "end":
                          return _context7.stop();
                      }
                    }
                  }, null, null, [[0, 13]]);
                }(this.app));

              case 5:
                e = _context8.sent;
                return _context8.abrupt("return", (null === e || void 0 === e ? void 0 : e.heartbeats) ? e : {
                  heartbeats: []
                });

              case 7:
                return _context8.abrupt("return", {
                  heartbeats: []
                });

              case 8:
              case "end":
                return _context8.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "overwrite",
      value: function overwrite(e) {
        var t, n;
        return regeneratorRuntime.async(function overwrite$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return regeneratorRuntime.awrap(this._canUseIndexedDBPromise);

              case 2:
                if (!_context9.sent) {
                  _context9.next = 7;
                  break;
                }

                _context9.next = 5;
                return regeneratorRuntime.awrap(this.read());

              case 5:
                n = _context9.sent;
                return _context9.abrupt("return", et(this.app, {
                  lastSentHeartbeatDate: null !== (t = e.lastSentHeartbeatDate) && void 0 !== t ? t : n.lastSentHeartbeatDate,
                  heartbeats: e.heartbeats
                }));

              case 7:
              case "end":
                return _context9.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "add",
      value: function add(e) {
        var t, n;
        return regeneratorRuntime.async(function add$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _context10.next = 2;
                return regeneratorRuntime.awrap(this._canUseIndexedDBPromise);

              case 2:
                if (!_context10.sent) {
                  _context10.next = 7;
                  break;
                }

                _context10.next = 5;
                return regeneratorRuntime.awrap(this.read());

              case 5:
                n = _context10.sent;
                return _context10.abrupt("return", et(this.app, {
                  lastSentHeartbeatDate: null !== (t = e.lastSentHeartbeatDate) && void 0 !== t ? t : n.lastSentHeartbeatDate,
                  heartbeats: [].concat(_toConsumableArray(n.heartbeats), _toConsumableArray(e.heartbeats))
                }));

              case 7:
              case "end":
                return _context10.stop();
            }
          }
        }, null, this);
      }
    }]);

    return it;
  }();

  function st(e) {
    return l(JSON.stringify({
      version: 2,
      heartbeats: e
    })).length;
  }

  var ot;
  ot = "", ze(new P("platform-logger", function (e) {
    return new se(e);
  }, "PRIVATE")), ze(new P("heartbeat", function (e) {
    return new nt(e);
  }, "PRIVATE")), Ge(oe, ae, ot), Ge(oe, ae, "esm2017"), Ge("fire-js", "");
  Ge("firebase", "10.13.0", "app");
  var at,
      lt,
      ut = "undefined" !== typeof globalThis ? globalThis : "undefined" !== typeof window ? window : "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : {},
      ct = {};
  (function () {
    var e;

    function t() {
      this.blockSize = -1, this.blockSize = 64, this.g = Array(4), this.B = Array(this.blockSize), this.o = this.h = 0, this.s();
    }

    function n(e, t, n) {
      n || (n = 0);
      var r = Array(16);
      if ("string" === typeof t) for (var i = 0; 16 > i; ++i) {
        r[i] = t.charCodeAt(n++) | t.charCodeAt(n++) << 8 | t.charCodeAt(n++) << 16 | t.charCodeAt(n++) << 24;
      } else for (i = 0; 16 > i; ++i) {
        r[i] = t[n++] | t[n++] << 8 | t[n++] << 16 | t[n++] << 24;
      }
      t = e.g[0], n = e.g[1], i = e.g[2];
      var s = e.g[3],
          o = t + (s ^ n & (i ^ s)) + r[0] + 3614090360 & 4294967295;
      o = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = (n = (i = (s = (t = n + (o << 7 & 4294967295 | o >>> 25)) + ((o = s + (i ^ t & (n ^ i)) + r[1] + 3905402710 & 4294967295) << 12 & 4294967295 | o >>> 20)) + ((o = i + (n ^ s & (t ^ n)) + r[2] + 606105819 & 4294967295) << 17 & 4294967295 | o >>> 15)) + ((o = n + (t ^ i & (s ^ t)) + r[3] + 3250441966 & 4294967295) << 22 & 4294967295 | o >>> 10)) + ((o = t + (s ^ n & (i ^ s)) + r[4] + 4118548399 & 4294967295) << 7 & 4294967295 | o >>> 25)) + ((o = s + (i ^ t & (n ^ i)) + r[5] + 1200080426 & 4294967295) << 12 & 4294967295 | o >>> 20)) + ((o = i + (n ^ s & (t ^ n)) + r[6] + 2821735955 & 4294967295) << 17 & 4294967295 | o >>> 15)) + ((o = n + (t ^ i & (s ^ t)) + r[7] + 4249261313 & 4294967295) << 22 & 4294967295 | o >>> 10)) + ((o = t + (s ^ n & (i ^ s)) + r[8] + 1770035416 & 4294967295) << 7 & 4294967295 | o >>> 25)) + ((o = s + (i ^ t & (n ^ i)) + r[9] + 2336552879 & 4294967295) << 12 & 4294967295 | o >>> 20)) + ((o = i + (n ^ s & (t ^ n)) + r[10] + 4294925233 & 4294967295) << 17 & 4294967295 | o >>> 15)) + ((o = n + (t ^ i & (s ^ t)) + r[11] + 2304563134 & 4294967295) << 22 & 4294967295 | o >>> 10)) + ((o = t + (s ^ n & (i ^ s)) + r[12] + 1804603682 & 4294967295) << 7 & 4294967295 | o >>> 25)) + ((o = s + (i ^ t & (n ^ i)) + r[13] + 4254626195 & 4294967295) << 12 & 4294967295 | o >>> 20)) + ((o = i + (n ^ s & (t ^ n)) + r[14] + 2792965006 & 4294967295) << 17 & 4294967295 | o >>> 15)) + ((o = n + (t ^ i & (s ^ t)) + r[15] + 1236535329 & 4294967295) << 22 & 4294967295 | o >>> 10)) + ((o = t + (i ^ s & (n ^ i)) + r[1] + 4129170786 & 4294967295) << 5 & 4294967295 | o >>> 27)) + ((o = s + (n ^ i & (t ^ n)) + r[6] + 3225465664 & 4294967295) << 9 & 4294967295 | o >>> 23)) + ((o = i + (t ^ n & (s ^ t)) + r[11] + 643717713 & 4294967295) << 14 & 4294967295 | o >>> 18)) + ((o = n + (s ^ t & (i ^ s)) + r[0] + 3921069994 & 4294967295) << 20 & 4294967295 | o >>> 12)) + ((o = t + (i ^ s & (n ^ i)) + r[5] + 3593408605 & 4294967295) << 5 & 4294967295 | o >>> 27)) + ((o = s + (n ^ i & (t ^ n)) + r[10] + 38016083 & 4294967295) << 9 & 4294967295 | o >>> 23)) + ((o = i + (t ^ n & (s ^ t)) + r[15] + 3634488961 & 4294967295) << 14 & 4294967295 | o >>> 18)) + ((o = n + (s ^ t & (i ^ s)) + r[4] + 3889429448 & 4294967295) << 20 & 4294967295 | o >>> 12)) + ((o = t + (i ^ s & (n ^ i)) + r[9] + 568446438 & 4294967295) << 5 & 4294967295 | o >>> 27)) + ((o = s + (n ^ i & (t ^ n)) + r[14] + 3275163606 & 4294967295) << 9 & 4294967295 | o >>> 23)) + ((o = i + (t ^ n & (s ^ t)) + r[3] + 4107603335 & 4294967295) << 14 & 4294967295 | o >>> 18)) + ((o = n + (s ^ t & (i ^ s)) + r[8] + 1163531501 & 4294967295) << 20 & 4294967295 | o >>> 12)) + ((o = t + (i ^ s & (n ^ i)) + r[13] + 2850285829 & 4294967295) << 5 & 4294967295 | o >>> 27)) + ((o = s + (n ^ i & (t ^ n)) + r[2] + 4243563512 & 4294967295) << 9 & 4294967295 | o >>> 23)) + ((o = i + (t ^ n & (s ^ t)) + r[7] + 1735328473 & 4294967295) << 14 & 4294967295 | o >>> 18)) + ((o = n + (s ^ t & (i ^ s)) + r[12] + 2368359562 & 4294967295) << 20 & 4294967295 | o >>> 12)) + ((o = t + (n ^ i ^ s) + r[5] + 4294588738 & 4294967295) << 4 & 4294967295 | o >>> 28)) + ((o = s + (t ^ n ^ i) + r[8] + 2272392833 & 4294967295) << 11 & 4294967295 | o >>> 21)) + ((o = i + (s ^ t ^ n) + r[11] + 1839030562 & 4294967295) << 16 & 4294967295 | o >>> 16)) + ((o = n + (i ^ s ^ t) + r[14] + 4259657740 & 4294967295) << 23 & 4294967295 | o >>> 9)) + ((o = t + (n ^ i ^ s) + r[1] + 2763975236 & 4294967295) << 4 & 4294967295 | o >>> 28)) + ((o = s + (t ^ n ^ i) + r[4] + 1272893353 & 4294967295) << 11 & 4294967295 | o >>> 21)) + ((o = i + (s ^ t ^ n) + r[7] + 4139469664 & 4294967295) << 16 & 4294967295 | o >>> 16)) + ((o = n + (i ^ s ^ t) + r[10] + 3200236656 & 4294967295) << 23 & 4294967295 | o >>> 9)) + ((o = t + (n ^ i ^ s) + r[13] + 681279174 & 4294967295) << 4 & 4294967295 | o >>> 28)) + ((o = s + (t ^ n ^ i) + r[0] + 3936430074 & 4294967295) << 11 & 4294967295 | o >>> 21)) + ((o = i + (s ^ t ^ n) + r[3] + 3572445317 & 4294967295) << 16 & 4294967295 | o >>> 16)) + ((o = n + (i ^ s ^ t) + r[6] + 76029189 & 4294967295) << 23 & 4294967295 | o >>> 9)) + ((o = t + (n ^ i ^ s) + r[9] + 3654602809 & 4294967295) << 4 & 4294967295 | o >>> 28)) + ((o = s + (t ^ n ^ i) + r[12] + 3873151461 & 4294967295) << 11 & 4294967295 | o >>> 21)) + ((o = i + (s ^ t ^ n) + r[15] + 530742520 & 4294967295) << 16 & 4294967295 | o >>> 16)) + ((o = n + (i ^ s ^ t) + r[2] + 3299628645 & 4294967295) << 23 & 4294967295 | o >>> 9)) + ((o = t + (i ^ (n | ~s)) + r[0] + 4096336452 & 4294967295) << 6 & 4294967295 | o >>> 26)) + ((o = s + (n ^ (t | ~i)) + r[7] + 1126891415 & 4294967295) << 10 & 4294967295 | o >>> 22)) + ((o = i + (t ^ (s | ~n)) + r[14] + 2878612391 & 4294967295) << 15 & 4294967295 | o >>> 17)) + ((o = n + (s ^ (i | ~t)) + r[5] + 4237533241 & 4294967295) << 21 & 4294967295 | o >>> 11)) + ((o = t + (i ^ (n | ~s)) + r[12] + 1700485571 & 4294967295) << 6 & 4294967295 | o >>> 26)) + ((o = s + (n ^ (t | ~i)) + r[3] + 2399980690 & 4294967295) << 10 & 4294967295 | o >>> 22)) + ((o = i + (t ^ (s | ~n)) + r[10] + 4293915773 & 4294967295) << 15 & 4294967295 | o >>> 17)) + ((o = n + (s ^ (i | ~t)) + r[1] + 2240044497 & 4294967295) << 21 & 4294967295 | o >>> 11)) + ((o = t + (i ^ (n | ~s)) + r[8] + 1873313359 & 4294967295) << 6 & 4294967295 | o >>> 26)) + ((o = s + (n ^ (t | ~i)) + r[15] + 4264355552 & 4294967295) << 10 & 4294967295 | o >>> 22)) + ((o = i + (t ^ (s | ~n)) + r[6] + 2734768916 & 4294967295) << 15 & 4294967295 | o >>> 17)) + ((o = n + (s ^ (i | ~t)) + r[13] + 1309151649 & 4294967295) << 21 & 4294967295 | o >>> 11)) + ((s = (t = n + ((o = t + (i ^ (n | ~s)) + r[4] + 4149444226 & 4294967295) << 6 & 4294967295 | o >>> 26)) + ((o = s + (n ^ (t | ~i)) + r[11] + 3174756917 & 4294967295) << 10 & 4294967295 | o >>> 22)) ^ ((i = s + ((o = i + (t ^ (s | ~n)) + r[2] + 718787259 & 4294967295) << 15 & 4294967295 | o >>> 17)) | ~t)) + r[9] + 3951481745 & 4294967295, e.g[0] = e.g[0] + t & 4294967295, e.g[1] = e.g[1] + (i + (o << 21 & 4294967295 | o >>> 11)) & 4294967295, e.g[2] = e.g[2] + i & 4294967295, e.g[3] = e.g[3] + s & 4294967295;
    }

    function r(e, t) {
      this.h = t;

      for (var n = [], r = !0, i = e.length - 1; 0 <= i; i--) {
        var s = 0 | e[i];
        r && s == t || (n[i] = s, r = !1);
      }

      this.g = n;
    }

    !function (e, t) {
      function n() {}

      n.prototype = t.prototype, e.D = t.prototype, e.prototype = new n(), e.prototype.constructor = e, e.C = function (e, n, r) {
        for (var i = Array(arguments.length - 2), s = 2; s < arguments.length; s++) {
          i[s - 2] = arguments[s];
        }

        return t.prototype[n].apply(e, i);
      };
    }(t, function () {
      this.blockSize = -1;
    }), t.prototype.s = function () {
      this.g[0] = 1732584193, this.g[1] = 4023233417, this.g[2] = 2562383102, this.g[3] = 271733878, this.o = this.h = 0;
    }, t.prototype.u = function (e, t) {
      void 0 === t && (t = e.length);

      for (var r = t - this.blockSize, i = this.B, s = this.h, o = 0; o < t;) {
        if (0 == s) for (; o <= r;) {
          n(this, e, o), o += this.blockSize;
        }

        if ("string" === typeof e) {
          for (; o < t;) {
            if (i[s++] = e.charCodeAt(o++), s == this.blockSize) {
              n(this, i), s = 0;
              break;
            }
          }
        } else for (; o < t;) {
          if (i[s++] = e[o++], s == this.blockSize) {
            n(this, i), s = 0;
            break;
          }
        }
      }

      this.h = s, this.o += t;
    }, t.prototype.v = function () {
      var e = Array((56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h);
      e[0] = 128;

      for (var t = 1; t < e.length - 8; ++t) {
        e[t] = 0;
      }

      var n = 8 * this.o;

      for (t = e.length - 8; t < e.length; ++t) {
        e[t] = 255 & n, n /= 256;
      }

      for (this.u(e), e = Array(16), t = n = 0; 4 > t; ++t) {
        for (var r = 0; 32 > r; r += 8) {
          e[n++] = this.g[t] >>> r & 255;
        }
      }

      return e;
    };
    var i = {};

    function s(e) {
      return -128 <= e && 128 > e ? function (e, t) {
        var n = i;
        return Object.prototype.hasOwnProperty.call(n, e) ? n[e] : n[e] = t(e);
      }(e, function (e) {
        return new r([0 | e], 0 > e ? -1 : 0);
      }) : new r([0 | e], 0 > e ? -1 : 0);
    }

    function o(e) {
      if (isNaN(e) || !isFinite(e)) return a;
      if (0 > e) return d(o(-e));

      for (var t = [], n = 1, i = 0; e >= n; i++) {
        t[i] = e / n | 0, n *= 4294967296;
      }

      return new r(t, 0);
    }

    var a = s(0),
        l = s(1),
        u = s(16777216);

    function c(e) {
      if (0 != e.h) return !1;

      for (var t = 0; t < e.g.length; t++) {
        if (0 != e.g[t]) return !1;
      }

      return !0;
    }

    function h(e) {
      return -1 == e.h;
    }

    function d(e) {
      for (var t = e.g.length, n = [], i = 0; i < t; i++) {
        n[i] = ~e.g[i];
      }

      return new r(n, ~e.h).add(l);
    }

    function f(e, t) {
      return e.add(d(t));
    }

    function p(e, t) {
      for (; (65535 & e[t]) != e[t];) {
        e[t + 1] += e[t] >>> 16, e[t] &= 65535, t++;
      }
    }

    function g(e, t) {
      this.g = e, this.h = t;
    }

    function m(e, t) {
      if (c(t)) throw Error("division by zero");
      if (c(e)) return new g(a, a);
      if (h(e)) return t = m(d(e), t), new g(d(t.g), d(t.h));
      if (h(t)) return t = m(e, d(t)), new g(d(t.g), t.h);

      if (30 < e.g.length) {
        if (h(e) || h(t)) throw Error("slowDivide_ only works with positive integers.");

        for (var n = l, r = t; 0 >= r.l(e);) {
          n = v(n), r = v(r);
        }

        var i = y(n, 1),
            s = y(r, 1);

        for (r = y(r, 2), n = y(n, 2); !c(r);) {
          var u = s.add(r);
          0 >= u.l(e) && (i = i.add(n), s = u), r = y(r, 1), n = y(n, 1);
        }

        return t = f(e, i.j(t)), new g(i, t);
      }

      for (i = a; 0 <= e.l(t);) {
        for (n = Math.max(1, Math.floor(e.m() / t.m())), r = 48 >= (r = Math.ceil(Math.log(n) / Math.LN2)) ? 1 : Math.pow(2, r - 48), u = (s = o(n)).j(t); h(u) || 0 < u.l(e);) {
          u = (s = o(n -= r)).j(t);
        }

        c(s) && (s = l), i = i.add(s), e = f(e, u);
      }

      return new g(i, e);
    }

    function v(e) {
      for (var t = e.g.length + 1, n = [], i = 0; i < t; i++) {
        n[i] = e.i(i) << 1 | e.i(i - 1) >>> 31;
      }

      return new r(n, e.h);
    }

    function y(e, t) {
      var n = t >> 5;
      t %= 32;

      for (var i = e.g.length - n, s = [], o = 0; o < i; o++) {
        s[o] = 0 < t ? e.i(o + n) >>> t | e.i(o + n + 1) << 32 - t : e.i(o + n);
      }

      return new r(s, e.h);
    }

    (e = r.prototype).m = function () {
      if (h(this)) return -d(this).m();

      for (var e = 0, t = 1, n = 0; n < this.g.length; n++) {
        var r = this.i(n);
        e += (0 <= r ? r : 4294967296 + r) * t, t *= 4294967296;
      }

      return e;
    }, e.toString = function (e) {
      if (2 > (e = e || 10) || 36 < e) throw Error("radix out of range: " + e);
      if (c(this)) return "0";
      if (h(this)) return "-" + d(this).toString(e);

      for (var t = o(Math.pow(e, 6)), n = this, r = "";;) {
        var i = m(n, t).g,
            s = ((0 < (n = f(n, i.j(t))).g.length ? n.g[0] : n.h) >>> 0).toString(e);
        if (c(n = i)) return s + r;

        for (; 6 > s.length;) {
          s = "0" + s;
        }

        r = s + r;
      }
    }, e.i = function (e) {
      return 0 > e ? 0 : e < this.g.length ? this.g[e] : this.h;
    }, e.l = function (e) {
      return h(e = f(this, e)) ? -1 : c(e) ? 0 : 1;
    }, e.abs = function () {
      return h(this) ? d(this) : this;
    }, e.add = function (e) {
      for (var t = Math.max(this.g.length, e.g.length), n = [], i = 0, s = 0; s <= t; s++) {
        var o = i + (65535 & this.i(s)) + (65535 & e.i(s)),
            a = (o >>> 16) + (this.i(s) >>> 16) + (e.i(s) >>> 16);
        i = a >>> 16, o &= 65535, a &= 65535, n[s] = a << 16 | o;
      }

      return new r(n, -2147483648 & n[n.length - 1] ? -1 : 0);
    }, e.j = function (e) {
      if (c(this) || c(e)) return a;
      if (h(this)) return h(e) ? d(this).j(d(e)) : d(d(this).j(e));
      if (h(e)) return d(this.j(d(e)));
      if (0 > this.l(u) && 0 > e.l(u)) return o(this.m() * e.m());

      for (var t = this.g.length + e.g.length, n = [], i = 0; i < 2 * t; i++) {
        n[i] = 0;
      }

      for (i = 0; i < this.g.length; i++) {
        for (var s = 0; s < e.g.length; s++) {
          var l = this.i(i) >>> 16,
              f = 65535 & this.i(i),
              g = e.i(s) >>> 16,
              m = 65535 & e.i(s);
          n[2 * i + 2 * s] += f * m, p(n, 2 * i + 2 * s), n[2 * i + 2 * s + 1] += l * m, p(n, 2 * i + 2 * s + 1), n[2 * i + 2 * s + 1] += f * g, p(n, 2 * i + 2 * s + 1), n[2 * i + 2 * s + 2] += l * g, p(n, 2 * i + 2 * s + 2);
        }
      }

      for (i = 0; i < t; i++) {
        n[i] = n[2 * i + 1] << 16 | n[2 * i];
      }

      for (i = t; i < 2 * t; i++) {
        n[i] = 0;
      }

      return new r(n, 0);
    }, e.A = function (e) {
      return m(this, e).h;
    }, e.and = function (e) {
      for (var t = Math.max(this.g.length, e.g.length), n = [], i = 0; i < t; i++) {
        n[i] = this.i(i) & e.i(i);
      }

      return new r(n, this.h & e.h);
    }, e.or = function (e) {
      for (var t = Math.max(this.g.length, e.g.length), n = [], i = 0; i < t; i++) {
        n[i] = this.i(i) | e.i(i);
      }

      return new r(n, this.h | e.h);
    }, e.xor = function (e) {
      for (var t = Math.max(this.g.length, e.g.length), n = [], i = 0; i < t; i++) {
        n[i] = this.i(i) ^ e.i(i);
      }

      return new r(n, this.h ^ e.h);
    }, t.prototype.digest = t.prototype.v, t.prototype.reset = t.prototype.s, t.prototype.update = t.prototype.u, lt = ct.Md5 = t, r.prototype.add = r.prototype.add, r.prototype.multiply = r.prototype.j, r.prototype.modulo = r.prototype.A, r.prototype.compare = r.prototype.l, r.prototype.toNumber = r.prototype.m, r.prototype.toString = r.prototype.toString, r.prototype.getBits = r.prototype.i, r.fromNumber = o, r.fromString = function e(t, n) {
      if (0 == t.length) throw Error("number format error: empty string");
      if (2 > (n = n || 10) || 36 < n) throw Error("radix out of range: " + n);
      if ("-" == t.charAt(0)) return d(e(t.substring(1), n));
      if (0 <= t.indexOf("-")) throw Error('number format error: interior "-" character');

      for (var r = o(Math.pow(n, 8)), i = a, s = 0; s < t.length; s += 8) {
        var l = Math.min(8, t.length - s),
            u = parseInt(t.substring(s, s + l), n);
        8 > l ? (l = o(Math.pow(n, l)), i = i.j(l).add(o(u))) : i = (i = i.j(r)).add(o(u));
      }

      return i;
    }, at = ct.Integer = r;
  }).apply("undefined" !== typeof ut ? ut : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {});
  var ht,
      dt,
      ft,
      pt,
      gt,
      mt,
      vt,
      yt,
      wt,
      bt = "undefined" !== typeof globalThis ? globalThis : "undefined" !== typeof window ? window : "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : {},
      _t = {};
  (function () {
    var e,
        t = "function" == typeof Object.defineProperties ? Object.defineProperty : function (e, t, n) {
      return e == Array.prototype || e == Object.prototype || (e[t] = n.value), e;
    };

    var n = function (e) {
      e = ["object" == (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis)) && globalThis, e, "object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && window, "object" == (typeof self === "undefined" ? "undefined" : _typeof(self)) && self, "object" == _typeof(bt) && bt];

      for (var t = 0; t < e.length; ++t) {
        var n = e[t];
        if (n && n.Math == Math) return n;
      }

      throw Error("Cannot find global object");
    }(this);

    !function (e, r) {
      if (r) e: {
        var i = n;
        e = e.split(".");

        for (var s = 0; s < e.length - 1; s++) {
          var o = e[s];
          if (!(o in i)) break e;
          i = i[o];
        }

        (r = r(s = i[e = e[e.length - 1]])) != s && null != r && t(i, e, {
          configurable: !0,
          writable: !0,
          value: r
        });
      }
    }("Array.prototype.values", function (e) {
      return e || function () {
        return function (e, t) {
          e instanceof String && (e += "");
          var n = 0,
              r = !1,
              i = {
            next: function next() {
              if (!r && n < e.length) {
                var i = n++;
                return {
                  value: t(i, e[i]),
                  done: !1
                };
              }

              return r = !0, {
                done: !0,
                value: void 0
              };
            }
          };
          return i[Symbol.iterator] = function () {
            return i;
          }, i;
        }(this, function (e, t) {
          return t;
        });
      };
    });
    var r = r || {},
        i = this || self;

    function s(e) {
      var t = _typeof(e);

      return "array" == (t = "object" != t ? t : e ? Array.isArray(e) ? "array" : t : "null") || "object" == t && "number" == typeof e.length;
    }

    function o(e) {
      var t = _typeof(e);

      return "object" == t && null != e || "function" == t;
    }

    function a(e, t, n) {
      return e.call.apply(e.bind, arguments);
    }

    function l(e, t, n) {
      if (!e) throw Error();

      if (2 < arguments.length) {
        var r = Array.prototype.slice.call(arguments, 2);
        return function () {
          var n = Array.prototype.slice.call(arguments);
          return Array.prototype.unshift.apply(n, r), e.apply(t, n);
        };
      }

      return function () {
        return e.apply(t, arguments);
      };
    }

    function u(e, t, n) {
      return (u = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? a : l).apply(null, arguments);
    }

    function c(e, t) {
      var n = Array.prototype.slice.call(arguments, 1);
      return function () {
        var t = n.slice();
        return t.push.apply(t, arguments), e.apply(this, t);
      };
    }

    function h(e, t) {
      function n() {}

      n.prototype = t.prototype, e.aa = t.prototype, e.prototype = new n(), e.prototype.constructor = e, e.Qb = function (e, n, r) {
        for (var i = Array(arguments.length - 2), s = 2; s < arguments.length; s++) {
          i[s - 2] = arguments[s];
        }

        return t.prototype[n].apply(e, i);
      };
    }

    function d(e) {
      var t = e.length;

      if (0 < t) {
        var _n11 = Array(t);

        for (var _r10 = 0; _r10 < t; _r10++) {
          _n11[_r10] = e[_r10];
        }

        return _n11;
      }

      return [];
    }

    function f(e, t) {
      for (var _n12 = 1; _n12 < arguments.length; _n12++) {
        var _t7 = arguments[_n12];

        if (s(_t7)) {
          var _n13 = e.length || 0,
              _r11 = _t7.length || 0;

          e.length = _n13 + _r11;

          for (var _i16 = 0; _i16 < _r11; _i16++) {
            e[_n13 + _i16] = _t7[_i16];
          }
        } else e.push(_t7);
      }
    }

    function p(e) {
      return /^[\s\xa0]*$/.test(e);
    }

    function g() {
      var e = i.navigator;
      return e && (e = e.userAgent) ? e : "";
    }

    function m(e) {
      return m[" "](e), e;
    }

    m[" "] = function () {};

    var v = -1 != g().indexOf("Gecko") && !(-1 != g().toLowerCase().indexOf("webkit") && -1 == g().indexOf("Edge")) && !(-1 != g().indexOf("Trident") || -1 != g().indexOf("MSIE")) && -1 == g().indexOf("Edge");

    function y(e, t, n) {
      for (var _r12 in e) {
        t.call(n, e[_r12], _r12, e);
      }
    }

    function w(e) {
      var t = {};

      for (var _n14 in e) {
        t[_n14] = e[_n14];
      }

      return t;
    }

    var b = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

    function _(e, t) {
      var n, r;

      for (var _i17 = 1; _i17 < arguments.length; _i17++) {
        for (n in r = arguments[_i17], r) {
          e[n] = r[n];
        }

        for (var _t8 = 0; _t8 < b.length; _t8++) {
          n = b[_t8], Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
        }
      }
    }

    function E(e) {
      var t = 1;
      e = e.split(":");
      var n = [];

      for (; 0 < t && e.length;) {
        n.push(e.shift()), t--;
      }

      return e.length && n.push(e.join(":")), n;
    }

    function S(e) {
      i.setTimeout(function () {
        throw e;
      }, 0);
    }

    function k() {
      var e = A;
      var t = null;
      return e.g && (t = e.g, e.g = e.g.next, e.g || (e.h = null), t.next = null), t;
    }

    var T = new (
    /*#__PURE__*/
    function () {
      function _class(e, t) {
        _classCallCheck(this, _class);

        this.i = e, this.j = t, this.h = 0, this.g = null;
      }

      _createClass(_class, [{
        key: "get",
        value: function get() {
          var e;
          return 0 < this.h ? (this.h--, e = this.g, this.g = e.next, e.next = null) : e = this.i(), e;
        }
      }]);

      return _class;
    }())(function () {
      return new I();
    }, function (e) {
      return e.reset();
    });

    var I =
    /*#__PURE__*/
    function () {
      function I() {
        _classCallCheck(this, I);

        this.next = this.g = this.h = null;
      }

      _createClass(I, [{
        key: "set",
        value: function set(e, t) {
          this.h = e, this.g = t, this.next = null;
        }
      }, {
        key: "reset",
        value: function reset() {
          this.next = this.g = this.h = null;
        }
      }]);

      return I;
    }();

    var C,
        N = !1,
        A = new (
    /*#__PURE__*/
    function () {
      function _class2() {
        _classCallCheck(this, _class2);

        this.h = this.g = null;
      }

      _createClass(_class2, [{
        key: "add",
        value: function add(e, t) {
          var n = T.get();
          n.set(e, t), this.h ? this.h.next = n : this.g = n, this.h = n;
        }
      }]);

      return _class2;
    }())(),
        R = function R() {
      var e = i.Promise.resolve(void 0);

      C = function C() {
        e.then(P);
      };
    };

    var P = function P() {
      for (var e; e = k();) {
        try {
          e.h.call(e.g);
        } catch (n) {
          S(n);
        }

        var t = T;
        t.j(e), 100 > t.h && (t.h++, e.next = t.g, t.g = e);
      }

      N = !1;
    };

    function x() {
      this.s = this.s, this.C = this.C;
    }

    function D(e, t) {
      this.type = e, this.g = this.target = t, this.defaultPrevented = !1;
    }

    x.prototype.s = !1, x.prototype.ma = function () {
      this.s || (this.s = !0, this.N());
    }, x.prototype.N = function () {
      if (this.C) for (; this.C.length;) {
        this.C.shift()();
      }
    }, D.prototype.h = function () {
      this.defaultPrevented = !0;
    };

    var O = function () {
      if (!i.addEventListener || !Object.defineProperty) return !1;
      var e = !1,
          t = Object.defineProperty({}, "passive", {
        get: function get() {
          e = !0;
        }
      });

      try {
        var _e11 = function _e11() {};

        i.addEventListener("test", _e11, t), i.removeEventListener("test", _e11, t);
      } catch (n) {}

      return e;
    }();

    function L(e, t) {
      if (D.call(this, e ? e.type : ""), this.relatedTarget = this.g = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.state = null, this.pointerId = 0, this.pointerType = "", this.i = null, e) {
        var n = this.type = e.type,
            r = e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : null;

        if (this.target = e.target || e.srcElement, this.g = t, t = e.relatedTarget) {
          if (v) {
            e: {
              try {
                m(t.nodeName);
                var i = !0;
                break e;
              } catch (s) {}

              i = !1;
            }

            i || (t = null);
          }
        } else "mouseover" == n ? t = e.fromElement : "mouseout" == n && (t = e.toElement);

        this.relatedTarget = t, r ? (this.clientX = void 0 !== r.clientX ? r.clientX : r.pageX, this.clientY = void 0 !== r.clientY ? r.clientY : r.pageY, this.screenX = r.screenX || 0, this.screenY = r.screenY || 0) : (this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0), this.button = e.button, this.key = e.key || "", this.ctrlKey = e.ctrlKey, this.altKey = e.altKey, this.shiftKey = e.shiftKey, this.metaKey = e.metaKey, this.pointerId = e.pointerId || 0, this.pointerType = "string" === typeof e.pointerType ? e.pointerType : M[e.pointerType] || "", this.state = e.state, this.i = e, e.defaultPrevented && L.aa.h.call(this);
      }
    }

    h(L, D);
    var M = {
      2: "touch",
      3: "pen",
      4: "mouse"
    };

    L.prototype.h = function () {
      L.aa.h.call(this);
      var e = this.i;
      e.preventDefault ? e.preventDefault() : e.returnValue = !1;
    };

    var F = "closure_listenable_" + (1e6 * Math.random() | 0),
        U = 0;

    function V(e, t, n, r, i) {
      this.listener = e, this.proxy = null, this.src = t, this.type = n, this.capture = !!r, this.ha = i, this.key = ++U, this.da = this.fa = !1;
    }

    function z(e) {
      e.da = !0, e.listener = null, e.proxy = null, e.src = null, e.ha = null;
    }

    function j(e) {
      this.src = e, this.g = {}, this.h = 0;
    }

    function B(e, t) {
      var n = t.type;

      if (n in e.g) {
        var r,
            i = e.g[n],
            s = Array.prototype.indexOf.call(i, t, void 0);
        (r = 0 <= s) && Array.prototype.splice.call(i, s, 1), r && (z(t), 0 == e.g[n].length && (delete e.g[n], e.h--));
      }
    }

    function $(e, t, n, r) {
      for (var i = 0; i < e.length; ++i) {
        var s = e[i];
        if (!s.da && s.listener == t && s.capture == !!n && s.ha == r) return i;
      }

      return -1;
    }

    j.prototype.add = function (e, t, n, r, i) {
      var s = e.toString();
      (e = this.g[s]) || (e = this.g[s] = [], this.h++);
      var o = $(e, t, r, i);
      return -1 < o ? (t = e[o], n || (t.fa = !1)) : ((t = new V(t, this.src, s, !!r, i)).fa = n, e.push(t)), t;
    };

    var q = "closure_lm_" + (1e6 * Math.random() | 0),
        H = {};

    function K(e, t, n, r, i) {
      if (r && r.once) return G(e, t, n, r, i);

      if (Array.isArray(t)) {
        for (var s = 0; s < t.length; s++) {
          K(e, t[s], n, r, i);
        }

        return null;
      }

      return n = te(n), e && e[F] ? e.K(t, n, o(r) ? !!r.capture : !!r, i) : W(e, t, n, !1, r, i);
    }

    function W(e, t, n, r, i, s) {
      if (!t) throw Error("Invalid event type");
      var a = o(i) ? !!i.capture : !!i,
          l = Z(e);
      if (l || (e[q] = l = new j(e)), (n = l.add(t, n, r, a, s)).proxy) return n;
      if (r = function () {
        function e(n) {
          return t.call(e.src, e.listener, n);
        }

        var t = J;
        return e;
      }(), n.proxy = r, r.src = e, r.listener = n, e.addEventListener) O || (i = a), void 0 === i && (i = !1), e.addEventListener(t.toString(), r, i);else if (e.attachEvent) e.attachEvent(Y(t.toString()), r);else {
        if (!e.addListener || !e.removeListener) throw Error("addEventListener and attachEvent are unavailable.");
        e.addListener(r);
      }
      return n;
    }

    function G(e, t, n, r, i) {
      if (Array.isArray(t)) {
        for (var s = 0; s < t.length; s++) {
          G(e, t[s], n, r, i);
        }

        return null;
      }

      return n = te(n), e && e[F] ? e.L(t, n, o(r) ? !!r.capture : !!r, i) : W(e, t, n, !0, r, i);
    }

    function Q(e, t, n, r, i) {
      if (Array.isArray(t)) for (var s = 0; s < t.length; s++) {
        Q(e, t[s], n, r, i);
      } else r = o(r) ? !!r.capture : !!r, n = te(n), e && e[F] ? (e = e.i, (t = String(t).toString()) in e.g && -1 < (n = $(s = e.g[t], n, r, i)) && (z(s[n]), Array.prototype.splice.call(s, n, 1), 0 == s.length && (delete e.g[t], e.h--))) : e && (e = Z(e)) && (t = e.g[t.toString()], e = -1, t && (e = $(t, n, r, i)), (n = -1 < e ? t[e] : null) && X(n));
    }

    function X(e) {
      if ("number" !== typeof e && e && !e.da) {
        var t = e.src;
        if (t && t[F]) B(t.i, e);else {
          var n = e.type,
              r = e.proxy;
          t.removeEventListener ? t.removeEventListener(n, r, e.capture) : t.detachEvent ? t.detachEvent(Y(n), r) : t.addListener && t.removeListener && t.removeListener(r), (n = Z(t)) ? (B(n, e), 0 == n.h && (n.src = null, t[q] = null)) : z(e);
        }
      }
    }

    function Y(e) {
      return e in H ? H[e] : H[e] = "on" + e;
    }

    function J(e, t) {
      if (e.da) e = !0;else {
        t = new L(t, this);
        var n = e.listener,
            r = e.ha || e.src;
        e.fa && X(e), e = n.call(r, t);
      }
      return e;
    }

    function Z(e) {
      return (e = e[q]) instanceof j ? e : null;
    }

    var ee = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);

    function te(e) {
      return "function" === typeof e ? e : (e[ee] || (e[ee] = function (t) {
        return e.handleEvent(t);
      }), e[ee]);
    }

    function ne() {
      x.call(this), this.i = new j(this), this.M = this, this.F = null;
    }

    function re(e, t) {
      var n,
          r = e.F;
      if (r) for (n = []; r; r = r.F) {
        n.push(r);
      }
      if (e = e.M, r = t.type || t, "string" === typeof t) t = new D(t, e);else if (t instanceof D) t.target = t.target || e;else {
        var i = t;

        _(t = new D(r, e), i);
      }
      if (i = !0, n) for (var s = n.length - 1; 0 <= s; s--) {
        var o = t.g = n[s];
        i = ie(o, r, !0, t) && i;
      }
      if (i = ie(o = t.g = e, r, !0, t) && i, i = ie(o, r, !1, t) && i, n) for (s = 0; s < n.length; s++) {
        i = ie(o = t.g = n[s], r, !1, t) && i;
      }
    }

    function ie(e, t, n, r) {
      if (!(t = e.i.g[String(t)])) return !0;
      t = t.concat();

      for (var i = !0, s = 0; s < t.length; ++s) {
        var o = t[s];

        if (o && !o.da && o.capture == n) {
          var a = o.listener,
              l = o.ha || o.src;
          o.fa && B(e.i, o), i = !1 !== a.call(l, r) && i;
        }
      }

      return i && !r.defaultPrevented;
    }

    function se(e, t, n) {
      if ("function" === typeof e) n && (e = u(e, n));else {
        if (!e || "function" != typeof e.handleEvent) throw Error("Invalid listener argument");
        e = u(e.handleEvent, e);
      }
      return 2147483647 < Number(t) ? -1 : i.setTimeout(e, t || 0);
    }

    function oe(e) {
      e.g = se(function () {
        e.g = null, e.i && (e.i = !1, oe(e));
      }, e.l);
      var t = e.h;
      e.h = null, e.m.apply(null, t);
    }

    h(ne, x), ne.prototype[F] = !0, ne.prototype.removeEventListener = function (e, t, n, r) {
      Q(this, e, t, n, r);
    }, ne.prototype.N = function () {
      if (ne.aa.N.call(this), this.i) {
        var e,
            t = this.i;

        for (e in t.g) {
          for (var n = t.g[e], r = 0; r < n.length; r++) {
            z(n[r]);
          }

          delete t.g[e], t.h--;
        }
      }

      this.F = null;
    }, ne.prototype.K = function (e, t, n, r) {
      return this.i.add(String(e), t, !1, n, r);
    }, ne.prototype.L = function (e, t, n, r) {
      return this.i.add(String(e), t, !0, n, r);
    };

    var ae =
    /*#__PURE__*/
    function (_x) {
      _inherits(ae, _x);

      function ae(e, t) {
        var _this11;

        _classCallCheck(this, ae);

        _this11 = _possibleConstructorReturn(this, _getPrototypeOf(ae).call(this)), _this11.m = e, _this11.l = t, _this11.h = null, _this11.i = !1, _this11.g = null;
        return _this11;
      }

      _createClass(ae, [{
        key: "j",
        value: function j(e) {
          this.h = arguments, this.g ? this.i = !0 : oe(this);
        }
      }, {
        key: "N",
        value: function N() {
          _get(_getPrototypeOf(ae.prototype), "N", this).call(this), this.g && (i.clearTimeout(this.g), this.g = null, this.i = !1, this.h = null);
        }
      }]);

      return ae;
    }(x);

    function le(e) {
      x.call(this), this.h = e, this.g = {};
    }

    h(le, x);
    var ue = [];

    function ce(e) {
      y(e.g, function (e, t) {
        this.g.hasOwnProperty(t) && X(e);
      }, e), e.g = {};
    }

    le.prototype.N = function () {
      le.aa.N.call(this), ce(this);
    }, le.prototype.handleEvent = function () {
      throw Error("EventHandler.handleEvent not implemented");
    };

    var he = i.JSON.stringify,
        de = i.JSON.parse,
        fe =
    /*#__PURE__*/
    function () {
      function fe() {
        _classCallCheck(this, fe);
      }

      _createClass(fe, [{
        key: "stringify",
        value: function stringify(e) {
          return i.JSON.stringify(e, void 0);
        }
      }, {
        key: "parse",
        value: function parse(e) {
          return i.JSON.parse(e, void 0);
        }
      }]);

      return fe;
    }();

    function pe() {}

    function ge(e) {
      return e.h || (e.h = e.i());
    }

    function me() {}

    pe.prototype.h = null;
    var ve = {
      OPEN: "a",
      kb: "b",
      Ja: "c",
      wb: "d"
    };

    function ye() {
      D.call(this, "d");
    }

    function we() {
      D.call(this, "c");
    }

    h(ye, D), h(we, D);
    var be = {},
        _e = null;

    function Ee() {
      return _e = _e || new ne();
    }

    function Se(e) {
      D.call(this, be.La, e);
    }

    function ke(e) {
      var t = Ee();
      re(t, new Se(t));
    }

    function Te(e, t) {
      D.call(this, be.STAT_EVENT, e), this.stat = t;
    }

    function Ie(e) {
      var t = Ee();
      re(t, new Te(t, e));
    }

    function Ce(e, t) {
      D.call(this, be.Ma, e), this.size = t;
    }

    function Ne(e, t) {
      if ("function" !== typeof e) throw Error("Fn must not be null and must be a function");
      return i.setTimeout(function () {
        e();
      }, t);
    }

    function Ae() {
      this.g = !0;
    }

    function Re(e, t, n, r) {
      e.info(function () {
        return "XMLHTTP TEXT (" + t + "): " + function (e, t) {
          if (!e.g) return t;
          if (!t) return null;

          try {
            var n = JSON.parse(t);
            if (n) for (e = 0; e < n.length; e++) {
              if (Array.isArray(n[e])) {
                var r = n[e];

                if (!(2 > r.length)) {
                  var i = r[1];

                  if (Array.isArray(i) && !(1 > i.length)) {
                    var s = i[0];
                    if ("noop" != s && "stop" != s && "close" != s) for (var o = 1; o < i.length; o++) {
                      i[o] = "";
                    }
                  }
                }
              }
            }
            return he(n);
          } catch (a) {
            return t;
          }
        }(e, n) + (r ? " " + r : "");
      });
    }

    be.La = "serverreachability", h(Se, D), be.STAT_EVENT = "statevent", h(Te, D), be.Ma = "timingevent", h(Ce, D), Ae.prototype.xa = function () {
      this.g = !1;
    }, Ae.prototype.info = function () {};
    var Pe,
        xe = {
      NO_ERROR: 0,
      gb: 1,
      tb: 2,
      sb: 3,
      nb: 4,
      rb: 5,
      ub: 6,
      Ia: 7,
      TIMEOUT: 8,
      xb: 9
    },
        De = {
      lb: "complete",
      Hb: "success",
      Ja: "error",
      Ia: "abort",
      zb: "ready",
      Ab: "readystatechange",
      TIMEOUT: "timeout",
      vb: "incrementaldata",
      yb: "progress",
      ob: "downloadprogress",
      Pb: "uploadprogress"
    };

    function Oe() {}

    function Le(e, t, n, r) {
      this.j = e, this.i = t, this.l = n, this.R = r || 1, this.U = new le(this), this.I = 45e3, this.H = null, this.o = !1, this.m = this.A = this.v = this.L = this.F = this.S = this.B = null, this.D = [], this.g = null, this.C = 0, this.s = this.u = null, this.X = -1, this.J = !1, this.O = 0, this.M = null, this.W = this.K = this.T = this.P = !1, this.h = new Me();
    }

    function Me() {
      this.i = null, this.g = "", this.h = !1;
    }

    h(Oe, pe), Oe.prototype.g = function () {
      return new XMLHttpRequest();
    }, Oe.prototype.i = function () {
      return {};
    }, Pe = new Oe();
    var Fe = {},
        Ue = {};

    function Ve(e, t, n) {
      e.L = 1, e.v = Et(ot(t)), e.m = n, e.P = !0, ze(e, null);
    }

    function ze(e, t) {
      e.F = Date.now(), $e(e), e.A = ot(e.v);
      var n = e.A,
          r = e.R;
      Array.isArray(r) || (r = [String(r)]), Ft(n.i, "t", r), e.C = 0, n = e.j.J, e.h = new Me(), e.g = Tn(e.j, n ? t : null, !e.m), 0 < e.O && (e.M = new ae(u(e.Y, e, e.g), e.O)), t = e.U, n = e.g, r = e.ca;
      var i = "readystatechange";
      Array.isArray(i) || (i && (ue[0] = i.toString()), i = ue);

      for (var s = 0; s < i.length; s++) {
        var o = K(n, i[s], r || t.handleEvent, !1, t.h || t);
        if (!o) break;
        t.g[o.key] = o;
      }

      t = e.H ? w(e.H) : {}, e.m ? (e.u || (e.u = "POST"), t["Content-Type"] = "application/x-www-form-urlencoded", e.g.ea(e.A, e.u, e.m, t)) : (e.u = "GET", e.g.ea(e.A, e.u, null, t)), ke(), function (e, t, n, r, i, s) {
        e.info(function () {
          if (e.g) {
            if (s) for (var o = "", a = s.split("&"), l = 0; l < a.length; l++) {
              var u = a[l].split("=");

              if (1 < u.length) {
                var c = u[0];
                u = u[1];
                var h = c.split("_");
                o = 2 <= h.length && "type" == h[1] ? o + (c + "=") + u + "&" : o + (c + "=redacted&");
              }
            } else o = null;
          } else o = s;
          return "XMLHTTP REQ (" + r + ") [attempt " + i + "]: " + t + "\n" + n + "\n" + o;
        });
      }(e.i, e.u, e.A, e.l, e.R, e.m);
    }

    function je(e) {
      return !!e.g && "GET" == e.u && 2 != e.L && e.j.Ca;
    }

    function Be(e, t) {
      var n = e.C,
          r = t.indexOf("\n", n);
      return -1 == r ? Ue : (n = Number(t.substring(n, r)), isNaN(n) ? Fe : (r += 1) + n > t.length ? Ue : (t = t.slice(r, r + n), e.C = r + n, t));
    }

    function $e(e) {
      e.S = Date.now() + e.I, qe(e, e.I);
    }

    function qe(e, t) {
      if (null != e.B) throw Error("WatchDog timer not null");
      e.B = Ne(u(e.ba, e), t);
    }

    function He(e) {
      e.B && (i.clearTimeout(e.B), e.B = null);
    }

    function Ke(e) {
      0 == e.j.G || e.J || bn(e.j, e);
    }

    function We(e) {
      He(e);
      var t = e.M;
      t && "function" == typeof t.ma && t.ma(), e.M = null, ce(e.U), e.g && (t = e.g, e.g = null, t.abort(), t.ma());
    }

    function Ge(e, t) {
      try {
        var n = e.j;
        if (0 != n.G && (n.g == e || Ze(n.h, e))) if (!e.K && Ze(n.h, e) && 3 == n.G) {
          try {
            var r = n.Da.g.parse(t);
          } catch (c) {
            r = null;
          }

          if (Array.isArray(r) && 3 == r.length) {
            var i = r;

            if (0 == i[0]) {
              e: if (!n.u) {
                if (n.g) {
                  if (!(n.g.F + 3e3 < e.F)) break e;
                  wn(n), un(n);
                }

                mn(n), Ie(18);
              }
            } else n.za = i[1], 0 < n.za - n.T && 37500 > i[2] && n.F && 0 == n.v && !n.C && (n.C = Ne(u(n.Za, n), 6e3));

            if (1 >= Je(n.h) && n.ca) {
              try {
                n.ca();
              } catch (c) {}

              n.ca = void 0;
            }
          } else En(n, 11);
        } else if ((e.K || n.g == e) && wn(n), !p(t)) for (i = n.Da.g.parse(t), t = 0; t < i.length; t++) {
          var _u4 = i[t];
          if (n.T = _u4[0], _u4 = _u4[1], 2 == n.G) {
            if ("c" == _u4[0]) {
              n.K = _u4[1], n.ia = _u4[2];
              var _t9 = _u4[3];
              null != _t9 && (n.la = _t9, n.j.info("VER=" + n.la));
              var _i18 = _u4[4];
              null != _i18 && (n.Aa = _i18, n.j.info("SVER=" + n.Aa));
              var _c3 = _u4[5];
              null != _c3 && "number" === typeof _c3 && 0 < _c3 && (r = 1.5 * _c3, n.L = r, n.j.info("backChannelRequestTimeoutMs_=" + r)), r = n;
              var _h3 = e.g;

              if (_h3) {
                var _e12 = _h3.g ? _h3.g.getResponseHeader("X-Client-Wire-Protocol") : null;

                if (_e12) {
                  var s = r.h;
                  s.g || -1 == _e12.indexOf("spdy") && -1 == _e12.indexOf("quic") && -1 == _e12.indexOf("h2") || (s.j = s.l, s.g = new Set(), s.h && (et(s, s.h), s.h = null));
                }

                if (r.D) {
                  var _e13 = _h3.g ? _h3.g.getResponseHeader("X-HTTP-Session-Id") : null;

                  _e13 && (r.ya = _e13, ct(r.I, r.D, _e13));
                }
              }

              n.G = 3, n.l && n.l.ua(), n.ba && (n.R = Date.now() - e.F, n.j.info("Handshake RTT: " + n.R + "ms"));
              var o = e;

              if ((r = n).qa = kn(r, r.J ? r.ia : null, r.W), o.K) {
                tt(r.h, o);
                var a = o,
                    l = r.L;
                l && (a.I = l), a.B && (He(a), $e(a)), r.g = o;
              } else gn(r);

              0 < n.i.length && hn(n);
            } else "stop" != _u4[0] && "close" != _u4[0] || En(n, 7);
          } else 3 == n.G && ("stop" == _u4[0] || "close" == _u4[0] ? "stop" == _u4[0] ? En(n, 7) : ln(n) : "noop" != _u4[0] && n.l && n.l.ta(_u4), n.v = 0);
        }
        ke();
      } catch (c) {}
    }

    Le.prototype.ca = function (e) {
      e = e.target;
      var t = this.M;
      t && 3 == rn(e) ? t.j() : this.Y(e);
    }, Le.prototype.Y = function (e) {
      try {
        if (e == this.g) e: {
          var _d3 = rn(this.g);

          var t = this.g.Ba();
          this.g.Z();

          if (!(3 > _d3) && (3 != _d3 || this.g && (this.h.h || this.g.oa() || sn(this.g)))) {
            this.J || 4 != _d3 || 7 == t || ke(), He(this);
            var n = this.g.Z();
            this.X = n;

            t: if (je(this)) {
              var r = sn(this.g);
              e = "";
              var s = r.length,
                  o = 4 == rn(this.g);

              if (!this.h.i) {
                if ("undefined" === typeof TextDecoder) {
                  We(this), Ke(this);
                  var a = "";
                  break t;
                }

                this.h.i = new i.TextDecoder();
              }

              for (t = 0; t < s; t++) {
                this.h.h = !0, e += this.h.i.decode(r[t], {
                  stream: !(o && t == s - 1)
                });
              }

              r.length = 0, this.h.g += e, this.C = 0, a = this.h.g;
            } else a = this.g.oa();

            if (this.o = 200 == n, function (e, t, n, r, i, s, o) {
              e.info(function () {
                return "XMLHTTP RESP (" + r + ") [ attempt " + i + "]: " + t + "\n" + n + "\n" + s + " " + o;
              });
            }(this.i, this.u, this.A, this.l, this.R, _d3, n), this.o) {
              if (this.T && !this.K) {
                t: {
                  if (this.g) {
                    var l,
                        u = this.g;

                    if ((l = u.g ? u.g.getResponseHeader("X-HTTP-Initial-Response") : null) && !p(l)) {
                      var c = l;
                      break t;
                    }
                  }

                  c = null;
                }

                if (!(n = c)) {
                  this.o = !1, this.s = 3, Ie(12), We(this), Ke(this);
                  break e;
                }

                Re(this.i, this.l, n, "Initial handshake response via X-HTTP-Initial-Response"), this.K = !0, Ge(this, n);
              }

              if (this.P) {
                var _e14;

                for (n = !0; !this.J && this.C < a.length;) {
                  if (_e14 = Be(this, a), _e14 == Ue) {
                    4 == _d3 && (this.s = 4, Ie(14), n = !1), Re(this.i, this.l, null, "[Incomplete Response]");
                    break;
                  }

                  if (_e14 == Fe) {
                    this.s = 4, Ie(15), Re(this.i, this.l, a, "[Invalid Chunk]"), n = !1;
                    break;
                  }

                  Re(this.i, this.l, _e14, null), Ge(this, _e14);
                }

                if (je(this) && 0 != this.C && (this.h.g = this.h.g.slice(this.C), this.C = 0), 4 != _d3 || 0 != a.length || this.h.h || (this.s = 1, Ie(16), n = !1), this.o = this.o && n, n) {
                  if (0 < a.length && !this.W) {
                    this.W = !0;
                    var h = this.j;
                    h.g == this && h.ba && !h.M && (h.j.info("Great, no buffering proxy detected. Bytes received: " + a.length), vn(h), h.M = !0, Ie(11));
                  }
                } else Re(this.i, this.l, a, "[Invalid Chunked Response]"), We(this), Ke(this);
              } else Re(this.i, this.l, a, null), Ge(this, a);

              4 == _d3 && We(this), this.o && !this.J && (4 == _d3 ? bn(this.j, this) : (this.o = !1, $e(this)));
            } else (function (e) {
              var t = {};
              e = (e.g && 2 <= rn(e) && e.g.getAllResponseHeaders() || "").split("\r\n");

              for (var _r13 = 0; _r13 < e.length; _r13++) {
                if (p(e[_r13])) continue;
                var n = E(e[_r13]);
                var _i19 = n[0];
                if ("string" !== typeof (n = n[1])) continue;
                n = n.trim();

                var _s10 = t[_i19] || [];

                t[_i19] = _s10, _s10.push(n);
              }

              !function (e, t) {
                for (var _n15 in e) {
                  t.call(void 0, e[_n15], _n15, e);
                }
              }(t, function (e) {
                return e.join(", ");
              });
            })(this.g), 400 == n && 0 < a.indexOf("Unknown SID") ? (this.s = 3, Ie(12)) : (this.s = 0, Ie(13)), We(this), Ke(this);
          }
        }
      } catch (d) {}
    }, Le.prototype.cancel = function () {
      this.J = !0, We(this);
    }, Le.prototype.ba = function () {
      this.B = null;
      var e = Date.now();
      0 <= e - this.S ? (function (e, t) {
        e.info(function () {
          return "TIMEOUT: " + t;
        });
      }(this.i, this.A), 2 != this.L && (ke(), Ie(17)), We(this), this.s = 2, Ke(this)) : qe(this, this.S - e);
    };

    var Qe = function Qe(e, t) {
      _classCallCheck(this, Qe);

      this.g = e, this.map = t;
    };

    function Xe(e) {
      this.l = e || 10, i.PerformanceNavigationTiming ? e = 0 < (e = i.performance.getEntriesByType("navigation")).length && ("hq" == e[0].nextHopProtocol || "h2" == e[0].nextHopProtocol) : e = !!(i.chrome && i.chrome.loadTimes && i.chrome.loadTimes() && i.chrome.loadTimes().wasFetchedViaSpdy), this.j = e ? this.l : 1, this.g = null, 1 < this.j && (this.g = new Set()), this.h = null, this.i = [];
    }

    function Ye(e) {
      return !!e.h || !!e.g && e.g.size >= e.j;
    }

    function Je(e) {
      return e.h ? 1 : e.g ? e.g.size : 0;
    }

    function Ze(e, t) {
      return e.h ? e.h == t : !!e.g && e.g.has(t);
    }

    function et(e, t) {
      e.g ? e.g.add(t) : e.h = t;
    }

    function tt(e, t) {
      e.h && e.h == t ? e.h = null : e.g && e.g.has(t) && e.g["delete"](t);
    }

    function nt(e) {
      if (null != e.h) return e.i.concat(e.h.D);

      if (null != e.g && 0 !== e.g.size) {
        var _t10 = e.i;
        var _iteratorNormalCompletion9 = true;
        var _didIteratorError9 = false;
        var _iteratorError9 = undefined;

        try {
          for (var _iterator9 = e.g.values()[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {
            var _n16 = _step9.value;
            _t10 = _t10.concat(_n16.D);
          }
        } catch (err) {
          _didIteratorError9 = true;
          _iteratorError9 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion9 && _iterator9["return"] != null) {
              _iterator9["return"]();
            }
          } finally {
            if (_didIteratorError9) {
              throw _iteratorError9;
            }
          }
        }

        return _t10;
      }

      return d(e.i);
    }

    function rt(e, t) {
      if (e.forEach && "function" == typeof e.forEach) e.forEach(t, void 0);else if (s(e) || "string" === typeof e) Array.prototype.forEach.call(e, t, void 0);else for (var n = function (e) {
        if (e.na && "function" == typeof e.na) return e.na();

        if (!e.V || "function" != typeof e.V) {
          if ("undefined" !== typeof Map && e instanceof Map) return Array.from(e.keys());

          if (!("undefined" !== typeof Set && e instanceof Set)) {
            if (s(e) || "string" === typeof e) {
              var t = [];
              e = e.length;

              for (var n = 0; n < e; n++) {
                t.push(n);
              }

              return t;
            }

            t = [], n = 0;

            for (var _r14 in e) {
              t[n++] = _r14;
            }

            return t;
          }
        }
      }(e), r = function (e) {
        if (e.V && "function" == typeof e.V) return e.V();
        if ("undefined" !== typeof Map && e instanceof Map || "undefined" !== typeof Set && e instanceof Set) return Array.from(e.values());
        if ("string" === typeof e) return e.split("");

        if (s(e)) {
          for (var t = [], n = e.length, r = 0; r < n; r++) {
            t.push(e[r]);
          }

          return t;
        }

        for (r in t = [], n = 0, e) {
          t[n++] = e[r];
        }

        return t;
      }(e), i = r.length, o = 0; o < i; o++) {
        t.call(void 0, r[o], n && n[o], e);
      }
    }

    Xe.prototype.cancel = function () {
      if (this.i = nt(this), this.h) this.h.cancel(), this.h = null;else if (this.g && 0 !== this.g.size) {
        var _iteratorNormalCompletion10 = true;
        var _didIteratorError10 = false;
        var _iteratorError10 = undefined;

        try {
          for (var _iterator10 = this.g.values()[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {
            var _e15 = _step10.value;

            _e15.cancel();
          }
        } catch (err) {
          _didIteratorError10 = true;
          _iteratorError10 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion10 && _iterator10["return"] != null) {
              _iterator10["return"]();
            }
          } finally {
            if (_didIteratorError10) {
              throw _iteratorError10;
            }
          }
        }

        this.g.clear();
      }
    };

    var it = RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");

    function st(e) {
      if (this.g = this.o = this.j = "", this.s = null, this.m = this.l = "", this.h = !1, e instanceof st) {
        this.h = e.h, at(this, e.j), this.o = e.o, this.g = e.g, lt(this, e.s), this.l = e.l;
        var t = e.i,
            n = new Dt();
        n.i = t.i, t.g && (n.g = new Map(t.g), n.h = t.h), ut(this, n), this.m = e.m;
      } else e && (t = String(e).match(it)) ? (this.h = !1, at(this, t[1] || "", !0), this.o = St(t[2] || ""), this.g = St(t[3] || "", !0), lt(this, t[4]), this.l = St(t[5] || "", !0), ut(this, t[6] || "", !0), this.m = St(t[7] || "")) : (this.h = !1, this.i = new Dt(null, this.h));
    }

    function ot(e) {
      return new st(e);
    }

    function at(e, t, n) {
      e.j = n ? St(t, !0) : t, e.j && (e.j = e.j.replace(/:$/, ""));
    }

    function lt(e, t) {
      if (t) {
        if (t = Number(t), isNaN(t) || 0 > t) throw Error("Bad port number " + t);
        e.s = t;
      } else e.s = null;
    }

    function ut(e, t, n) {
      t instanceof Dt ? (e.i = t, function (e, t) {
        t && !e.j && (Ot(e), e.i = null, e.g.forEach(function (e, t) {
          var n = t.toLowerCase();
          t != n && (Lt(this, t), Ft(this, n, e));
        }, e)), e.j = t;
      }(e.i, e.h)) : (n || (t = Tt(t, Pt)), e.i = new Dt(t, e.h));
    }

    function ct(e, t, n) {
      e.i.set(t, n);
    }

    function Et(e) {
      return ct(e, "zx", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36)), e;
    }

    function St(e, t) {
      return e ? t ? decodeURI(e.replace(/%25/g, "%2525")) : decodeURIComponent(e) : "";
    }

    function Tt(e, t, n) {
      return "string" === typeof e ? (e = encodeURI(e).replace(t, It), n && (e = e.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), e) : null;
    }

    function It(e) {
      return "%" + ((e = e.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & e).toString(16);
    }

    st.prototype.toString = function () {
      var e = [],
          t = this.j;
      t && e.push(Tt(t, Nt, !0), ":");
      var n = this.g;
      return (n || "file" == t) && (e.push("//"), (t = this.o) && e.push(Tt(t, Nt, !0), "@"), e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n = this.s) && e.push(":", String(n))), (n = this.l) && (this.g && "/" != n.charAt(0) && e.push("/"), e.push(Tt(n, "/" == n.charAt(0) ? Rt : At, !0))), (n = this.i.toString()) && e.push("?", n), (n = this.m) && e.push("#", Tt(n, xt)), e.join("");
    };

    var Ct,
        Nt = /[#\/\?@]/g,
        At = /[#\?:]/g,
        Rt = /[#\?]/g,
        Pt = /[#\?@]/g,
        xt = /#/g;

    function Dt(e, t) {
      this.h = this.g = null, this.i = e || null, this.j = !!t;
    }

    function Ot(e) {
      e.g || (e.g = new Map(), e.h = 0, e.i && function (e, t) {
        if (e) {
          e = e.split("&");

          for (var n = 0; n < e.length; n++) {
            var r = e[n].indexOf("="),
                i = null;

            if (0 <= r) {
              var s = e[n].substring(0, r);
              i = e[n].substring(r + 1);
            } else s = e[n];

            t(s, i ? decodeURIComponent(i.replace(/\+/g, " ")) : "");
          }
        }
      }(e.i, function (t, n) {
        e.add(decodeURIComponent(t.replace(/\+/g, " ")), n);
      }));
    }

    function Lt(e, t) {
      Ot(e), t = Ut(e, t), e.g.has(t) && (e.i = null, e.h -= e.g.get(t).length, e.g["delete"](t));
    }

    function Mt(e, t) {
      return Ot(e), t = Ut(e, t), e.g.has(t);
    }

    function Ft(e, t, n) {
      Lt(e, t), 0 < n.length && (e.i = null, e.g.set(Ut(e, t), d(n)), e.h += n.length);
    }

    function Ut(e, t) {
      return t = String(t), e.j && (t = t.toLowerCase()), t;
    }

    function Vt(e, t, n, r, i) {
      try {
        i && (i.onload = null, i.onerror = null, i.onabort = null, i.ontimeout = null), r(n);
      } catch (s) {}
    }

    function zt() {
      this.g = new fe();
    }

    function jt(e, t, n) {
      var r = n || "";

      try {
        rt(e, function (e, n) {
          var i = e;
          o(e) && (i = he(e)), t.push(r + n + "=" + encodeURIComponent(i));
        });
      } catch (i) {
        throw t.push(r + "type=" + encodeURIComponent("_badmap")), i;
      }
    }

    function Bt(e) {
      this.l = e.Ub || null, this.j = e.eb || !1;
    }

    function $t(e, t) {
      ne.call(this), this.D = e, this.o = t, this.m = void 0, this.status = this.readyState = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.u = new Headers(), this.h = null, this.B = "GET", this.A = "", this.g = !1, this.v = this.j = this.l = null;
    }

    function qt(e) {
      e.j.read().then(e.Pa.bind(e))["catch"](e.ga.bind(e));
    }

    function Ht(e) {
      e.readyState = 4, e.l = null, e.j = null, e.v = null, Kt(e);
    }

    function Kt(e) {
      e.onreadystatechange && e.onreadystatechange.call(e);
    }

    function Wt(e) {
      var t = "";
      return y(e, function (e, n) {
        t += n, t += ":", t += e, t += "\r\n";
      }), t;
    }

    function Gt(e, t, n) {
      e: {
        for (r in n) {
          var r = !1;
          break e;
        }

        r = !0;
      }

      r || (n = Wt(n), "string" === typeof e ? null != n && encodeURIComponent(String(n)) : ct(e, t, n));
    }

    function Qt(e) {
      ne.call(this), this.headers = new Map(), this.o = e || null, this.h = !1, this.v = this.g = null, this.D = "", this.m = 0, this.l = "", this.j = this.B = this.u = this.A = !1, this.I = null, this.H = "", this.J = !1;
    }

    (e = Dt.prototype).add = function (e, t) {
      Ot(this), this.i = null, e = Ut(this, e);
      var n = this.g.get(e);
      return n || this.g.set(e, n = []), n.push(t), this.h += 1, this;
    }, e.forEach = function (e, t) {
      Ot(this), this.g.forEach(function (n, r) {
        n.forEach(function (n) {
          e.call(t, n, r, this);
        }, this);
      }, this);
    }, e.na = function () {
      Ot(this);
      var e = Array.from(this.g.values()),
          t = Array.from(this.g.keys()),
          n = [];

      for (var _r15 = 0; _r15 < t.length; _r15++) {
        var _i20 = e[_r15];

        for (var _e16 = 0; _e16 < _i20.length; _e16++) {
          n.push(t[_r15]);
        }
      }

      return n;
    }, e.V = function (e) {
      Ot(this);
      var t = [];
      if ("string" === typeof e) Mt(this, e) && (t = t.concat(this.g.get(Ut(this, e))));else {
        e = Array.from(this.g.values());

        for (var _n17 = 0; _n17 < e.length; _n17++) {
          t = t.concat(e[_n17]);
        }
      }
      return t;
    }, e.set = function (e, t) {
      return Ot(this), this.i = null, Mt(this, e = Ut(this, e)) && (this.h -= this.g.get(e).length), this.g.set(e, [t]), this.h += 1, this;
    }, e.get = function (e, t) {
      return e && 0 < (e = this.V(e)).length ? String(e[0]) : t;
    }, e.toString = function () {
      if (this.i) return this.i;
      if (!this.g) return "";
      var e = [],
          t = Array.from(this.g.keys());

      for (var n = 0; n < t.length; n++) {
        var r = t[n];

        var _s11 = encodeURIComponent(String(r)),
            _o5 = this.V(r);

        for (r = 0; r < _o5.length; r++) {
          var i = _s11;
          "" !== _o5[r] && (i += "=" + encodeURIComponent(String(_o5[r]))), e.push(i);
        }
      }

      return this.i = e.join("&");
    }, h(Bt, pe), Bt.prototype.g = function () {
      return new $t(this.l, this.j);
    }, Bt.prototype.i = (Ct = {}, function () {
      return Ct;
    }), h($t, ne), (e = $t.prototype).open = function (e, t) {
      if (0 != this.readyState) throw this.abort(), Error("Error reopening a connection");
      this.B = e, this.A = t, this.readyState = 1, Kt(this);
    }, e.send = function (e) {
      if (1 != this.readyState) throw this.abort(), Error("need to call open() first. ");
      this.g = !0;
      var t = {
        headers: this.u,
        method: this.B,
        credentials: this.m,
        cache: void 0
      };
      e && (t.body = e), (this.D || i).fetch(new Request(this.A, t)).then(this.Sa.bind(this), this.ga.bind(this));
    }, e.abort = function () {
      this.response = this.responseText = "", this.u = new Headers(), this.status = 0, this.j && this.j.cancel("Request was aborted.")["catch"](function () {}), 1 <= this.readyState && this.g && 4 != this.readyState && (this.g = !1, Ht(this)), this.readyState = 0;
    }, e.Sa = function (e) {
      if (this.g && (this.l = e, this.h || (this.status = this.l.status, this.statusText = this.l.statusText, this.h = e.headers, this.readyState = 2, Kt(this)), this.g && (this.readyState = 3, Kt(this), this.g))) if ("arraybuffer" === this.responseType) e.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this));else if ("undefined" !== typeof i.ReadableStream && "body" in e) {
        if (this.j = e.body.getReader(), this.o) {
          if (this.responseType) throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');
          this.response = [];
        } else this.response = this.responseText = "", this.v = new TextDecoder();

        qt(this);
      } else e.text().then(this.Ra.bind(this), this.ga.bind(this));
    }, e.Pa = function (e) {
      if (this.g) {
        if (this.o && e.value) this.response.push(e.value);else if (!this.o) {
          var t = e.value ? e.value : new Uint8Array(0);
          (t = this.v.decode(t, {
            stream: !e.done
          })) && (this.response = this.responseText += t);
        }
        e.done ? Ht(this) : Kt(this), 3 == this.readyState && qt(this);
      }
    }, e.Ra = function (e) {
      this.g && (this.response = this.responseText = e, Ht(this));
    }, e.Qa = function (e) {
      this.g && (this.response = e, Ht(this));
    }, e.ga = function () {
      this.g && Ht(this);
    }, e.setRequestHeader = function (e, t) {
      this.u.append(e, t);
    }, e.getResponseHeader = function (e) {
      return this.h && this.h.get(e.toLowerCase()) || "";
    }, e.getAllResponseHeaders = function () {
      if (!this.h) return "";
      var e = [],
          t = this.h.entries();

      for (var n = t.next(); !n.done;) {
        n = n.value, e.push(n[0] + ": " + n[1]), n = t.next();
      }

      return e.join("\r\n");
    }, Object.defineProperty($t.prototype, "withCredentials", {
      get: function get() {
        return "include" === this.m;
      },
      set: function set(e) {
        this.m = e ? "include" : "same-origin";
      }
    }), h(Qt, ne);
    var Xt = /^https?$/i,
        Yt = ["POST", "PUT"];

    function Jt(e, t) {
      e.h = !1, e.g && (e.j = !0, e.g.abort(), e.j = !1), e.l = t, e.m = 5, Zt(e), tn(e);
    }

    function Zt(e) {
      e.A || (e.A = !0, re(e, "complete"), re(e, "error"));
    }

    function en(e) {
      if (e.h && "undefined" != typeof r && (!e.v[1] || 4 != rn(e) || 2 != e.Z())) if (e.u && 4 == rn(e)) se(e.Ea, 0, e);else if (re(e, "readystatechange"), 4 == rn(e)) {
        e.h = !1;

        try {
          var _r16 = e.Z();

          e: switch (_r16) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
              var t = !0;
              break e;

            default:
              t = !1;
          }

          var n;

          if (!(n = t)) {
            var s;

            if (s = 0 === _r16) {
              var o = String(e.D).match(it)[1] || null;
              !o && i.self && i.self.location && (o = i.self.location.protocol.slice(0, -1)), s = !Xt.test(o ? o.toLowerCase() : "");
            }

            n = s;
          }

          if (n) re(e, "complete"), re(e, "success");else {
            e.m = 6;

            try {
              var a = 2 < rn(e) ? e.g.statusText : "";
            } catch (l) {
              a = "";
            }

            e.l = a + " [" + e.Z() + "]", Zt(e);
          }
        } finally {
          tn(e);
        }
      }
    }

    function tn(e, t) {
      if (e.g) {
        nn(e);

        var _r17 = e.g,
            _i21 = e.v[0] ? function () {} : null;

        e.g = null, e.v = null, t || re(e, "ready");

        try {
          _r17.onreadystatechange = _i21;
        } catch (n) {}
      }
    }

    function nn(e) {
      e.I && (i.clearTimeout(e.I), e.I = null);
    }

    function rn(e) {
      return e.g ? e.g.readyState : 0;
    }

    function sn(e) {
      try {
        if (!e.g) return null;
        if ("response" in e.g) return e.g.response;

        switch (e.H) {
          case "":
          case "text":
            return e.g.responseText;

          case "arraybuffer":
            if ("mozResponseArrayBuffer" in e.g) return e.g.mozResponseArrayBuffer;
        }

        return null;
      } catch (kt) {
        return null;
      }
    }

    function on(e, t, n) {
      return n && n.internalChannelParams && n.internalChannelParams[e] || t;
    }

    function an(e) {
      this.Aa = 0, this.i = [], this.j = new Ae(), this.ia = this.qa = this.I = this.W = this.g = this.ya = this.D = this.H = this.m = this.S = this.o = null, this.Ya = this.U = 0, this.Va = on("failFast", !1, e), this.F = this.C = this.u = this.s = this.l = null, this.X = !0, this.za = this.T = -1, this.Y = this.v = this.B = 0, this.Ta = on("baseRetryDelayMs", 5e3, e), this.cb = on("retryDelaySeedMs", 1e4, e), this.Wa = on("forwardChannelMaxRetries", 2, e), this.wa = on("forwardChannelRequestTimeoutMs", 2e4, e), this.pa = e && e.xmlHttpFactory || void 0, this.Xa = e && e.Tb || void 0, this.Ca = e && e.useFetchStreams || !1, this.L = void 0, this.J = e && e.supportsCrossDomainXhr || !1, this.K = "", this.h = new Xe(e && e.concurrentRequestLimit), this.Da = new zt(), this.P = e && e.fastHandshake || !1, this.O = e && e.encodeInitMessageHeaders || !1, this.P && this.O && (this.O = !1), this.Ua = e && e.Rb || !1, e && e.xa && this.j.xa(), e && e.forceLongPolling && (this.X = !1), this.ba = !this.P && this.X && e && e.detectBufferingProxy || !1, this.ja = void 0, e && e.longPollingTimeout && 0 < e.longPollingTimeout && (this.ja = e.longPollingTimeout), this.ca = void 0, this.R = 0, this.M = !1, this.ka = this.A = null;
    }

    function ln(e) {
      if (cn(e), 3 == e.G) {
        var t = e.U++,
            n = ot(e.I);
        if (ct(n, "SID", e.K), ct(n, "RID", t), ct(n, "TYPE", "terminate"), fn(e, n), (t = new Le(e, e.j, t)).L = 2, t.v = Et(ot(n)), n = !1, i.navigator && i.navigator.sendBeacon) try {
          n = i.navigator.sendBeacon(t.v.toString(), "");
        } catch (r) {}
        !n && i.Image && (new Image().src = t.v, n = !0), n || (t.g = Tn(t.j, null), t.g.ea(t.v)), t.F = Date.now(), $e(t);
      }

      Sn(e);
    }

    function un(e) {
      e.g && (vn(e), e.g.cancel(), e.g = null);
    }

    function cn(e) {
      un(e), e.u && (i.clearTimeout(e.u), e.u = null), wn(e), e.h.cancel(), e.s && ("number" === typeof e.s && i.clearTimeout(e.s), e.s = null);
    }

    function hn(e) {
      if (!Ye(e.h) && !e.s) {
        e.s = !0;
        var t = e.Ga;
        C || R(), N || (C(), N = !0), A.add(t, e), e.B = 0;
      }
    }

    function dn(e, t) {
      var n;
      n = t ? t.l : e.U++;
      var r = ot(e.I);
      ct(r, "SID", e.K), ct(r, "RID", n), ct(r, "AID", e.T), fn(e, r), e.m && e.o && Gt(r, e.m, e.o), n = new Le(e, e.j, n, e.B + 1), null === e.m && (n.H = e.o), t && (e.i = t.D.concat(e.i)), t = pn(e, n, 1e3), n.I = Math.round(.5 * e.wa) + Math.round(.5 * e.wa * Math.random()), et(e.h, n), Ve(n, r, t);
    }

    function fn(e, t) {
      e.H && y(e.H, function (e, n) {
        ct(t, n, e);
      }), e.l && rt({}, function (e, n) {
        ct(t, n, e);
      });
    }

    function pn(e, t, n) {
      n = Math.min(e.i.length, n);
      var r = e.l ? u(e.l.Na, e.l, e) : null;

      e: {
        var i = e.i;

        var _t11 = -1;

        for (;;) {
          var _e17 = ["count=" + n];
          -1 == _t11 ? 0 < n ? (_t11 = i[0].g, _e17.push("ofs=" + _t11)) : _t11 = 0 : _e17.push("ofs=" + _t11);

          var _o6 = !0;

          for (var _a3 = 0; _a3 < n; _a3++) {
            var _n18 = i[_a3].g;
            var _l5 = i[_a3].map;
            if (_n18 -= _t11, 0 > _n18) _t11 = Math.max(0, i[_a3].g - 100), _o6 = !1;else try {
              jt(_l5, _e17, "req" + _n18 + "_");
            } catch (s) {
              r && r(_l5);
            }
          }

          if (_o6) {
            r = _e17.join("&");
            break e;
          }
        }
      }

      return e = e.i.splice(0, n), t.D = e, r;
    }

    function gn(e) {
      if (!e.g && !e.u) {
        e.Y = 1;
        var t = e.Fa;
        C || R(), N || (C(), N = !0), A.add(t, e), e.v = 0;
      }
    }

    function mn(e) {
      return !(e.g || e.u || 3 <= e.v) && (e.Y++, e.u = Ne(u(e.Fa, e), _n(e, e.v)), e.v++, !0);
    }

    function vn(e) {
      null != e.A && (i.clearTimeout(e.A), e.A = null);
    }

    function yn(e) {
      e.g = new Le(e, e.j, "rpc", e.Y), null === e.m && (e.g.H = e.o), e.g.O = 0;
      var t = ot(e.qa);
      ct(t, "RID", "rpc"), ct(t, "SID", e.K), ct(t, "AID", e.T), ct(t, "CI", e.F ? "0" : "1"), !e.F && e.ja && ct(t, "TO", e.ja), ct(t, "TYPE", "xmlhttp"), fn(e, t), e.m && e.o && Gt(t, e.m, e.o), e.L && (e.g.I = e.L);
      var n = e.g;
      e = e.ia, n.L = 1, n.v = Et(ot(t)), n.m = null, n.P = !0, ze(n, e);
    }

    function wn(e) {
      null != e.C && (i.clearTimeout(e.C), e.C = null);
    }

    function bn(e, t) {
      var n = null;

      if (e.g == t) {
        wn(e), vn(e), e.g = null;
        var r = 2;
      } else {
        if (!Ze(e.h, t)) return;
        n = t.D, tt(e.h, t), r = 1;
      }

      if (0 != e.G) if (t.o) {
        if (1 == r) {
          n = t.m ? t.m.length : 0, t = Date.now() - t.F;
          var i = e.B;
          re(r = Ee(), new Ce(r, n)), hn(e);
        } else gn(e);
      } else if (3 == (i = t.s) || 0 == i && 0 < t.X || !(1 == r && function (e, t) {
        return !(Je(e.h) >= e.h.j - (e.s ? 1 : 0)) && (e.s ? (e.i = t.D.concat(e.i), !0) : !(1 == e.G || 2 == e.G || e.B >= (e.Va ? 0 : e.Wa)) && (e.s = Ne(u(e.Ga, e, t), _n(e, e.B)), e.B++, !0));
      }(e, t) || 2 == r && mn(e))) switch (n && 0 < n.length && (t = e.h, t.i = t.i.concat(n)), i) {
        case 1:
          En(e, 5);
          break;

        case 4:
          En(e, 10);
          break;

        case 3:
          En(e, 6);
          break;

        default:
          En(e, 2);
      }
    }

    function _n(e, t) {
      var n = e.Ta + Math.floor(Math.random() * e.cb);
      return e.isActive() || (n *= 2), n * t;
    }

    function En(e, t) {
      if (e.j.info("Error code " + t), 2 == t) {
        var n = u(e.fb, e),
            r = e.Xa;

        var _t12 = !r;

        r = new st(r || "//www.google.com/images/cleardot.gif"), i.location && "http" == i.location.protocol || at(r, "https"), Et(r), _t12 ? function (e, t) {
          var n = new Ae();

          if (i.Image) {
            var _r18 = new Image();

            _r18.onload = c(Vt, n, "TestLoadImage: loaded", !0, t, _r18), _r18.onerror = c(Vt, n, "TestLoadImage: error", !1, t, _r18), _r18.onabort = c(Vt, n, "TestLoadImage: abort", !1, t, _r18), _r18.ontimeout = c(Vt, n, "TestLoadImage: timeout", !1, t, _r18), i.setTimeout(function () {
              _r18.ontimeout && _r18.ontimeout();
            }, 1e4), _r18.src = e;
          } else t(!1);
        }(r.toString(), n) : function (e, t) {
          new Ae();
          var n = new AbortController(),
              r = setTimeout(function () {
            n.abort(), Vt(0, 0, !1, t);
          }, 1e4);
          fetch(e, {
            signal: n.signal
          }).then(function (e) {
            clearTimeout(r), e.ok ? Vt(0, 0, !0, t) : Vt(0, 0, !1, t);
          })["catch"](function () {
            clearTimeout(r), Vt(0, 0, !1, t);
          });
        }(r.toString(), n);
      } else Ie(2);

      e.G = 0, e.l && e.l.sa(t), Sn(e), cn(e);
    }

    function Sn(e) {
      if (e.G = 0, e.ka = [], e.l) {
        var _t13 = nt(e.h);

        0 == _t13.length && 0 == e.i.length || (f(e.ka, _t13), f(e.ka, e.i), e.h.i.length = 0, d(e.i), e.i.length = 0), e.l.ra();
      }
    }

    function kn(e, t, n) {
      var r = n instanceof st ? ot(n) : new st(n);
      if ("" != r.g) t && (r.g = t + "." + r.g), lt(r, r.s);else {
        var s = i.location;
        r = s.protocol, t = t ? t + "." + s.hostname : s.hostname, s = +s.port;
        var o = new st(null);
        r && at(o, r), t && (o.g = t), s && lt(o, s), n && (o.l = n), r = o;
      }
      return n = e.D, t = e.ya, n && t && ct(r, n, t), ct(r, "VER", e.la), fn(e, r), r;
    }

    function Tn(e, t, n) {
      if (t && !e.J) throw Error("Can't create secondary domain capable XhrIo object.");
      return (t = e.Ca && !e.pa ? new Qt(new Bt({
        eb: n
      })) : new Qt(e.pa)).Ha(e.J), t;
    }

    function In() {}

    function Cn() {}

    function Nn(e, t) {
      ne.call(this), this.g = new an(t), this.l = e, this.h = t && t.messageUrlParams || null, e = t && t.messageHeaders || null, t && t.clientProtocolHeaderRequired && (e ? e["X-Client-Protocol"] = "webchannel" : e = {
        "X-Client-Protocol": "webchannel"
      }), this.g.o = e, e = t && t.initMessageHeaders || null, t && t.messageContentType && (e ? e["X-WebChannel-Content-Type"] = t.messageContentType : e = {
        "X-WebChannel-Content-Type": t.messageContentType
      }), t && t.va && (e ? e["X-WebChannel-Client-Profile"] = t.va : e = {
        "X-WebChannel-Client-Profile": t.va
      }), this.g.S = e, (e = t && t.Sb) && !p(e) && (this.g.m = e), this.v = t && t.supportsCrossDomainXhr || !1, this.u = t && t.sendRawJson || !1, (t = t && t.httpSessionIdParam) && !p(t) && (this.g.D = t, null !== (e = this.h) && t in e && t in (e = this.h) && delete e[t]), this.j = new Pn(this);
    }

    function An(e) {
      ye.call(this), e.__headers__ && (this.headers = e.__headers__, this.statusCode = e.__status__, delete e.__headers__, delete e.__status__);
      var t = e.__sm__;

      if (t) {
        e: {
          for (var _n19 in t) {
            e = _n19;
            break e;
          }

          e = void 0;
        }

        (this.i = e) && (e = this.i, t = null !== t && e in t ? t[e] : void 0), this.data = t;
      } else this.data = e;
    }

    function Rn() {
      we.call(this), this.status = 1;
    }

    function Pn(e) {
      this.g = e;
    }

    (e = Qt.prototype).Ha = function (e) {
      this.J = e;
    }, e.ea = function (e, t, n, r) {
      if (this.g) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.D + "; newUri=" + e);
      t = t ? t.toUpperCase() : "GET", this.D = e, this.l = "", this.m = 0, this.A = !1, this.h = !0, this.g = this.o ? this.o.g() : Pe.g(), this.v = this.o ? ge(this.o) : ge(Pe), this.g.onreadystatechange = u(this.Ea, this);

      try {
        this.B = !0, this.g.open(t, String(e), !0), this.B = !1;
      } catch (o) {
        return void Jt(this, o);
      }

      if (e = n || "", n = new Map(this.headers), r) if (Object.getPrototypeOf(r) === Object.prototype) for (var s in r) {
        n.set(s, r[s]);
      } else {
        if ("function" !== typeof r.keys || "function" !== typeof r.get) throw Error("Unknown input type for opt_headers: " + String(r));
        var _iteratorNormalCompletion11 = true;
        var _didIteratorError11 = false;
        var _iteratorError11 = undefined;

        try {
          for (var _iterator11 = r.keys()[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {
            var _e18 = _step11.value;
            n.set(_e18, r.get(_e18));
          }
        } catch (err) {
          _didIteratorError11 = true;
          _iteratorError11 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion11 && _iterator11["return"] != null) {
              _iterator11["return"]();
            }
          } finally {
            if (_didIteratorError11) {
              throw _iteratorError11;
            }
          }
        }
      }
      r = Array.from(n.keys()).find(function (e) {
        return "content-type" == e.toLowerCase();
      }), s = i.FormData && e instanceof i.FormData, !(0 <= Array.prototype.indexOf.call(Yt, t, void 0)) || r || s || n.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
      var _iteratorNormalCompletion12 = true;
      var _didIteratorError12 = false;
      var _iteratorError12 = undefined;

      try {
        for (var _iterator12 = n[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {
          var _step12$value = _slicedToArray(_step12.value, 2),
              _i22 = _step12$value[0],
              _a4 = _step12$value[1];

          this.g.setRequestHeader(_i22, _a4);
        }
      } catch (err) {
        _didIteratorError12 = true;
        _iteratorError12 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion12 && _iterator12["return"] != null) {
            _iterator12["return"]();
          }
        } finally {
          if (_didIteratorError12) {
            throw _iteratorError12;
          }
        }
      }

      this.H && (this.g.responseType = this.H), "withCredentials" in this.g && this.g.withCredentials !== this.J && (this.g.withCredentials = this.J);

      try {
        nn(this), this.u = !0, this.g.send(e), this.u = !1;
      } catch (o) {
        Jt(this, o);
      }
    }, e.abort = function (e) {
      this.g && this.h && (this.h = !1, this.j = !0, this.g.abort(), this.j = !1, this.m = e || 7, re(this, "complete"), re(this, "abort"), tn(this));
    }, e.N = function () {
      this.g && (this.h && (this.h = !1, this.j = !0, this.g.abort(), this.j = !1), tn(this, !0)), Qt.aa.N.call(this);
    }, e.Ea = function () {
      this.s || (this.B || this.u || this.j ? en(this) : this.bb());
    }, e.bb = function () {
      en(this);
    }, e.isActive = function () {
      return !!this.g;
    }, e.Z = function () {
      try {
        return 2 < rn(this) ? this.g.status : -1;
      } catch (Ct) {
        return -1;
      }
    }, e.oa = function () {
      try {
        return this.g ? this.g.responseText : "";
      } catch (Ct) {
        return "";
      }
    }, e.Oa = function (e) {
      if (this.g) {
        var t = this.g.responseText;
        return e && 0 == t.indexOf(e) && (t = t.substring(e.length)), de(t);
      }
    }, e.Ba = function () {
      return this.m;
    }, e.Ka = function () {
      return "string" === typeof this.l ? this.l : String(this.l);
    }, (e = an.prototype).la = 8, e.G = 1, e.connect = function (e, t, n, r) {
      Ie(0), this.W = e, this.H = t || {}, n && void 0 !== r && (this.H.OSID = n, this.H.OAID = r), this.F = this.X, this.I = kn(this, null, this.W), hn(this);
    }, e.Ga = function (e) {
      if (this.s) if (this.s = null, 1 == this.G) {
        if (!e) {
          this.U = Math.floor(1e5 * Math.random()), e = this.U++;

          var _i23 = new Le(this, this.j, e);

          var _s12 = this.o;
          if (this.S && (_s12 ? (_s12 = w(_s12), _(_s12, this.S)) : _s12 = this.S), null !== this.m || this.O || (_i23.H = _s12, _s12 = null), this.P) e: {
            for (var t = 0, n = 0; n < this.i.length; n++) {
              var r = this.i[n];
              if (void 0 === (r = "__data__" in r.map && "string" === typeof (r = r.map.__data__) ? r.length : void 0)) break;

              if (4096 < (t += r)) {
                t = n;
                break e;
              }

              if (4096 === t || n === this.i.length - 1) {
                t = n + 1;
                break e;
              }
            }

            t = 1e3;
          } else t = 1e3;
          t = pn(this, _i23, t), ct(n = ot(this.I), "RID", e), ct(n, "CVER", 22), this.D && ct(n, "X-HTTP-Session-Id", this.D), fn(this, n), _s12 && (this.O ? t = "headers=" + encodeURIComponent(String(Wt(_s12))) + "&" + t : this.m && Gt(n, this.m, _s12)), et(this.h, _i23), this.Ua && ct(n, "TYPE", "init"), this.P ? (ct(n, "$req", t), ct(n, "SID", "null"), _i23.T = !0, Ve(_i23, n, null)) : Ve(_i23, n, t), this.G = 2;
        }
      } else 3 == this.G && (e ? dn(this, e) : 0 == this.i.length || Ye(this.h) || dn(this));
    }, e.Fa = function () {
      if (this.u = null, yn(this), this.ba && !(this.M || null == this.g || 0 >= this.R)) {
        var e = 2 * this.R;
        this.j.info("BP detection timer enabled: " + e), this.A = Ne(u(this.ab, this), e);
      }
    }, e.ab = function () {
      this.A && (this.A = null, this.j.info("BP detection timeout reached."), this.j.info("Buffering proxy detected and switch to long-polling!"), this.F = !1, this.M = !0, Ie(10), un(this), yn(this));
    }, e.Za = function () {
      null != this.C && (this.C = null, un(this), mn(this), Ie(19));
    }, e.fb = function (e) {
      e ? (this.j.info("Successfully pinged google.com"), Ie(2)) : (this.j.info("Failed to ping google.com"), Ie(1));
    }, e.isActive = function () {
      return !!this.l && this.l.isActive(this);
    }, (e = In.prototype).ua = function () {}, e.ta = function () {}, e.sa = function () {}, e.ra = function () {}, e.isActive = function () {
      return !0;
    }, e.Na = function () {}, Cn.prototype.g = function (e, t) {
      return new Nn(e, t);
    }, h(Nn, ne), Nn.prototype.m = function () {
      this.g.l = this.j, this.v && (this.g.J = !0), this.g.connect(this.l, this.h || void 0);
    }, Nn.prototype.close = function () {
      ln(this.g);
    }, Nn.prototype.o = function (e) {
      var t = this.g;

      if ("string" === typeof e) {
        var n = {};
        n.__data__ = e, e = n;
      } else this.u && ((n = {}).__data__ = he(e), e = n);

      t.i.push(new Qe(t.Ya++, e)), 3 == t.G && hn(t);
    }, Nn.prototype.N = function () {
      this.g.l = null, delete this.j, ln(this.g), delete this.g, Nn.aa.N.call(this);
    }, h(An, ye), h(Rn, we), h(Pn, In), Pn.prototype.ua = function () {
      re(this.g, "a");
    }, Pn.prototype.ta = function (e) {
      re(this.g, new An(e));
    }, Pn.prototype.sa = function (e) {
      re(this.g, new Rn());
    }, Pn.prototype.ra = function () {
      re(this.g, "b");
    }, Cn.prototype.createWebChannel = Cn.prototype.g, Nn.prototype.send = Nn.prototype.o, Nn.prototype.open = Nn.prototype.m, Nn.prototype.close = Nn.prototype.close, wt = _t.createWebChannelTransport = function () {
      return new Cn();
    }, yt = _t.getStatEventTarget = function () {
      return Ee();
    }, vt = _t.Event = be, mt = _t.Stat = {
      mb: 0,
      pb: 1,
      qb: 2,
      Jb: 3,
      Ob: 4,
      Lb: 5,
      Mb: 6,
      Kb: 7,
      Ib: 8,
      Nb: 9,
      PROXY: 10,
      NOPROXY: 11,
      Gb: 12,
      Cb: 13,
      Db: 14,
      Bb: 15,
      Eb: 16,
      Fb: 17,
      ib: 18,
      hb: 19,
      jb: 20
    }, xe.NO_ERROR = 0, xe.TIMEOUT = 8, xe.HTTP_ERROR = 6, gt = _t.ErrorCode = xe, De.COMPLETE = "complete", pt = _t.EventType = De, me.EventType = ve, ve.OPEN = "a", ve.CLOSE = "b", ve.ERROR = "c", ve.MESSAGE = "d", ne.prototype.listen = ne.prototype.K, ft = _t.WebChannel = me, dt = _t.FetchXmlHttpFactory = Bt, Qt.prototype.listenOnce = Qt.prototype.L, Qt.prototype.getLastError = Qt.prototype.Ka, Qt.prototype.getLastErrorCode = Qt.prototype.Ba, Qt.prototype.getStatus = Qt.prototype.Z, Qt.prototype.getResponseJson = Qt.prototype.Oa, Qt.prototype.getResponseText = Qt.prototype.oa, Qt.prototype.send = Qt.prototype.ea, Qt.prototype.setWithCredentials = Qt.prototype.Ha, ht = _t.XhrIo = Qt;
  }).apply("undefined" !== typeof bt ? bt : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {});
  var Et = "@firebase/firestore";

  var St =
  /*#__PURE__*/
  function () {
    function St(e) {
      _classCallCheck(this, St);

      this.uid = e;
    }

    _createClass(St, [{
      key: "isAuthenticated",
      value: function isAuthenticated() {
        return null != this.uid;
      }
    }, {
      key: "toKey",
      value: function toKey() {
        return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return e.uid === this.uid;
      }
    }]);

    return St;
  }();

  St.UNAUTHENTICATED = new St(null), St.GOOGLE_CREDENTIALS = new St("google-credentials-uid"), St.FIRST_PARTY = new St("first-party-uid"), St.MOCK_USER = new St("mock-user");
  var kt = "10.13.0";
  var Tt = new j("@firebase/firestore");

  function It() {
    return Tt.logLevel;
  }

  function Ct(e) {
    if (Tt.logLevel <= M.DEBUG) {
      for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
        n[r - 1] = arguments[r];
      }

      var _i24 = n.map(Rt);

      Tt.debug.apply(Tt, ["Firestore (".concat(kt, "): ").concat(e)].concat(_toConsumableArray(_i24)));
    }
  }

  function Nt(e) {
    if (Tt.logLevel <= M.ERROR) {
      for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
        n[r - 1] = arguments[r];
      }

      var _i25 = n.map(Rt);

      Tt.error.apply(Tt, ["Firestore (".concat(kt, "): ").concat(e)].concat(_toConsumableArray(_i25)));
    }
  }

  function At(e) {
    if (Tt.logLevel <= M.WARN) {
      for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
        n[r - 1] = arguments[r];
      }

      var _i26 = n.map(Rt);

      Tt.warn.apply(Tt, ["Firestore (".concat(kt, "): ").concat(e)].concat(_toConsumableArray(_i26)));
    }
  }

  function Rt(e) {
    if ("string" == typeof e) return e;

    try {
      return function (e) {
        return JSON.stringify(e);
      }(e);
    } catch (t) {
      return e;
    }
  }

  function Pt() {
    var e = "FIRESTORE (".concat(kt, ") INTERNAL ASSERTION FAILED: ") + (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Unexpected state");
    throw Nt(e), new Error(e);
  }

  function xt(e, t) {
    e || Pt();
  }

  function Dt(e, t) {
    return e;
  }

  var Ot = {
    OK: "ok",
    CANCELLED: "cancelled",
    UNKNOWN: "unknown",
    INVALID_ARGUMENT: "invalid-argument",
    DEADLINE_EXCEEDED: "deadline-exceeded",
    NOT_FOUND: "not-found",
    ALREADY_EXISTS: "already-exists",
    PERMISSION_DENIED: "permission-denied",
    UNAUTHENTICATED: "unauthenticated",
    RESOURCE_EXHAUSTED: "resource-exhausted",
    FAILED_PRECONDITION: "failed-precondition",
    ABORTED: "aborted",
    OUT_OF_RANGE: "out-of-range",
    UNIMPLEMENTED: "unimplemented",
    INTERNAL: "internal",
    UNAVAILABLE: "unavailable",
    DATA_LOSS: "data-loss"
  };

  var Lt =
  /*#__PURE__*/
  function (_b) {
    _inherits(Lt, _b);

    function Lt(e, t) {
      var _this12;

      _classCallCheck(this, Lt);

      _this12 = _possibleConstructorReturn(this, _getPrototypeOf(Lt).call(this, e, t)), _this12.code = e, _this12.message = t, _this12.toString = function () {
        return "".concat(_this12.name, ": [code=").concat(_this12.code, "]: ").concat(_this12.message);
      };
      return _this12;
    }

    return Lt;
  }(b);

  var Mt = function Mt() {
    var _this13 = this;

    _classCallCheck(this, Mt);

    this.promise = new Promise(function (e, t) {
      _this13.resolve = e, _this13.reject = t;
    });
  };

  var Ft = function Ft(e, t) {
    _classCallCheck(this, Ft);

    this.user = t, this.type = "OAuth", this.headers = new Map(), this.headers.set("Authorization", "Bearer ".concat(e));
  };

  var Ut =
  /*#__PURE__*/
  function () {
    function Ut() {
      _classCallCheck(this, Ut);
    }

    _createClass(Ut, [{
      key: "getToken",
      value: function getToken() {
        return Promise.resolve(null);
      }
    }, {
      key: "invalidateToken",
      value: function invalidateToken() {}
    }, {
      key: "start",
      value: function start(e, t) {
        e.enqueueRetryable(function () {
          return t(St.UNAUTHENTICATED);
        });
      }
    }, {
      key: "shutdown",
      value: function shutdown() {}
    }]);

    return Ut;
  }();

  var Vt =
  /*#__PURE__*/
  function () {
    function Vt(e) {
      _classCallCheck(this, Vt);

      this.token = e, this.changeListener = null;
    }

    _createClass(Vt, [{
      key: "getToken",
      value: function getToken() {
        return Promise.resolve(this.token);
      }
    }, {
      key: "invalidateToken",
      value: function invalidateToken() {}
    }, {
      key: "start",
      value: function start(e, t) {
        var _this14 = this;

        this.changeListener = t, e.enqueueRetryable(function () {
          return t(_this14.token.user);
        });
      }
    }, {
      key: "shutdown",
      value: function shutdown() {
        this.changeListener = null;
      }
    }]);

    return Vt;
  }();

  var zt =
  /*#__PURE__*/
  function () {
    function zt(e) {
      _classCallCheck(this, zt);

      this.t = e, this.currentUser = St.UNAUTHENTICATED, this.i = 0, this.forceRefresh = !1, this.auth = null;
    }

    _createClass(zt, [{
      key: "start",
      value: function start(e, t) {
        var _this15 = this;

        var n = this.i;

        var r = function r(e) {
          return _this15.i !== n ? (n = _this15.i, t(e)) : Promise.resolve();
        };

        var i = new Mt();

        this.o = function () {
          _this15.i++, _this15.currentUser = _this15.u(), i.resolve(), i = new Mt(), e.enqueueRetryable(function () {
            return r(_this15.currentUser);
          });
        };

        var s = function s() {
          var t = i;
          e.enqueueRetryable(function _callee2() {
            return regeneratorRuntime.async(function _callee2$(_context11) {
              while (1) {
                switch (_context11.prev = _context11.next) {
                  case 0:
                    _context11.next = 2;
                    return regeneratorRuntime.awrap(t.promise);

                  case 2:
                    _context11.next = 4;
                    return regeneratorRuntime.awrap(r(_this15.currentUser));

                  case 4:
                  case "end":
                    return _context11.stop();
                }
              }
            });
          });
        },
            o = function o(e) {
          Ct("FirebaseAuthCredentialsProvider", "Auth detected"), _this15.auth = e, _this15.auth.addAuthTokenListener(_this15.o), s();
        };

        this.t.onInit(function (e) {
          return o(e);
        }), setTimeout(function () {
          if (!_this15.auth) {
            var _e19 = _this15.t.getImmediate({
              optional: !0
            });

            _e19 ? o(_e19) : (Ct("FirebaseAuthCredentialsProvider", "Auth not yet detected"), i.resolve(), i = new Mt());
          }
        }, 0), s();
      }
    }, {
      key: "getToken",
      value: function getToken() {
        var _this16 = this;

        var e = this.i,
            t = this.forceRefresh;
        return this.forceRefresh = !1, this.auth ? this.auth.getToken(t).then(function (t) {
          return _this16.i !== e ? (Ct("FirebaseAuthCredentialsProvider", "getToken aborted due to token change."), _this16.getToken()) : t ? (xt("string" == typeof t.accessToken), new Ft(t.accessToken, _this16.currentUser)) : null;
        }) : Promise.resolve(null);
      }
    }, {
      key: "invalidateToken",
      value: function invalidateToken() {
        this.forceRefresh = !0;
      }
    }, {
      key: "shutdown",
      value: function shutdown() {
        this.auth && this.auth.removeAuthTokenListener(this.o);
      }
    }, {
      key: "u",
      value: function u() {
        var e = this.auth && this.auth.getUid();
        return xt(null === e || "string" == typeof e), new St(e);
      }
    }]);

    return zt;
  }();

  var jt =
  /*#__PURE__*/
  function () {
    function jt(e, t, n) {
      _classCallCheck(this, jt);

      this.l = e, this.h = t, this.P = n, this.type = "FirstParty", this.user = St.FIRST_PARTY, this.I = new Map();
    }

    _createClass(jt, [{
      key: "T",
      value: function T() {
        return this.P ? this.P() : null;
      }
    }, {
      key: "headers",
      get: function get() {
        this.I.set("X-Goog-AuthUser", this.l);
        var e = this.T();
        return e && this.I.set("Authorization", e), this.h && this.I.set("X-Goog-Iam-Authorization-Token", this.h), this.I;
      }
    }]);

    return jt;
  }();

  var Bt =
  /*#__PURE__*/
  function () {
    function Bt(e, t, n) {
      _classCallCheck(this, Bt);

      this.l = e, this.h = t, this.P = n;
    }

    _createClass(Bt, [{
      key: "getToken",
      value: function getToken() {
        return Promise.resolve(new jt(this.l, this.h, this.P));
      }
    }, {
      key: "start",
      value: function start(e, t) {
        e.enqueueRetryable(function () {
          return t(St.FIRST_PARTY);
        });
      }
    }, {
      key: "shutdown",
      value: function shutdown() {}
    }, {
      key: "invalidateToken",
      value: function invalidateToken() {}
    }]);

    return Bt;
  }();

  var $t = function $t(e) {
    _classCallCheck(this, $t);

    this.value = e, this.type = "AppCheck", this.headers = new Map(), e && e.length > 0 && this.headers.set("x-firebase-appcheck", this.value);
  };

  var qt =
  /*#__PURE__*/
  function () {
    function qt(e) {
      _classCallCheck(this, qt);

      this.A = e, this.forceRefresh = !1, this.appCheck = null, this.R = null;
    }

    _createClass(qt, [{
      key: "start",
      value: function start(e, t) {
        var _this17 = this;

        var n = function n(e) {
          null != e.error && Ct("FirebaseAppCheckTokenProvider", "Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));
          var n = e.token !== _this17.R;
          return _this17.R = e.token, Ct("FirebaseAppCheckTokenProvider", "Received ".concat(n ? "new" : "existing", " token.")), n ? t(e.token) : Promise.resolve();
        };

        this.o = function (t) {
          e.enqueueRetryable(function () {
            return n(t);
          });
        };

        var r = function r(e) {
          Ct("FirebaseAppCheckTokenProvider", "AppCheck detected"), _this17.appCheck = e, _this17.appCheck.addTokenListener(_this17.o);
        };

        this.A.onInit(function (e) {
          return r(e);
        }), setTimeout(function () {
          if (!_this17.appCheck) {
            var _e20 = _this17.A.getImmediate({
              optional: !0
            });

            _e20 ? r(_e20) : Ct("FirebaseAppCheckTokenProvider", "AppCheck not yet detected");
          }
        }, 0);
      }
    }, {
      key: "getToken",
      value: function getToken() {
        var _this18 = this;

        var e = this.forceRefresh;
        return this.forceRefresh = !1, this.appCheck ? this.appCheck.getToken(e).then(function (e) {
          return e ? (xt("string" == typeof e.token), _this18.R = e.token, new $t(e.token)) : null;
        }) : Promise.resolve(null);
      }
    }, {
      key: "invalidateToken",
      value: function invalidateToken() {
        this.forceRefresh = !0;
      }
    }, {
      key: "shutdown",
      value: function shutdown() {
        this.appCheck && this.appCheck.removeTokenListener(this.o);
      }
    }]);

    return qt;
  }();

  function Ht(e) {
    var t = "undefined" != typeof self && (self.crypto || self.msCrypto),
        n = new Uint8Array(e);
    if (t && "function" == typeof t.getRandomValues) t.getRandomValues(n);else for (var _r19 = 0; _r19 < e; _r19++) {
      n[_r19] = Math.floor(256 * Math.random());
    }
    return n;
  }

  var Kt =
  /*#__PURE__*/
  function () {
    function Kt() {
      _classCallCheck(this, Kt);
    }

    _createClass(Kt, null, [{
      key: "newId",
      value: function newId() {
        var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
            t = 62 * Math.floor(256 / 62);
        var n = "";

        for (; n.length < 20;) {
          var _r20 = Ht(40);

          for (var _i27 = 0; _i27 < _r20.length; ++_i27) {
            n.length < 20 && _r20[_i27] < t && (n += e.charAt(_r20[_i27] % 62));
          }
        }

        return n;
      }
    }]);

    return Kt;
  }();

  function Wt(e, t) {
    return e < t ? -1 : e > t ? 1 : 0;
  }

  function Gt(e, t, n) {
    return e.length === t.length && e.every(function (e, r) {
      return n(e, t[r]);
    });
  }

  var Qt =
  /*#__PURE__*/
  function () {
    function Qt(e, t) {
      _classCallCheck(this, Qt);

      if (this.seconds = e, this.nanoseconds = t, t < 0) throw new Lt(Ot.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + t);
      if (t >= 1e9) throw new Lt(Ot.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + t);
      if (e < -62135596800) throw new Lt(Ot.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
      if (e >= 253402300800) throw new Lt(Ot.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
    }

    _createClass(Qt, [{
      key: "toDate",
      value: function toDate() {
        return new Date(this.toMillis());
      }
    }, {
      key: "toMillis",
      value: function toMillis() {
        return 1e3 * this.seconds + this.nanoseconds / 1e6;
      }
    }, {
      key: "_compareTo",
      value: function _compareTo(e) {
        return this.seconds === e.seconds ? Wt(this.nanoseconds, e.nanoseconds) : Wt(this.seconds, e.seconds);
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds;
      }
    }, {
      key: "toString",
      value: function toString() {
        return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")";
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          seconds: this.seconds,
          nanoseconds: this.nanoseconds
        };
      }
    }, {
      key: "valueOf",
      value: function valueOf() {
        var e = this.seconds - -62135596800;
        return String(e).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0");
      }
    }], [{
      key: "now",
      value: function now() {
        return Qt.fromMillis(Date.now());
      }
    }, {
      key: "fromDate",
      value: function fromDate(e) {
        return Qt.fromMillis(e.getTime());
      }
    }, {
      key: "fromMillis",
      value: function fromMillis(e) {
        var t = Math.floor(e / 1e3),
            n = Math.floor(1e6 * (e - 1e3 * t));
        return new Qt(t, n);
      }
    }]);

    return Qt;
  }();

  var Xt =
  /*#__PURE__*/
  function () {
    function Xt(e) {
      _classCallCheck(this, Xt);

      this.timestamp = e;
    }

    _createClass(Xt, [{
      key: "compareTo",
      value: function compareTo(e) {
        return this.timestamp._compareTo(e.timestamp);
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return this.timestamp.isEqual(e.timestamp);
      }
    }, {
      key: "toMicroseconds",
      value: function toMicroseconds() {
        return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
      }
    }, {
      key: "toString",
      value: function toString() {
        return "SnapshotVersion(" + this.timestamp.toString() + ")";
      }
    }, {
      key: "toTimestamp",
      value: function toTimestamp() {
        return this.timestamp;
      }
    }], [{
      key: "fromTimestamp",
      value: function fromTimestamp(e) {
        return new Xt(e);
      }
    }, {
      key: "min",
      value: function min() {
        return new Xt(new Qt(0, 0));
      }
    }, {
      key: "max",
      value: function max() {
        return new Xt(new Qt(253402300799, 999999999));
      }
    }]);

    return Xt;
  }();

  var Yt =
  /*#__PURE__*/
  function () {
    function Yt(e, t, n) {
      _classCallCheck(this, Yt);

      void 0 === t ? t = 0 : t > e.length && Pt(), void 0 === n ? n = e.length - t : n > e.length - t && Pt(), this.segments = e, this.offset = t, this.len = n;
    }

    _createClass(Yt, [{
      key: "isEqual",
      value: function isEqual(e) {
        return 0 === Yt.comparator(this, e);
      }
    }, {
      key: "child",
      value: function child(e) {
        var t = this.segments.slice(this.offset, this.limit());
        return e instanceof Yt ? e.forEach(function (e) {
          t.push(e);
        }) : t.push(e), this.construct(t);
      }
    }, {
      key: "limit",
      value: function limit() {
        return this.offset + this.length;
      }
    }, {
      key: "popFirst",
      value: function popFirst(e) {
        return e = void 0 === e ? 1 : e, this.construct(this.segments, this.offset + e, this.length - e);
      }
    }, {
      key: "popLast",
      value: function popLast() {
        return this.construct(this.segments, this.offset, this.length - 1);
      }
    }, {
      key: "firstSegment",
      value: function firstSegment() {
        return this.segments[this.offset];
      }
    }, {
      key: "lastSegment",
      value: function lastSegment() {
        return this.get(this.length - 1);
      }
    }, {
      key: "get",
      value: function get(e) {
        return this.segments[this.offset + e];
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return 0 === this.length;
      }
    }, {
      key: "isPrefixOf",
      value: function isPrefixOf(e) {
        if (e.length < this.length) return !1;

        for (var t = 0; t < this.length; t++) {
          if (this.get(t) !== e.get(t)) return !1;
        }

        return !0;
      }
    }, {
      key: "isImmediateParentOf",
      value: function isImmediateParentOf(e) {
        if (this.length + 1 !== e.length) return !1;

        for (var t = 0; t < this.length; t++) {
          if (this.get(t) !== e.get(t)) return !1;
        }

        return !0;
      }
    }, {
      key: "forEach",
      value: function forEach(e) {
        for (var t = this.offset, n = this.limit(); t < n; t++) {
          e(this.segments[t]);
        }
      }
    }, {
      key: "toArray",
      value: function toArray() {
        return this.segments.slice(this.offset, this.limit());
      }
    }, {
      key: "length",
      get: function get() {
        return this.len;
      }
    }], [{
      key: "comparator",
      value: function comparator(e, t) {
        var n = Math.min(e.length, t.length);

        for (var _r21 = 0; _r21 < n; _r21++) {
          var _n20 = e.get(_r21),
              _i28 = t.get(_r21);

          if (_n20 < _i28) return -1;
          if (_n20 > _i28) return 1;
        }

        return e.length < t.length ? -1 : e.length > t.length ? 1 : 0;
      }
    }]);

    return Yt;
  }();

  var Jt =
  /*#__PURE__*/
  function (_Yt) {
    _inherits(Jt, _Yt);

    function Jt() {
      _classCallCheck(this, Jt);

      return _possibleConstructorReturn(this, _getPrototypeOf(Jt).apply(this, arguments));
    }

    _createClass(Jt, [{
      key: "construct",
      value: function construct(e, t, n) {
        return new Jt(e, t, n);
      }
    }, {
      key: "canonicalString",
      value: function canonicalString() {
        return this.toArray().join("/");
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.canonicalString();
      }
    }, {
      key: "toUriEncodedString",
      value: function toUriEncodedString() {
        return this.toArray().map(encodeURIComponent).join("/");
      }
    }], [{
      key: "fromString",
      value: function fromString() {
        var e = [];

        for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) {
          n[r] = arguments[r];
        }

        for (var _i29 = 0, _n21 = n; _i29 < _n21.length; _i29++) {
          var _i30 = _n21[_i29];
          if (_i30.indexOf("//") >= 0) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid segment (".concat(_i30, "). Paths must not contain // in them."));
          e.push.apply(e, _toConsumableArray(_i30.split("/").filter(function (e) {
            return e.length > 0;
          })));
        }

        return new Jt(e);
      }
    }, {
      key: "emptyPath",
      value: function emptyPath() {
        return new Jt([]);
      }
    }]);

    return Jt;
  }(Yt);

  var Zt = /^[_a-zA-Z][_a-zA-Z0-9]*$/;

  var en =
  /*#__PURE__*/
  function (_Yt2) {
    _inherits(en, _Yt2);

    function en() {
      _classCallCheck(this, en);

      return _possibleConstructorReturn(this, _getPrototypeOf(en).apply(this, arguments));
    }

    _createClass(en, [{
      key: "construct",
      value: function construct(e, t, n) {
        return new en(e, t, n);
      }
    }, {
      key: "canonicalString",
      value: function canonicalString() {
        return this.toArray().map(function (e) {
          return e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`"), en.isValidIdentifier(e) || (e = "`" + e + "`"), e;
        }).join(".");
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.canonicalString();
      }
    }, {
      key: "isKeyField",
      value: function isKeyField() {
        return 1 === this.length && "__name__" === this.get(0);
      }
    }], [{
      key: "isValidIdentifier",
      value: function isValidIdentifier(e) {
        return Zt.test(e);
      }
    }, {
      key: "keyField",
      value: function keyField() {
        return new en(["__name__"]);
      }
    }, {
      key: "fromServerFormat",
      value: function fromServerFormat(e) {
        var t = [];
        var n = "",
            r = 0;

        var i = function i() {
          if (0 === n.length) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid field path (".concat(e, "). Paths must not be empty, begin with '.', end with '.', or contain '..'"));
          t.push(n), n = "";
        };

        var s = !1;

        for (; r < e.length;) {
          var _t14 = e[r];

          if ("\\" === _t14) {
            if (r + 1 === e.length) throw new Lt(Ot.INVALID_ARGUMENT, "Path has trailing escape character: " + e);
            var _t15 = e[r + 1];
            if ("\\" !== _t15 && "." !== _t15 && "`" !== _t15) throw new Lt(Ot.INVALID_ARGUMENT, "Path has invalid escape sequence: " + e);
            n += _t15, r += 2;
          } else "`" === _t14 ? (s = !s, r++) : "." !== _t14 || s ? (n += _t14, r++) : (i(), r++);
        }

        if (i(), s) throw new Lt(Ot.INVALID_ARGUMENT, "Unterminated ` in path: " + e);
        return new en(t);
      }
    }, {
      key: "emptyPath",
      value: function emptyPath() {
        return new en([]);
      }
    }]);

    return en;
  }(Yt);

  var tn =
  /*#__PURE__*/
  function () {
    function tn(e) {
      _classCallCheck(this, tn);

      this.path = e;
    }

    _createClass(tn, [{
      key: "hasCollectionId",
      value: function hasCollectionId(e) {
        return this.path.length >= 2 && this.path.get(this.path.length - 2) === e;
      }
    }, {
      key: "getCollectionGroup",
      value: function getCollectionGroup() {
        return this.path.get(this.path.length - 2);
      }
    }, {
      key: "getCollectionPath",
      value: function getCollectionPath() {
        return this.path.popLast();
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return null !== e && 0 === Jt.comparator(this.path, e.path);
      }
    }, {
      key: "toString",
      value: function toString() {
        return this.path.toString();
      }
    }, {
      key: "collectionGroup",
      get: function get() {
        return this.path.popLast().lastSegment();
      }
    }], [{
      key: "fromPath",
      value: function fromPath(e) {
        return new tn(Jt.fromString(e));
      }
    }, {
      key: "fromName",
      value: function fromName(e) {
        return new tn(Jt.fromString(e).popFirst(5));
      }
    }, {
      key: "empty",
      value: function empty() {
        return new tn(Jt.emptyPath());
      }
    }, {
      key: "comparator",
      value: function comparator(e, t) {
        return Jt.comparator(e.path, t.path);
      }
    }, {
      key: "isDocumentKey",
      value: function isDocumentKey(e) {
        return e.length % 2 == 0;
      }
    }, {
      key: "fromSegments",
      value: function fromSegments(e) {
        return new tn(new Jt(e.slice()));
      }
    }]);

    return tn;
  }();

  var nn = function nn(e, t, n, r) {
    _classCallCheck(this, nn);

    this.indexId = e, this.collectionGroup = t, this.fields = n, this.indexState = r;
  };

  nn.UNKNOWN_ID = -1;

  function rn(e, t) {
    var n = e.toTimestamp().seconds,
        r = e.toTimestamp().nanoseconds + 1,
        i = Xt.fromTimestamp(1e9 === r ? new Qt(n + 1, 0) : new Qt(n, r));
    return new on(i, tn.empty(), t);
  }

  function sn(e) {
    return new on(e.readTime, e.key, -1);
  }

  var on =
  /*#__PURE__*/
  function () {
    function on(e, t, n) {
      _classCallCheck(this, on);

      this.readTime = e, this.documentKey = t, this.largestBatchId = n;
    }

    _createClass(on, null, [{
      key: "min",
      value: function min() {
        return new on(Xt.min(), tn.empty(), -1);
      }
    }, {
      key: "max",
      value: function max() {
        return new on(Xt.max(), tn.empty(), -1);
      }
    }]);

    return on;
  }();

  function an(e, t) {
    var n = e.readTime.compareTo(t.readTime);
    return 0 !== n ? n : (n = tn.comparator(e.documentKey, t.documentKey), 0 !== n ? n : Wt(e.largestBatchId, t.largestBatchId));
  }

  var ln = "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";

  var un =
  /*#__PURE__*/
  function () {
    function un() {
      _classCallCheck(this, un);

      this.onCommittedListeners = [];
    }

    _createClass(un, [{
      key: "addOnCommittedListener",
      value: function addOnCommittedListener(e) {
        this.onCommittedListeners.push(e);
      }
    }, {
      key: "raiseOnCommittedEvent",
      value: function raiseOnCommittedEvent() {
        this.onCommittedListeners.forEach(function (e) {
          return e();
        });
      }
    }]);

    return un;
  }();

  function cn(e) {
    return regeneratorRuntime.async(function cn$(_context12) {
      while (1) {
        switch (_context12.prev = _context12.next) {
          case 0:
            if (!(e.code !== Ot.FAILED_PRECONDITION || e.message !== ln)) {
              _context12.next = 2;
              break;
            }

            throw e;

          case 2:
            Ct("LocalStore", "Unexpectedly lost primary lease");

          case 3:
          case "end":
            return _context12.stop();
        }
      }
    });
  }

  var hn =
  /*#__PURE__*/
  function () {
    function hn(e) {
      var _this19 = this;

      _classCallCheck(this, hn);

      this.nextCallback = null, this.catchCallback = null, this.result = void 0, this.error = void 0, this.isDone = !1, this.callbackAttached = !1, e(function (e) {
        _this19.isDone = !0, _this19.result = e, _this19.nextCallback && _this19.nextCallback(e);
      }, function (e) {
        _this19.isDone = !0, _this19.error = e, _this19.catchCallback && _this19.catchCallback(e);
      });
    }

    _createClass(hn, [{
      key: "catch",
      value: function _catch(e) {
        return this.next(void 0, e);
      }
    }, {
      key: "next",
      value: function next(e, t) {
        var _this20 = this;

        return this.callbackAttached && Pt(), this.callbackAttached = !0, this.isDone ? this.error ? this.wrapFailure(t, this.error) : this.wrapSuccess(e, this.result) : new hn(function (n, r) {
          _this20.nextCallback = function (t) {
            _this20.wrapSuccess(e, t).next(n, r);
          }, _this20.catchCallback = function (e) {
            _this20.wrapFailure(t, e).next(n, r);
          };
        });
      }
    }, {
      key: "toPromise",
      value: function toPromise() {
        var _this21 = this;

        return new Promise(function (e, t) {
          _this21.next(e, t);
        });
      }
    }, {
      key: "wrapUserFunction",
      value: function wrapUserFunction(e) {
        try {
          var t = e();
          return t instanceof hn ? t : hn.resolve(t);
        } catch (e) {
          return hn.reject(e);
        }
      }
    }, {
      key: "wrapSuccess",
      value: function wrapSuccess(e, t) {
        return e ? this.wrapUserFunction(function () {
          return e(t);
        }) : hn.resolve(t);
      }
    }, {
      key: "wrapFailure",
      value: function wrapFailure(e, t) {
        return e ? this.wrapUserFunction(function () {
          return e(t);
        }) : hn.reject(t);
      }
    }], [{
      key: "resolve",
      value: function resolve(e) {
        return new hn(function (t, n) {
          t(e);
        });
      }
    }, {
      key: "reject",
      value: function reject(e) {
        return new hn(function (t, n) {
          n(e);
        });
      }
    }, {
      key: "waitFor",
      value: function waitFor(e) {
        return new hn(function (t, n) {
          var r = 0,
              i = 0,
              s = !1;
          e.forEach(function (e) {
            ++r, e.next(function () {
              ++i, s && i === r && t();
            }, function (e) {
              return n(e);
            });
          }), s = !0, i === r && t();
        });
      }
    }, {
      key: "or",
      value: function or(e) {
        var t = hn.resolve(!1);
        var _iteratorNormalCompletion13 = true;
        var _didIteratorError13 = false;
        var _iteratorError13 = undefined;

        try {
          var _loop3 = function _loop3() {
            var n = _step13.value;
            t = t.next(function (e) {
              return e ? hn.resolve(e) : n();
            });
          };

          for (var _iterator13 = e[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {
            _loop3();
          }
        } catch (err) {
          _didIteratorError13 = true;
          _iteratorError13 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion13 && _iterator13["return"] != null) {
              _iterator13["return"]();
            }
          } finally {
            if (_didIteratorError13) {
              throw _iteratorError13;
            }
          }
        }

        return t;
      }
    }, {
      key: "forEach",
      value: function forEach(e, t) {
        var _this22 = this;

        var n = [];
        return e.forEach(function (e, r) {
          n.push(t.call(_this22, e, r));
        }), this.waitFor(n);
      }
    }, {
      key: "mapArray",
      value: function mapArray(e, t) {
        return new hn(function (n, r) {
          var i = e.length,
              s = new Array(i);
          var o = 0;

          var _loop4 = function _loop4(_a5) {
            var l = _a5;
            t(e[l]).next(function (e) {
              s[l] = e, ++o, o === i && n(s);
            }, function (e) {
              return r(e);
            });
          };

          for (var _a5 = 0; _a5 < i; _a5++) {
            _loop4(_a5);
          }
        });
      }
    }, {
      key: "doWhile",
      value: function doWhile(e, t) {
        return new hn(function (n, r) {
          var i = function i() {
            !0 === e() ? t().next(function () {
              i();
            }, r) : n();
          };

          i();
        });
      }
    }]);

    return hn;
  }();

  function dn(e) {
    var t = e.match(/Android ([\d.]+)/i),
        n = t ? t[1].split(".").slice(0, 2).join(".") : "-1";
    return Number(n);
  }

  function fn(e) {
    return "IndexedDbTransactionError" === e.name;
  }

  var pn =
  /*#__PURE__*/
  function () {
    function pn(e, t) {
      var _this23 = this;

      _classCallCheck(this, pn);

      this.previousValue = e, t && (t.sequenceNumberHandler = function (e) {
        return _this23.ie(e);
      }, this.se = function (e) {
        return t.writeSequenceNumber(e);
      });
    }

    _createClass(pn, [{
      key: "ie",
      value: function ie(e) {
        return this.previousValue = Math.max(e, this.previousValue), this.previousValue;
      }
    }, {
      key: "next",
      value: function next() {
        var e = ++this.previousValue;
        return this.se && this.se(e), e;
      }
    }]);

    return pn;
  }();

  function gn(e) {
    return null == e;
  }

  function mn(e) {
    return 0 === e && 1 / e == -1 / 0;
  }

  function vn(e) {
    return "number" == typeof e && Number.isInteger(e) && !mn(e) && e <= Number.MAX_SAFE_INTEGER && e >= Number.MIN_SAFE_INTEGER;
  }

  pn.oe = -1;

  var yn = ["mutationQueues", "mutations", "documentMutations", "remoteDocuments", "targets", "owner", "targetGlobal", "targetDocuments", "clientMetadata", "remoteDocumentGlobal", "collectionParents", "bundles", "namedQueries"],
      wn = ["mutationQueues", "mutations", "documentMutations", "remoteDocumentsV14", "targets", "owner", "targetGlobal", "targetDocuments", "clientMetadata", "remoteDocumentGlobal", "collectionParents", "bundles", "namedQueries", "documentOverlays"],
      bn = wn,
      _n = [].concat(bn, ["indexConfiguration", "indexState", "indexEntries"]);

  function En(e) {
    var t = 0;

    for (var n in e) {
      Object.prototype.hasOwnProperty.call(e, n) && t++;
    }

    return t;
  }

  function Sn(e, t) {
    for (var n in e) {
      Object.prototype.hasOwnProperty.call(e, n) && t(n, e[n]);
    }
  }

  function kn(e) {
    for (var t in e) {
      if (Object.prototype.hasOwnProperty.call(e, t)) return !1;
    }

    return !0;
  }

  var Tn =
  /*#__PURE__*/
  function () {
    function Tn(e, t) {
      _classCallCheck(this, Tn);

      this.comparator = e, this.root = t || Cn.EMPTY;
    }

    _createClass(Tn, [{
      key: "insert",
      value: function insert(e, t) {
        return new Tn(this.comparator, this.root.insert(e, t, this.comparator).copy(null, null, Cn.BLACK, null, null));
      }
    }, {
      key: "remove",
      value: function remove(e) {
        return new Tn(this.comparator, this.root.remove(e, this.comparator).copy(null, null, Cn.BLACK, null, null));
      }
    }, {
      key: "get",
      value: function get(e) {
        var t = this.root;

        for (; !t.isEmpty();) {
          var n = this.comparator(e, t.key);
          if (0 === n) return t.value;
          n < 0 ? t = t.left : n > 0 && (t = t.right);
        }

        return null;
      }
    }, {
      key: "indexOf",
      value: function indexOf(e) {
        var t = 0,
            n = this.root;

        for (; !n.isEmpty();) {
          var _r22 = this.comparator(e, n.key);

          if (0 === _r22) return t + n.left.size;
          _r22 < 0 ? n = n.left : (t += n.left.size + 1, n = n.right);
        }

        return -1;
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return this.root.isEmpty();
      }
    }, {
      key: "minKey",
      value: function minKey() {
        return this.root.minKey();
      }
    }, {
      key: "maxKey",
      value: function maxKey() {
        return this.root.maxKey();
      }
    }, {
      key: "inorderTraversal",
      value: function inorderTraversal(e) {
        return this.root.inorderTraversal(e);
      }
    }, {
      key: "forEach",
      value: function forEach(e) {
        this.inorderTraversal(function (t, n) {
          return e(t, n), !1;
        });
      }
    }, {
      key: "toString",
      value: function toString() {
        var e = [];
        return this.inorderTraversal(function (t, n) {
          return e.push("".concat(t, ":").concat(n)), !1;
        }), "{".concat(e.join(", "), "}");
      }
    }, {
      key: "reverseTraversal",
      value: function reverseTraversal(e) {
        return this.root.reverseTraversal(e);
      }
    }, {
      key: "getIterator",
      value: function getIterator() {
        return new In(this.root, null, this.comparator, !1);
      }
    }, {
      key: "getIteratorFrom",
      value: function getIteratorFrom(e) {
        return new In(this.root, e, this.comparator, !1);
      }
    }, {
      key: "getReverseIterator",
      value: function getReverseIterator() {
        return new In(this.root, null, this.comparator, !0);
      }
    }, {
      key: "getReverseIteratorFrom",
      value: function getReverseIteratorFrom(e) {
        return new In(this.root, e, this.comparator, !0);
      }
    }, {
      key: "size",
      get: function get() {
        return this.root.size;
      }
    }]);

    return Tn;
  }();

  var In =
  /*#__PURE__*/
  function () {
    function In(e, t, n, r) {
      _classCallCheck(this, In);

      this.isReverse = r, this.nodeStack = [];
      var i = 1;

      for (; !e.isEmpty();) {
        if (i = t ? n(e.key, t) : 1, t && r && (i *= -1), i < 0) e = this.isReverse ? e.left : e.right;else {
          if (0 === i) {
            this.nodeStack.push(e);
            break;
          }

          this.nodeStack.push(e), e = this.isReverse ? e.right : e.left;
        }
      }
    }

    _createClass(In, [{
      key: "getNext",
      value: function getNext() {
        var e = this.nodeStack.pop();
        var t = {
          key: e.key,
          value: e.value
        };
        if (this.isReverse) for (e = e.left; !e.isEmpty();) {
          this.nodeStack.push(e), e = e.right;
        } else for (e = e.right; !e.isEmpty();) {
          this.nodeStack.push(e), e = e.left;
        }
        return t;
      }
    }, {
      key: "hasNext",
      value: function hasNext() {
        return this.nodeStack.length > 0;
      }
    }, {
      key: "peek",
      value: function peek() {
        if (0 === this.nodeStack.length) return null;
        var e = this.nodeStack[this.nodeStack.length - 1];
        return {
          key: e.key,
          value: e.value
        };
      }
    }]);

    return In;
  }();

  var Cn =
  /*#__PURE__*/
  function () {
    function Cn(e, t, n, r, i) {
      _classCallCheck(this, Cn);

      this.key = e, this.value = t, this.color = null != n ? n : Cn.RED, this.left = null != r ? r : Cn.EMPTY, this.right = null != i ? i : Cn.EMPTY, this.size = this.left.size + 1 + this.right.size;
    }

    _createClass(Cn, [{
      key: "copy",
      value: function copy(e, t, n, r, i) {
        return new Cn(null != e ? e : this.key, null != t ? t : this.value, null != n ? n : this.color, null != r ? r : this.left, null != i ? i : this.right);
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return !1;
      }
    }, {
      key: "inorderTraversal",
      value: function inorderTraversal(e) {
        return this.left.inorderTraversal(e) || e(this.key, this.value) || this.right.inorderTraversal(e);
      }
    }, {
      key: "reverseTraversal",
      value: function reverseTraversal(e) {
        return this.right.reverseTraversal(e) || e(this.key, this.value) || this.left.reverseTraversal(e);
      }
    }, {
      key: "min",
      value: function min() {
        return this.left.isEmpty() ? this : this.left.min();
      }
    }, {
      key: "minKey",
      value: function minKey() {
        return this.min().key;
      }
    }, {
      key: "maxKey",
      value: function maxKey() {
        return this.right.isEmpty() ? this.key : this.right.maxKey();
      }
    }, {
      key: "insert",
      value: function insert(e, t, n) {
        var r = this;
        var i = n(e, r.key);
        return r = i < 0 ? r.copy(null, null, null, r.left.insert(e, t, n), null) : 0 === i ? r.copy(null, t, null, null, null) : r.copy(null, null, null, null, r.right.insert(e, t, n)), r.fixUp();
      }
    }, {
      key: "removeMin",
      value: function removeMin() {
        if (this.left.isEmpty()) return Cn.EMPTY;
        var e = this;
        return e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()), e = e.copy(null, null, null, e.left.removeMin(), null), e.fixUp();
      }
    }, {
      key: "remove",
      value: function remove(e, t) {
        var n,
            r = this;
        if (t(e, r.key) < 0) r.left.isEmpty() || r.left.isRed() || r.left.left.isRed() || (r = r.moveRedLeft()), r = r.copy(null, null, null, r.left.remove(e, t), null);else {
          if (r.left.isRed() && (r = r.rotateRight()), r.right.isEmpty() || r.right.isRed() || r.right.left.isRed() || (r = r.moveRedRight()), 0 === t(e, r.key)) {
            if (r.right.isEmpty()) return Cn.EMPTY;
            n = r.right.min(), r = r.copy(n.key, n.value, null, null, r.right.removeMin());
          }

          r = r.copy(null, null, null, null, r.right.remove(e, t));
        }
        return r.fixUp();
      }
    }, {
      key: "isRed",
      value: function isRed() {
        return this.color;
      }
    }, {
      key: "fixUp",
      value: function fixUp() {
        var e = this;
        return e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()), e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()), e.left.isRed() && e.right.isRed() && (e = e.colorFlip()), e;
      }
    }, {
      key: "moveRedLeft",
      value: function moveRedLeft() {
        var e = this.colorFlip();
        return e.right.left.isRed() && (e = e.copy(null, null, null, null, e.right.rotateRight()), e = e.rotateLeft(), e = e.colorFlip()), e;
      }
    }, {
      key: "moveRedRight",
      value: function moveRedRight() {
        var e = this.colorFlip();
        return e.left.left.isRed() && (e = e.rotateRight(), e = e.colorFlip()), e;
      }
    }, {
      key: "rotateLeft",
      value: function rotateLeft() {
        var e = this.copy(null, null, Cn.RED, null, this.right.left);
        return this.right.copy(null, null, this.color, e, null);
      }
    }, {
      key: "rotateRight",
      value: function rotateRight() {
        var e = this.copy(null, null, Cn.RED, this.left.right, null);
        return this.left.copy(null, null, this.color, null, e);
      }
    }, {
      key: "colorFlip",
      value: function colorFlip() {
        var e = this.left.copy(null, null, !this.left.color, null, null),
            t = this.right.copy(null, null, !this.right.color, null, null);
        return this.copy(null, null, !this.color, e, t);
      }
    }, {
      key: "checkMaxDepth",
      value: function checkMaxDepth() {
        var e = this.check();
        return Math.pow(2, e) <= this.size + 1;
      }
    }, {
      key: "check",
      value: function check() {
        if (this.isRed() && this.left.isRed()) throw Pt();
        if (this.right.isRed()) throw Pt();
        var e = this.left.check();
        if (e !== this.right.check()) throw Pt();
        return e + (this.isRed() ? 0 : 1);
      }
    }]);

    return Cn;
  }();

  Cn.EMPTY = null, Cn.RED = !0, Cn.BLACK = !1, Cn.EMPTY = new (
  /*#__PURE__*/
  function () {
    function _class3() {
      _classCallCheck(this, _class3);

      this.size = 0;
    }

    _createClass(_class3, [{
      key: "copy",
      value: function copy(e, t, n, r, i) {
        return this;
      }
    }, {
      key: "insert",
      value: function insert(e, t, n) {
        return new Cn(e, t);
      }
    }, {
      key: "remove",
      value: function remove(e, t) {
        return this;
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return !0;
      }
    }, {
      key: "inorderTraversal",
      value: function inorderTraversal(e) {
        return !1;
      }
    }, {
      key: "reverseTraversal",
      value: function reverseTraversal(e) {
        return !1;
      }
    }, {
      key: "minKey",
      value: function minKey() {
        return null;
      }
    }, {
      key: "maxKey",
      value: function maxKey() {
        return null;
      }
    }, {
      key: "isRed",
      value: function isRed() {
        return !1;
      }
    }, {
      key: "checkMaxDepth",
      value: function checkMaxDepth() {
        return !0;
      }
    }, {
      key: "check",
      value: function check() {
        return 0;
      }
    }, {
      key: "key",
      get: function get() {
        throw Pt();
      }
    }, {
      key: "value",
      get: function get() {
        throw Pt();
      }
    }, {
      key: "color",
      get: function get() {
        throw Pt();
      }
    }, {
      key: "left",
      get: function get() {
        throw Pt();
      }
    }, {
      key: "right",
      get: function get() {
        throw Pt();
      }
    }]);

    return _class3;
  }())();

  var Nn =
  /*#__PURE__*/
  function () {
    function Nn(e) {
      _classCallCheck(this, Nn);

      this.comparator = e, this.data = new Tn(this.comparator);
    }

    _createClass(Nn, [{
      key: "has",
      value: function has(e) {
        return null !== this.data.get(e);
      }
    }, {
      key: "first",
      value: function first() {
        return this.data.minKey();
      }
    }, {
      key: "last",
      value: function last() {
        return this.data.maxKey();
      }
    }, {
      key: "indexOf",
      value: function indexOf(e) {
        return this.data.indexOf(e);
      }
    }, {
      key: "forEach",
      value: function forEach(e) {
        this.data.inorderTraversal(function (t, n) {
          return e(t), !1;
        });
      }
    }, {
      key: "forEachInRange",
      value: function forEachInRange(e, t) {
        var n = this.data.getIteratorFrom(e[0]);

        for (; n.hasNext();) {
          var _r23 = n.getNext();

          if (this.comparator(_r23.key, e[1]) >= 0) return;
          t(_r23.key);
        }
      }
    }, {
      key: "forEachWhile",
      value: function forEachWhile(e, t) {
        var n;

        for (n = void 0 !== t ? this.data.getIteratorFrom(t) : this.data.getIterator(); n.hasNext();) {
          if (!e(n.getNext().key)) return;
        }
      }
    }, {
      key: "firstAfterOrEqual",
      value: function firstAfterOrEqual(e) {
        var t = this.data.getIteratorFrom(e);
        return t.hasNext() ? t.getNext().key : null;
      }
    }, {
      key: "getIterator",
      value: function getIterator() {
        return new An(this.data.getIterator());
      }
    }, {
      key: "getIteratorFrom",
      value: function getIteratorFrom(e) {
        return new An(this.data.getIteratorFrom(e));
      }
    }, {
      key: "add",
      value: function add(e) {
        return this.copy(this.data.remove(e).insert(e, !0));
      }
    }, {
      key: "delete",
      value: function _delete(e) {
        return this.has(e) ? this.copy(this.data.remove(e)) : this;
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return this.data.isEmpty();
      }
    }, {
      key: "unionWith",
      value: function unionWith(e) {
        var t = this;
        return t.size < e.size && (t = e, e = this), e.forEach(function (e) {
          t = t.add(e);
        }), t;
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        if (!(e instanceof Nn)) return !1;
        if (this.size !== e.size) return !1;
        var t = this.data.getIterator(),
            n = e.data.getIterator();

        for (; t.hasNext();) {
          var _e21 = t.getNext().key,
              _r24 = n.getNext().key;
          if (0 !== this.comparator(_e21, _r24)) return !1;
        }

        return !0;
      }
    }, {
      key: "toArray",
      value: function toArray() {
        var e = [];
        return this.forEach(function (t) {
          e.push(t);
        }), e;
      }
    }, {
      key: "toString",
      value: function toString() {
        var e = [];
        return this.forEach(function (t) {
          return e.push(t);
        }), "SortedSet(" + e.toString() + ")";
      }
    }, {
      key: "copy",
      value: function copy(e) {
        var t = new Nn(this.comparator);
        return t.data = e, t;
      }
    }, {
      key: "size",
      get: function get() {
        return this.data.size;
      }
    }]);

    return Nn;
  }();

  var An =
  /*#__PURE__*/
  function () {
    function An(e) {
      _classCallCheck(this, An);

      this.iter = e;
    }

    _createClass(An, [{
      key: "getNext",
      value: function getNext() {
        return this.iter.getNext().key;
      }
    }, {
      key: "hasNext",
      value: function hasNext() {
        return this.iter.hasNext();
      }
    }]);

    return An;
  }();

  var Rn =
  /*#__PURE__*/
  function () {
    function Rn(e) {
      _classCallCheck(this, Rn);

      this.fields = e, e.sort(en.comparator);
    }

    _createClass(Rn, [{
      key: "unionWith",
      value: function unionWith(e) {
        var t = new Nn(en.comparator);
        var _iteratorNormalCompletion14 = true;
        var _didIteratorError14 = false;
        var _iteratorError14 = undefined;

        try {
          for (var _iterator14 = this.fields[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {
            var n = _step14.value;
            t = t.add(n);
          }
        } catch (err) {
          _didIteratorError14 = true;
          _iteratorError14 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion14 && _iterator14["return"] != null) {
              _iterator14["return"]();
            }
          } finally {
            if (_didIteratorError14) {
              throw _iteratorError14;
            }
          }
        }

        var _iteratorNormalCompletion15 = true;
        var _didIteratorError15 = false;
        var _iteratorError15 = undefined;

        try {
          for (var _iterator15 = e[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {
            var _n22 = _step15.value;
            t = t.add(_n22);
          }
        } catch (err) {
          _didIteratorError15 = true;
          _iteratorError15 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion15 && _iterator15["return"] != null) {
              _iterator15["return"]();
            }
          } finally {
            if (_didIteratorError15) {
              throw _iteratorError15;
            }
          }
        }

        return new Rn(t.toArray());
      }
    }, {
      key: "covers",
      value: function covers(e) {
        var _iteratorNormalCompletion16 = true;
        var _didIteratorError16 = false;
        var _iteratorError16 = undefined;

        try {
          for (var _iterator16 = this.fields[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {
            var t = _step16.value;
            if (t.isPrefixOf(e)) return !0;
          }
        } catch (err) {
          _didIteratorError16 = true;
          _iteratorError16 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion16 && _iterator16["return"] != null) {
              _iterator16["return"]();
            }
          } finally {
            if (_didIteratorError16) {
              throw _iteratorError16;
            }
          }
        }

        return !1;
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return Gt(this.fields, e.fields, function (e, t) {
          return e.isEqual(t);
        });
      }
    }], [{
      key: "empty",
      value: function empty() {
        return new Rn([]);
      }
    }]);

    return Rn;
  }();

  var Pn =
  /*#__PURE__*/
  function (_Error3) {
    _inherits(Pn, _Error3);

    function Pn() {
      var _this24;

      _classCallCheck(this, Pn);

      _this24 = _possibleConstructorReturn(this, _getPrototypeOf(Pn).apply(this, arguments)), _this24.name = "Base64DecodeError";
      return _this24;
    }

    return Pn;
  }(_wrapNativeSuper(Error));

  var xn =
  /*#__PURE__*/
  function () {
    function xn(e) {
      _classCallCheck(this, xn);

      this.binaryString = e;
    }

    _createClass(xn, [{
      key: Symbol.iterator,
      value: function value() {
        var _this25 = this;

        var e = 0;
        return {
          next: function next() {
            return e < _this25.binaryString.length ? {
              value: _this25.binaryString.charCodeAt(e++),
              done: !1
            } : {
              value: void 0,
              done: !0
            };
          }
        };
      }
    }, {
      key: "toBase64",
      value: function toBase64() {
        return e = this.binaryString, btoa(e);
        var e;
      }
    }, {
      key: "toUint8Array",
      value: function toUint8Array() {
        return function (e) {
          var t = new Uint8Array(e.length);

          for (var n = 0; n < e.length; n++) {
            t[n] = e.charCodeAt(n);
          }

          return t;
        }(this.binaryString);
      }
    }, {
      key: "approximateByteSize",
      value: function approximateByteSize() {
        return 2 * this.binaryString.length;
      }
    }, {
      key: "compareTo",
      value: function compareTo(e) {
        return Wt(this.binaryString, e.binaryString);
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return this.binaryString === e.binaryString;
      }
    }], [{
      key: "fromBase64String",
      value: function fromBase64String(e) {
        var t = function (e) {
          try {
            return atob(e);
          } catch (e) {
            throw "undefined" != typeof DOMException && e instanceof DOMException ? new Pn("Invalid base64 string: " + e) : e;
          }
        }(e);

        return new xn(t);
      }
    }, {
      key: "fromUint8Array",
      value: function fromUint8Array(e) {
        var t = function (e) {
          var t = "";

          for (var n = 0; n < e.length; ++n) {
            t += String.fromCharCode(e[n]);
          }

          return t;
        }(e);

        return new xn(t);
      }
    }]);

    return xn;
  }();

  xn.EMPTY_BYTE_STRING = new xn("");
  var Dn = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);

  function On(e) {
    if (xt(!!e), "string" == typeof e) {
      var t = 0;
      var n = Dn.exec(e);

      if (xt(!!n), n[1]) {
        var _e22 = n[1];
        _e22 = (_e22 + "000000000").substr(0, 9), t = Number(_e22);
      }

      var _r25 = new Date(e);

      return {
        seconds: Math.floor(_r25.getTime() / 1e3),
        nanos: t
      };
    }

    return {
      seconds: Ln(e.seconds),
      nanos: Ln(e.nanos)
    };
  }

  function Ln(e) {
    return "number" == typeof e ? e : "string" == typeof e ? Number(e) : 0;
  }

  function Mn(e) {
    return "string" == typeof e ? xn.fromBase64String(e) : xn.fromUint8Array(e);
  }

  function Fn(e) {
    var t, n;
    return "server_timestamp" === (null === (n = ((null === (t = null == e ? void 0 : e.mapValue) || void 0 === t ? void 0 : t.fields) || {}).__type__) || void 0 === n ? void 0 : n.stringValue);
  }

  function Un(e) {
    var t = e.mapValue.fields.__previous_value__;
    return Fn(t) ? Un(t) : t;
  }

  function Vn(e) {
    var t = On(e.mapValue.fields.__local_write_time__.timestampValue);
    return new Qt(t.seconds, t.nanos);
  }

  var zn = function zn(e, t, n, r, i, s, o, a, l) {
    _classCallCheck(this, zn);

    this.databaseId = e, this.appId = t, this.persistenceKey = n, this.host = r, this.ssl = i, this.forceLongPolling = s, this.autoDetectLongPolling = o, this.longPollingOptions = a, this.useFetchStreams = l;
  };

  var jn =
  /*#__PURE__*/
  function () {
    function jn(e, t) {
      _classCallCheck(this, jn);

      this.projectId = e, this.database = t || "(default)";
    }

    _createClass(jn, [{
      key: "isEqual",
      value: function isEqual(e) {
        return e instanceof jn && e.projectId === this.projectId && e.database === this.database;
      }
    }, {
      key: "isDefaultDatabase",
      get: function get() {
        return "(default)" === this.database;
      }
    }], [{
      key: "empty",
      value: function empty() {
        return new jn("", "");
      }
    }]);

    return jn;
  }();

  var Bn = {
    mapValue: {
      fields: {
        __type__: {
          stringValue: "__max__"
        }
      }
    }
  };

  function $n(e) {
    return "nullValue" in e ? 0 : "booleanValue" in e ? 1 : "integerValue" in e || "doubleValue" in e ? 2 : "timestampValue" in e ? 3 : "stringValue" in e ? 5 : "bytesValue" in e ? 6 : "referenceValue" in e ? 7 : "geoPointValue" in e ? 8 : "arrayValue" in e ? 9 : "mapValue" in e ? Fn(e) ? 4 : sr(e) ? 9007199254740991 : rr(e) ? 10 : 11 : Pt();
  }

  function qn(e, t) {
    if (e === t) return !0;
    var n = $n(e);
    if (n !== $n(t)) return !1;

    switch (n) {
      case 0:
      case 9007199254740991:
        return !0;

      case 1:
        return e.booleanValue === t.booleanValue;

      case 4:
        return Vn(e).isEqual(Vn(t));

      case 3:
        return function (e, t) {
          if ("string" == typeof e.timestampValue && "string" == typeof t.timestampValue && e.timestampValue.length === t.timestampValue.length) return e.timestampValue === t.timestampValue;
          var n = On(e.timestampValue),
              r = On(t.timestampValue);
          return n.seconds === r.seconds && n.nanos === r.nanos;
        }(e, t);

      case 5:
        return e.stringValue === t.stringValue;

      case 6:
        return function (e, t) {
          return Mn(e.bytesValue).isEqual(Mn(t.bytesValue));
        }(e, t);

      case 7:
        return e.referenceValue === t.referenceValue;

      case 8:
        return function (e, t) {
          return Ln(e.geoPointValue.latitude) === Ln(t.geoPointValue.latitude) && Ln(e.geoPointValue.longitude) === Ln(t.geoPointValue.longitude);
        }(e, t);

      case 2:
        return function (e, t) {
          if ("integerValue" in e && "integerValue" in t) return Ln(e.integerValue) === Ln(t.integerValue);

          if ("doubleValue" in e && "doubleValue" in t) {
            var _n23 = Ln(e.doubleValue),
                _r26 = Ln(t.doubleValue);

            return _n23 === _r26 ? mn(_n23) === mn(_r26) : isNaN(_n23) && isNaN(_r26);
          }

          return !1;
        }(e, t);

      case 9:
        return Gt(e.arrayValue.values || [], t.arrayValue.values || [], qn);

      case 10:
      case 11:
        return function (e, t) {
          var n = e.mapValue.fields || {},
              r = t.mapValue.fields || {};
          if (En(n) !== En(r)) return !1;

          for (var _i31 in n) {
            if (n.hasOwnProperty(_i31) && (void 0 === r[_i31] || !qn(n[_i31], r[_i31]))) return !1;
          }

          return !0;
        }(e, t);

      default:
        return Pt();
    }
  }

  function Hn(e, t) {
    return void 0 !== (e.values || []).find(function (e) {
      return qn(e, t);
    });
  }

  function Kn(e, t) {
    if (e === t) return 0;
    var n = $n(e),
        r = $n(t);
    if (n !== r) return Wt(n, r);

    switch (n) {
      case 0:
      case 9007199254740991:
        return 0;

      case 1:
        return Wt(e.booleanValue, t.booleanValue);

      case 2:
        return function (e, t) {
          var n = Ln(e.integerValue || e.doubleValue),
              r = Ln(t.integerValue || t.doubleValue);
          return n < r ? -1 : n > r ? 1 : n === r ? 0 : isNaN(n) ? isNaN(r) ? 0 : -1 : 1;
        }(e, t);

      case 3:
        return Wn(e.timestampValue, t.timestampValue);

      case 4:
        return Wn(Vn(e), Vn(t));

      case 5:
        return Wt(e.stringValue, t.stringValue);

      case 6:
        return function (e, t) {
          var n = Mn(e),
              r = Mn(t);
          return n.compareTo(r);
        }(e.bytesValue, t.bytesValue);

      case 7:
        return function (e, t) {
          var n = e.split("/"),
              r = t.split("/");

          for (var _i32 = 0; _i32 < n.length && _i32 < r.length; _i32++) {
            var _e23 = Wt(n[_i32], r[_i32]);

            if (0 !== _e23) return _e23;
          }

          return Wt(n.length, r.length);
        }(e.referenceValue, t.referenceValue);

      case 8:
        return function (e, t) {
          var n = Wt(Ln(e.latitude), Ln(t.latitude));
          return 0 !== n ? n : Wt(Ln(e.longitude), Ln(t.longitude));
        }(e.geoPointValue, t.geoPointValue);

      case 9:
        return Gn(e.arrayValue, t.arrayValue);

      case 10:
        return function (e, t) {
          var n, r, i, s;
          var o = e.fields || {},
              a = t.fields || {},
              l = null === (n = o.value) || void 0 === n ? void 0 : n.arrayValue,
              u = null === (r = a.value) || void 0 === r ? void 0 : r.arrayValue,
              c = Wt((null === (i = null == l ? void 0 : l.values) || void 0 === i ? void 0 : i.length) || 0, (null === (s = null == u ? void 0 : u.values) || void 0 === s ? void 0 : s.length) || 0);
          return 0 !== c ? c : Gn(l, u);
        }(e.mapValue, t.mapValue);

      case 11:
        return function (e, t) {
          if (e === Bn.mapValue && t === Bn.mapValue) return 0;
          if (e === Bn.mapValue) return 1;
          if (t === Bn.mapValue) return -1;
          var n = e.fields || {},
              r = Object.keys(n),
              i = t.fields || {},
              s = Object.keys(i);
          r.sort(), s.sort();

          for (var _o7 = 0; _o7 < r.length && _o7 < s.length; ++_o7) {
            var _e24 = Wt(r[_o7], s[_o7]);

            if (0 !== _e24) return _e24;

            var _t16 = Kn(n[r[_o7]], i[s[_o7]]);

            if (0 !== _t16) return _t16;
          }

          return Wt(r.length, s.length);
        }(e.mapValue, t.mapValue);

      default:
        throw Pt();
    }
  }

  function Wn(e, t) {
    if ("string" == typeof e && "string" == typeof t && e.length === t.length) return Wt(e, t);
    var n = On(e),
        r = On(t),
        i = Wt(n.seconds, r.seconds);
    return 0 !== i ? i : Wt(n.nanos, r.nanos);
  }

  function Gn(e, t) {
    var n = e.values || [],
        r = t.values || [];

    for (var _i33 = 0; _i33 < n.length && _i33 < r.length; ++_i33) {
      var _e25 = Kn(n[_i33], r[_i33]);

      if (_e25) return _e25;
    }

    return Wt(n.length, r.length);
  }

  function Qn(e) {
    return Xn(e);
  }

  function Xn(e) {
    return "nullValue" in e ? "null" : "booleanValue" in e ? "" + e.booleanValue : "integerValue" in e ? "" + e.integerValue : "doubleValue" in e ? "" + e.doubleValue : "timestampValue" in e ? function (e) {
      var t = On(e);
      return "time(".concat(t.seconds, ",").concat(t.nanos, ")");
    }(e.timestampValue) : "stringValue" in e ? e.stringValue : "bytesValue" in e ? function (e) {
      return Mn(e).toBase64();
    }(e.bytesValue) : "referenceValue" in e ? function (e) {
      return tn.fromName(e).toString();
    }(e.referenceValue) : "geoPointValue" in e ? function (e) {
      return "geo(".concat(e.latitude, ",").concat(e.longitude, ")");
    }(e.geoPointValue) : "arrayValue" in e ? function (e) {
      var t = "[",
          n = !0;
      var _iteratorNormalCompletion17 = true;
      var _didIteratorError17 = false;
      var _iteratorError17 = undefined;

      try {
        for (var _iterator17 = (e.values || [])[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {
          var _r27 = _step17.value;
          n ? n = !1 : t += ",", t += Xn(_r27);
        }
      } catch (err) {
        _didIteratorError17 = true;
        _iteratorError17 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion17 && _iterator17["return"] != null) {
            _iterator17["return"]();
          }
        } finally {
          if (_didIteratorError17) {
            throw _iteratorError17;
          }
        }
      }

      return t + "]";
    }(e.arrayValue) : "mapValue" in e ? function (e) {
      var t = Object.keys(e.fields || {}).sort();
      var n = "{",
          r = !0;
      var _iteratorNormalCompletion18 = true;
      var _didIteratorError18 = false;
      var _iteratorError18 = undefined;

      try {
        for (var _iterator18 = t[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {
          var _i34 = _step18.value;
          r ? r = !1 : n += ",", n += "".concat(_i34, ":").concat(Xn(e.fields[_i34]));
        }
      } catch (err) {
        _didIteratorError18 = true;
        _iteratorError18 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion18 && _iterator18["return"] != null) {
            _iterator18["return"]();
          }
        } finally {
          if (_didIteratorError18) {
            throw _iteratorError18;
          }
        }
      }

      return n + "}";
    }(e.mapValue) : Pt();
  }

  function Yn(e, t) {
    return {
      referenceValue: "projects/".concat(e.projectId, "/databases/").concat(e.database, "/documents/").concat(t.path.canonicalString())
    };
  }

  function Jn(e) {
    return !!e && "integerValue" in e;
  }

  function Zn(e) {
    return !!e && "arrayValue" in e;
  }

  function er(e) {
    return !!e && "nullValue" in e;
  }

  function tr(e) {
    return !!e && "doubleValue" in e && isNaN(Number(e.doubleValue));
  }

  function nr(e) {
    return !!e && "mapValue" in e;
  }

  function rr(e) {
    var t, n;
    return "__vector__" === (null === (n = ((null === (t = null == e ? void 0 : e.mapValue) || void 0 === t ? void 0 : t.fields) || {}).__type__) || void 0 === n ? void 0 : n.stringValue);
  }

  function ir(e) {
    if (e.geoPointValue) return {
      geoPointValue: Object.assign({}, e.geoPointValue)
    };
    if (e.timestampValue && "object" == _typeof(e.timestampValue)) return {
      timestampValue: Object.assign({}, e.timestampValue)
    };

    if (e.mapValue) {
      var t = {
        mapValue: {
          fields: {}
        }
      };
      return Sn(e.mapValue.fields, function (e, n) {
        return t.mapValue.fields[e] = ir(n);
      }), t;
    }

    if (e.arrayValue) {
      var _t17 = {
        arrayValue: {
          values: []
        }
      };

      for (var n = 0; n < (e.arrayValue.values || []).length; ++n) {
        _t17.arrayValue.values[n] = ir(e.arrayValue.values[n]);
      }

      return _t17;
    }

    return Object.assign({}, e);
  }

  function sr(e) {
    return "__max__" === (((e.mapValue || {}).fields || {}).__type__ || {}).stringValue;
  }

  var or =
  /*#__PURE__*/
  function () {
    function or(e) {
      _classCallCheck(this, or);

      this.value = e;
    }

    _createClass(or, [{
      key: "field",
      value: function field(e) {
        if (e.isEmpty()) return this.value;
        {
          var t = this.value;

          for (var n = 0; n < e.length - 1; ++n) {
            if (t = (t.mapValue.fields || {})[e.get(n)], !nr(t)) return null;
          }

          return t = (t.mapValue.fields || {})[e.lastSegment()], t || null;
        }
      }
    }, {
      key: "set",
      value: function set(e, t) {
        this.getFieldsMap(e.popLast())[e.lastSegment()] = ir(t);
      }
    }, {
      key: "setAll",
      value: function setAll(e) {
        var _this26 = this;

        var t = en.emptyPath(),
            n = {},
            r = [];
        e.forEach(function (e, i) {
          if (!t.isImmediateParentOf(i)) {
            var _e26 = _this26.getFieldsMap(t);

            _this26.applyChanges(_e26, n, r), n = {}, r = [], t = i.popLast();
          }

          e ? n[i.lastSegment()] = ir(e) : r.push(i.lastSegment());
        });
        var i = this.getFieldsMap(t);
        this.applyChanges(i, n, r);
      }
    }, {
      key: "delete",
      value: function _delete(e) {
        var t = this.field(e.popLast());
        nr(t) && t.mapValue.fields && delete t.mapValue.fields[e.lastSegment()];
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return qn(this.value, e.value);
      }
    }, {
      key: "getFieldsMap",
      value: function getFieldsMap(e) {
        var t = this.value;
        t.mapValue.fields || (t.mapValue = {
          fields: {}
        });

        for (var n = 0; n < e.length; ++n) {
          var _r28 = t.mapValue.fields[e.get(n)];
          nr(_r28) && _r28.mapValue.fields || (_r28 = {
            mapValue: {
              fields: {}
            }
          }, t.mapValue.fields[e.get(n)] = _r28), t = _r28;
        }

        return t.mapValue.fields;
      }
    }, {
      key: "applyChanges",
      value: function applyChanges(e, t, n) {
        Sn(t, function (t, n) {
          return e[t] = n;
        });
        var _iteratorNormalCompletion19 = true;
        var _didIteratorError19 = false;
        var _iteratorError19 = undefined;

        try {
          for (var _iterator19 = n[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {
            var _r29 = _step19.value;
            delete e[_r29];
          }
        } catch (err) {
          _didIteratorError19 = true;
          _iteratorError19 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion19 && _iterator19["return"] != null) {
              _iterator19["return"]();
            }
          } finally {
            if (_didIteratorError19) {
              throw _iteratorError19;
            }
          }
        }
      }
    }, {
      key: "clone",
      value: function clone() {
        return new or(ir(this.value));
      }
    }], [{
      key: "empty",
      value: function empty() {
        return new or({
          mapValue: {}
        });
      }
    }]);

    return or;
  }();

  function ar(e) {
    var t = [];
    return Sn(e.fields, function (e, n) {
      var r = new en([e]);

      if (nr(n)) {
        var _e27 = ar(n.mapValue).fields;
        if (0 === _e27.length) t.push(r);else {
          var _iteratorNormalCompletion20 = true;
          var _didIteratorError20 = false;
          var _iteratorError20 = undefined;

          try {
            for (var _iterator20 = _e27[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {
              var _n24 = _step20.value;
              t.push(r.child(_n24));
            }
          } catch (err) {
            _didIteratorError20 = true;
            _iteratorError20 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion20 && _iterator20["return"] != null) {
                _iterator20["return"]();
              }
            } finally {
              if (_didIteratorError20) {
                throw _iteratorError20;
              }
            }
          }
        }
      } else t.push(r);
    }), new Rn(t);
  }

  var lr =
  /*#__PURE__*/
  function () {
    function lr(e, t, n, r, i, s, o) {
      _classCallCheck(this, lr);

      this.key = e, this.documentType = t, this.version = n, this.readTime = r, this.createTime = i, this.data = s, this.documentState = o;
    }

    _createClass(lr, [{
      key: "convertToFoundDocument",
      value: function convertToFoundDocument(e, t) {
        return !this.createTime.isEqual(Xt.min()) || 2 !== this.documentType && 0 !== this.documentType || (this.createTime = e), this.version = e, this.documentType = 1, this.data = t, this.documentState = 0, this;
      }
    }, {
      key: "convertToNoDocument",
      value: function convertToNoDocument(e) {
        return this.version = e, this.documentType = 2, this.data = or.empty(), this.documentState = 0, this;
      }
    }, {
      key: "convertToUnknownDocument",
      value: function convertToUnknownDocument(e) {
        return this.version = e, this.documentType = 3, this.data = or.empty(), this.documentState = 2, this;
      }
    }, {
      key: "setHasCommittedMutations",
      value: function setHasCommittedMutations() {
        return this.documentState = 2, this;
      }
    }, {
      key: "setHasLocalMutations",
      value: function setHasLocalMutations() {
        return this.documentState = 1, this.version = Xt.min(), this;
      }
    }, {
      key: "setReadTime",
      value: function setReadTime(e) {
        return this.readTime = e, this;
      }
    }, {
      key: "isValidDocument",
      value: function isValidDocument() {
        return 0 !== this.documentType;
      }
    }, {
      key: "isFoundDocument",
      value: function isFoundDocument() {
        return 1 === this.documentType;
      }
    }, {
      key: "isNoDocument",
      value: function isNoDocument() {
        return 2 === this.documentType;
      }
    }, {
      key: "isUnknownDocument",
      value: function isUnknownDocument() {
        return 3 === this.documentType;
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return e instanceof lr && this.key.isEqual(e.key) && this.version.isEqual(e.version) && this.documentType === e.documentType && this.documentState === e.documentState && this.data.isEqual(e.data);
      }
    }, {
      key: "mutableCopy",
      value: function mutableCopy() {
        return new lr(this.key, this.documentType, this.version, this.readTime, this.createTime, this.data.clone(), this.documentState);
      }
    }, {
      key: "toString",
      value: function toString() {
        return "Document(".concat(this.key, ", ").concat(this.version, ", ").concat(JSON.stringify(this.data.value), ", {createTime: ").concat(this.createTime, "}), {documentType: ").concat(this.documentType, "}), {documentState: ").concat(this.documentState, "})");
      }
    }, {
      key: "hasLocalMutations",
      get: function get() {
        return 1 === this.documentState;
      }
    }, {
      key: "hasCommittedMutations",
      get: function get() {
        return 2 === this.documentState;
      }
    }, {
      key: "hasPendingWrites",
      get: function get() {
        return this.hasLocalMutations || this.hasCommittedMutations;
      }
    }], [{
      key: "newInvalidDocument",
      value: function newInvalidDocument(e) {
        return new lr(e, 0, Xt.min(), Xt.min(), Xt.min(), or.empty(), 0);
      }
    }, {
      key: "newFoundDocument",
      value: function newFoundDocument(e, t, n, r) {
        return new lr(e, 1, t, Xt.min(), n, r, 0);
      }
    }, {
      key: "newNoDocument",
      value: function newNoDocument(e, t) {
        return new lr(e, 2, t, Xt.min(), Xt.min(), or.empty(), 0);
      }
    }, {
      key: "newUnknownDocument",
      value: function newUnknownDocument(e, t) {
        return new lr(e, 3, t, Xt.min(), Xt.min(), or.empty(), 2);
      }
    }]);

    return lr;
  }();

  var ur = function ur(e, t) {
    _classCallCheck(this, ur);

    this.position = e, this.inclusive = t;
  };

  function cr(e, t, n) {
    var r = 0;

    for (var _i35 = 0; _i35 < e.position.length; _i35++) {
      var _s13 = t[_i35],
          _o8 = e.position[_i35];
      if (r = _s13.field.isKeyField() ? tn.comparator(tn.fromName(_o8.referenceValue), n.key) : Kn(_o8, n.data.field(_s13.field)), "desc" === _s13.dir && (r *= -1), 0 !== r) break;
    }

    return r;
  }

  function hr(e, t) {
    if (null === e) return null === t;
    if (null === t) return !1;
    if (e.inclusive !== t.inclusive || e.position.length !== t.position.length) return !1;

    for (var n = 0; n < e.position.length; n++) {
      if (!qn(e.position[n], t.position[n])) return !1;
    }

    return !0;
  }

  var dr = function dr(e) {
    _classCallCheck(this, dr);

    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "asc";
    this.field = e, this.dir = t;
  };

  function fr(e, t) {
    return e.dir === t.dir && e.field.isEqual(t.field);
  }

  var pr = function pr() {
    _classCallCheck(this, pr);
  };

  var gr =
  /*#__PURE__*/
  function (_pr) {
    _inherits(gr, _pr);

    function gr(e, t, n) {
      var _this27;

      _classCallCheck(this, gr);

      _this27 = _possibleConstructorReturn(this, _getPrototypeOf(gr).call(this)), _this27.field = e, _this27.op = t, _this27.value = n;
      return _this27;
    }

    _createClass(gr, [{
      key: "matches",
      value: function matches(e) {
        var t = e.data.field(this.field);
        return "!=" === this.op ? null !== t && this.matchesComparison(Kn(t, this.value)) : null !== t && $n(this.value) === $n(t) && this.matchesComparison(Kn(t, this.value));
      }
    }, {
      key: "matchesComparison",
      value: function matchesComparison(e) {
        switch (this.op) {
          case "<":
            return e < 0;

          case "<=":
            return e <= 0;

          case "==":
            return 0 === e;

          case "!=":
            return 0 !== e;

          case ">":
            return e > 0;

          case ">=":
            return e >= 0;

          default:
            return Pt();
        }
      }
    }, {
      key: "isInequality",
      value: function isInequality() {
        return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
      }
    }, {
      key: "getFlattenedFilters",
      value: function getFlattenedFilters() {
        return [this];
      }
    }, {
      key: "getFilters",
      value: function getFilters() {
        return [this];
      }
    }], [{
      key: "create",
      value: function create(e, t, n) {
        return e.isKeyField() ? "in" === t || "not-in" === t ? this.createKeyFieldInFilter(e, t, n) : new Sr(e, t, n) : "array-contains" === t ? new Cr(e, n) : "in" === t ? new Nr(e, n) : "not-in" === t ? new Ar(e, n) : "array-contains-any" === t ? new Rr(e, n) : new gr(e, t, n);
      }
    }, {
      key: "createKeyFieldInFilter",
      value: function createKeyFieldInFilter(e, t, n) {
        return "in" === t ? new kr(e, n) : new Tr(e, n);
      }
    }]);

    return gr;
  }(pr);

  var mr =
  /*#__PURE__*/
  function (_pr2) {
    _inherits(mr, _pr2);

    function mr(e, t) {
      var _this28;

      _classCallCheck(this, mr);

      _this28 = _possibleConstructorReturn(this, _getPrototypeOf(mr).call(this)), _this28.filters = e, _this28.op = t, _this28.ae = null;
      return _this28;
    }

    _createClass(mr, [{
      key: "matches",
      value: function matches(e) {
        return vr(this) ? void 0 === this.filters.find(function (t) {
          return !t.matches(e);
        }) : void 0 !== this.filters.find(function (t) {
          return t.matches(e);
        });
      }
    }, {
      key: "getFlattenedFilters",
      value: function getFlattenedFilters() {
        return null !== this.ae || (this.ae = this.filters.reduce(function (e, t) {
          return e.concat(t.getFlattenedFilters());
        }, [])), this.ae;
      }
    }, {
      key: "getFilters",
      value: function getFilters() {
        return Object.assign([], this.filters);
      }
    }], [{
      key: "create",
      value: function create(e, t) {
        return new mr(e, t);
      }
    }]);

    return mr;
  }(pr);

  function vr(e) {
    return "and" === e.op;
  }

  function yr(e) {
    return wr(e) && vr(e);
  }

  function wr(e) {
    var _iteratorNormalCompletion21 = true;
    var _didIteratorError21 = false;
    var _iteratorError21 = undefined;

    try {
      for (var _iterator21 = e.filters[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {
        var t = _step21.value;
        if (t instanceof mr) return !1;
      }
    } catch (err) {
      _didIteratorError21 = true;
      _iteratorError21 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion21 && _iterator21["return"] != null) {
          _iterator21["return"]();
        }
      } finally {
        if (_didIteratorError21) {
          throw _iteratorError21;
        }
      }
    }

    return !0;
  }

  function br(e) {
    if (e instanceof gr) return e.field.canonicalString() + e.op.toString() + Qn(e.value);
    if (yr(e)) return e.filters.map(function (e) {
      return br(e);
    }).join(",");
    {
      var t = e.filters.map(function (e) {
        return br(e);
      }).join(",");
      return "".concat(e.op, "(").concat(t, ")");
    }
  }

  function _r(e, t) {
    return e instanceof gr ? function (e, t) {
      return t instanceof gr && e.op === t.op && e.field.isEqual(t.field) && qn(e.value, t.value);
    }(e, t) : e instanceof mr ? function (e, t) {
      return t instanceof mr && e.op === t.op && e.filters.length === t.filters.length && e.filters.reduce(function (e, n, r) {
        return e && _r(n, t.filters[r]);
      }, !0);
    }(e, t) : void Pt();
  }

  function Er(e) {
    return e instanceof gr ? function (e) {
      return "".concat(e.field.canonicalString(), " ").concat(e.op, " ").concat(Qn(e.value));
    }(e) : e instanceof mr ? function (e) {
      return e.op.toString() + " {" + e.getFilters().map(Er).join(" ,") + "}";
    }(e) : "Filter";
  }

  var Sr =
  /*#__PURE__*/
  function (_gr) {
    _inherits(Sr, _gr);

    function Sr(e, t, n) {
      var _this29;

      _classCallCheck(this, Sr);

      _this29 = _possibleConstructorReturn(this, _getPrototypeOf(Sr).call(this, e, t, n)), _this29.key = tn.fromName(n.referenceValue);
      return _this29;
    }

    _createClass(Sr, [{
      key: "matches",
      value: function matches(e) {
        var t = tn.comparator(e.key, this.key);
        return this.matchesComparison(t);
      }
    }]);

    return Sr;
  }(gr);

  var kr =
  /*#__PURE__*/
  function (_gr2) {
    _inherits(kr, _gr2);

    function kr(e, t) {
      var _this30;

      _classCallCheck(this, kr);

      _this30 = _possibleConstructorReturn(this, _getPrototypeOf(kr).call(this, e, "in", t)), _this30.keys = Ir("in", t);
      return _this30;
    }

    _createClass(kr, [{
      key: "matches",
      value: function matches(e) {
        return this.keys.some(function (t) {
          return t.isEqual(e.key);
        });
      }
    }]);

    return kr;
  }(gr);

  var Tr =
  /*#__PURE__*/
  function (_gr3) {
    _inherits(Tr, _gr3);

    function Tr(e, t) {
      var _this31;

      _classCallCheck(this, Tr);

      _this31 = _possibleConstructorReturn(this, _getPrototypeOf(Tr).call(this, e, "not-in", t)), _this31.keys = Ir("not-in", t);
      return _this31;
    }

    _createClass(Tr, [{
      key: "matches",
      value: function matches(e) {
        return !this.keys.some(function (t) {
          return t.isEqual(e.key);
        });
      }
    }]);

    return Tr;
  }(gr);

  function Ir(e, t) {
    var n;
    return ((null === (n = t.arrayValue) || void 0 === n ? void 0 : n.values) || []).map(function (e) {
      return tn.fromName(e.referenceValue);
    });
  }

  var Cr =
  /*#__PURE__*/
  function (_gr4) {
    _inherits(Cr, _gr4);

    function Cr(e, t) {
      _classCallCheck(this, Cr);

      return _possibleConstructorReturn(this, _getPrototypeOf(Cr).call(this, e, "array-contains", t));
    }

    _createClass(Cr, [{
      key: "matches",
      value: function matches(e) {
        var t = e.data.field(this.field);
        return Zn(t) && Hn(t.arrayValue, this.value);
      }
    }]);

    return Cr;
  }(gr);

  var Nr =
  /*#__PURE__*/
  function (_gr5) {
    _inherits(Nr, _gr5);

    function Nr(e, t) {
      _classCallCheck(this, Nr);

      return _possibleConstructorReturn(this, _getPrototypeOf(Nr).call(this, e, "in", t));
    }

    _createClass(Nr, [{
      key: "matches",
      value: function matches(e) {
        var t = e.data.field(this.field);
        return null !== t && Hn(this.value.arrayValue, t);
      }
    }]);

    return Nr;
  }(gr);

  var Ar =
  /*#__PURE__*/
  function (_gr6) {
    _inherits(Ar, _gr6);

    function Ar(e, t) {
      _classCallCheck(this, Ar);

      return _possibleConstructorReturn(this, _getPrototypeOf(Ar).call(this, e, "not-in", t));
    }

    _createClass(Ar, [{
      key: "matches",
      value: function matches(e) {
        if (Hn(this.value.arrayValue, {
          nullValue: "NULL_VALUE"
        })) return !1;
        var t = e.data.field(this.field);
        return null !== t && !Hn(this.value.arrayValue, t);
      }
    }]);

    return Ar;
  }(gr);

  var Rr =
  /*#__PURE__*/
  function (_gr7) {
    _inherits(Rr, _gr7);

    function Rr(e, t) {
      _classCallCheck(this, Rr);

      return _possibleConstructorReturn(this, _getPrototypeOf(Rr).call(this, e, "array-contains-any", t));
    }

    _createClass(Rr, [{
      key: "matches",
      value: function matches(e) {
        var _this32 = this;

        var t = e.data.field(this.field);
        return !(!Zn(t) || !t.arrayValue.values) && t.arrayValue.values.some(function (e) {
          return Hn(_this32.value.arrayValue, e);
        });
      }
    }]);

    return Rr;
  }(gr);

  var Pr = function Pr(e) {
    _classCallCheck(this, Pr);

    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [],
        i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
        s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null,
        o = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : null;
    this.path = e, this.collectionGroup = t, this.orderBy = n, this.filters = r, this.limit = i, this.startAt = s, this.endAt = o, this.ue = null;
  };

  function xr(e) {
    return new Pr(e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [], arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null, arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null, arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : null);
  }

  function Dr(e) {
    var t = Dt(e);

    if (null === t.ue) {
      var _e28 = t.path.canonicalString();

      null !== t.collectionGroup && (_e28 += "|cg:" + t.collectionGroup), _e28 += "|f:", _e28 += t.filters.map(function (e) {
        return br(e);
      }).join(","), _e28 += "|ob:", _e28 += t.orderBy.map(function (e) {
        return function (e) {
          return e.field.canonicalString() + e.dir;
        }(e);
      }).join(","), gn(t.limit) || (_e28 += "|l:", _e28 += t.limit), t.startAt && (_e28 += "|lb:", _e28 += t.startAt.inclusive ? "b:" : "a:", _e28 += t.startAt.position.map(function (e) {
        return Qn(e);
      }).join(",")), t.endAt && (_e28 += "|ub:", _e28 += t.endAt.inclusive ? "a:" : "b:", _e28 += t.endAt.position.map(function (e) {
        return Qn(e);
      }).join(",")), t.ue = _e28;
    }

    return t.ue;
  }

  function Or(e, t) {
    if (e.limit !== t.limit) return !1;
    if (e.orderBy.length !== t.orderBy.length) return !1;

    for (var n = 0; n < e.orderBy.length; n++) {
      if (!fr(e.orderBy[n], t.orderBy[n])) return !1;
    }

    if (e.filters.length !== t.filters.length) return !1;

    for (var _n25 = 0; _n25 < e.filters.length; _n25++) {
      if (!_r(e.filters[_n25], t.filters[_n25])) return !1;
    }

    return e.collectionGroup === t.collectionGroup && !!e.path.isEqual(t.path) && !!hr(e.startAt, t.startAt) && hr(e.endAt, t.endAt);
  }

  function Lr(e) {
    return tn.isDocumentKey(e.path) && null === e.collectionGroup && 0 === e.filters.length;
  }

  var Mr = function Mr(e) {
    _classCallCheck(this, Mr);

    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [],
        i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
        s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : "F",
        o = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : null,
        a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : null;
    this.path = e, this.collectionGroup = t, this.explicitOrderBy = n, this.filters = r, this.limit = i, this.limitType = s, this.startAt = o, this.endAt = a, this.ce = null, this.le = null, this.he = null, this.startAt, this.endAt;
  };

  function Fr(e, t, n, r, i, s, o, a) {
    return new Mr(e, t, n, r, i, s, o, a);
  }

  function Ur(e) {
    return new Mr(e);
  }

  function Vr(e) {
    return 0 === e.filters.length && null === e.limit && null == e.startAt && null == e.endAt && (0 === e.explicitOrderBy.length || 1 === e.explicitOrderBy.length && e.explicitOrderBy[0].field.isKeyField());
  }

  function zr(e) {
    return null !== e.collectionGroup;
  }

  function jr(e) {
    var t = Dt(e);

    if (null === t.ce) {
      t.ce = [];

      var _e29 = new Set();

      var _iteratorNormalCompletion22 = true;
      var _didIteratorError22 = false;
      var _iteratorError22 = undefined;

      try {
        for (var _iterator22 = t.explicitOrderBy[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {
          var _i36 = _step22.value;
          t.ce.push(_i36), _e29.add(_i36.field.canonicalString());
        }
      } catch (err) {
        _didIteratorError22 = true;
        _iteratorError22 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion22 && _iterator22["return"] != null) {
            _iterator22["return"]();
          }
        } finally {
          if (_didIteratorError22) {
            throw _iteratorError22;
          }
        }
      }

      var n = t.explicitOrderBy.length > 0 ? t.explicitOrderBy[t.explicitOrderBy.length - 1].dir : "asc",
          _r30 = function (e) {
        var t = new Nn(en.comparator);
        return e.filters.forEach(function (e) {
          e.getFlattenedFilters().forEach(function (e) {
            e.isInequality() && (t = t.add(e.field));
          });
        }), t;
      }(t);

      _r30.forEach(function (r) {
        _e29.has(r.canonicalString()) || r.isKeyField() || t.ce.push(new dr(r, n));
      }), _e29.has(en.keyField().canonicalString()) || t.ce.push(new dr(en.keyField(), n));
    }

    return t.ce;
  }

  function Br(e) {
    var t = Dt(e);
    return t.le || (t.le = $r(t, jr(e))), t.le;
  }

  function $r(e, t) {
    if ("F" === e.limitType) return xr(e.path, e.collectionGroup, t, e.filters, e.limit, e.startAt, e.endAt);
    {
      t = t.map(function (e) {
        var t = "desc" === e.dir ? "asc" : "desc";
        return new dr(e.field, t);
      });

      var n = e.endAt ? new ur(e.endAt.position, e.endAt.inclusive) : null,
          _r31 = e.startAt ? new ur(e.startAt.position, e.startAt.inclusive) : null;

      return xr(e.path, e.collectionGroup, t, e.filters, e.limit, n, _r31);
    }
  }

  function qr(e, t) {
    var n = e.filters.concat([t]);
    return new Mr(e.path, e.collectionGroup, e.explicitOrderBy.slice(), n, e.limit, e.limitType, e.startAt, e.endAt);
  }

  function Hr(e, t, n) {
    return new Mr(e.path, e.collectionGroup, e.explicitOrderBy.slice(), e.filters.slice(), t, n, e.startAt, e.endAt);
  }

  function Kr(e, t) {
    return Or(Br(e), Br(t)) && e.limitType === t.limitType;
  }

  function Wr(e) {
    return "".concat(Dr(Br(e)), "|lt:").concat(e.limitType);
  }

  function Gr(e) {
    return "Query(target=".concat(function (e) {
      var t = e.path.canonicalString();
      return null !== e.collectionGroup && (t += " collectionGroup=" + e.collectionGroup), e.filters.length > 0 && (t += ", filters: [".concat(e.filters.map(function (e) {
        return Er(e);
      }).join(", "), "]")), gn(e.limit) || (t += ", limit: " + e.limit), e.orderBy.length > 0 && (t += ", orderBy: [".concat(e.orderBy.map(function (e) {
        return function (e) {
          return "".concat(e.field.canonicalString(), " (").concat(e.dir, ")");
        }(e);
      }).join(", "), "]")), e.startAt && (t += ", startAt: ", t += e.startAt.inclusive ? "b:" : "a:", t += e.startAt.position.map(function (e) {
        return Qn(e);
      }).join(",")), e.endAt && (t += ", endAt: ", t += e.endAt.inclusive ? "a:" : "b:", t += e.endAt.position.map(function (e) {
        return Qn(e);
      }).join(",")), "Target(".concat(t, ")");
    }(Br(e)), "; limitType=").concat(e.limitType, ")");
  }

  function Qr(e, t) {
    return t.isFoundDocument() && function (e, t) {
      var n = t.key.path;
      return null !== e.collectionGroup ? t.key.hasCollectionId(e.collectionGroup) && e.path.isPrefixOf(n) : tn.isDocumentKey(e.path) ? e.path.isEqual(n) : e.path.isImmediateParentOf(n);
    }(e, t) && function (e, t) {
      var _iteratorNormalCompletion23 = true;
      var _didIteratorError23 = false;
      var _iteratorError23 = undefined;

      try {
        for (var _iterator23 = jr(e)[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {
          var n = _step23.value;
          if (!n.field.isKeyField() && null === t.data.field(n.field)) return !1;
        }
      } catch (err) {
        _didIteratorError23 = true;
        _iteratorError23 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion23 && _iterator23["return"] != null) {
            _iterator23["return"]();
          }
        } finally {
          if (_didIteratorError23) {
            throw _iteratorError23;
          }
        }
      }

      return !0;
    }(e, t) && function (e, t) {
      var _iteratorNormalCompletion24 = true;
      var _didIteratorError24 = false;
      var _iteratorError24 = undefined;

      try {
        for (var _iterator24 = e.filters[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {
          var n = _step24.value;
          if (!n.matches(t)) return !1;
        }
      } catch (err) {
        _didIteratorError24 = true;
        _iteratorError24 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion24 && _iterator24["return"] != null) {
            _iterator24["return"]();
          }
        } finally {
          if (_didIteratorError24) {
            throw _iteratorError24;
          }
        }
      }

      return !0;
    }(e, t) && function (e, t) {
      return !(e.startAt && !function (e, t, n) {
        var r = cr(e, t, n);
        return e.inclusive ? r <= 0 : r < 0;
      }(e.startAt, jr(e), t)) && !(e.endAt && !function (e, t, n) {
        var r = cr(e, t, n);
        return e.inclusive ? r >= 0 : r > 0;
      }(e.endAt, jr(e), t));
    }(e, t);
  }

  function Xr(e) {
    return e.collectionGroup || (e.path.length % 2 == 1 ? e.path.lastSegment() : e.path.get(e.path.length - 2));
  }

  function Yr(e) {
    return function (t, n) {
      var r = !1;
      var _iteratorNormalCompletion25 = true;
      var _didIteratorError25 = false;
      var _iteratorError25 = undefined;

      try {
        for (var _iterator25 = jr(e)[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {
          var _i37 = _step25.value;

          var _e30 = Jr(_i37, t, n);

          if (0 !== _e30) return _e30;
          r = r || _i37.field.isKeyField();
        }
      } catch (err) {
        _didIteratorError25 = true;
        _iteratorError25 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion25 && _iterator25["return"] != null) {
            _iterator25["return"]();
          }
        } finally {
          if (_didIteratorError25) {
            throw _iteratorError25;
          }
        }
      }

      return 0;
    };
  }

  function Jr(e, t, n) {
    var r = e.field.isKeyField() ? tn.comparator(t.key, n.key) : function (e, t, n) {
      var r = t.data.field(e),
          i = n.data.field(e);
      return null !== r && null !== i ? Kn(r, i) : Pt();
    }(e.field, t, n);

    switch (e.dir) {
      case "asc":
        return r;

      case "desc":
        return -1 * r;

      default:
        return Pt();
    }
  }

  var Zr =
  /*#__PURE__*/
  function () {
    function Zr(e, t) {
      _classCallCheck(this, Zr);

      this.mapKeyFn = e, this.equalsFn = t, this.inner = {}, this.innerSize = 0;
    }

    _createClass(Zr, [{
      key: "get",
      value: function get(e) {
        var t = this.mapKeyFn(e),
            n = this.inner[t];

        if (void 0 !== n) {
          var _iteratorNormalCompletion26 = true;
          var _didIteratorError26 = false;
          var _iteratorError26 = undefined;

          try {
            for (var _iterator26 = n[Symbol.iterator](), _step26; !(_iteratorNormalCompletion26 = (_step26 = _iterator26.next()).done); _iteratorNormalCompletion26 = true) {
              var _step26$value = _slicedToArray(_step26.value, 2),
                  _r32 = _step26$value[0],
                  _i38 = _step26$value[1];

              if (this.equalsFn(_r32, e)) return _i38;
            }
          } catch (err) {
            _didIteratorError26 = true;
            _iteratorError26 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion26 && _iterator26["return"] != null) {
                _iterator26["return"]();
              }
            } finally {
              if (_didIteratorError26) {
                throw _iteratorError26;
              }
            }
          }
        }
      }
    }, {
      key: "has",
      value: function has(e) {
        return void 0 !== this.get(e);
      }
    }, {
      key: "set",
      value: function set(e, t) {
        var n = this.mapKeyFn(e),
            r = this.inner[n];
        if (void 0 === r) return this.inner[n] = [[e, t]], void this.innerSize++;

        for (var _i39 = 0; _i39 < r.length; _i39++) {
          if (this.equalsFn(r[_i39][0], e)) return void (r[_i39] = [e, t]);
        }

        r.push([e, t]), this.innerSize++;
      }
    }, {
      key: "delete",
      value: function _delete(e) {
        var t = this.mapKeyFn(e),
            n = this.inner[t];
        if (void 0 === n) return !1;

        for (var _r33 = 0; _r33 < n.length; _r33++) {
          if (this.equalsFn(n[_r33][0], e)) return 1 === n.length ? delete this.inner[t] : n.splice(_r33, 1), this.innerSize--, !0;
        }

        return !1;
      }
    }, {
      key: "forEach",
      value: function forEach(e) {
        Sn(this.inner, function (t, n) {
          var _iteratorNormalCompletion27 = true;
          var _didIteratorError27 = false;
          var _iteratorError27 = undefined;

          try {
            for (var _iterator27 = n[Symbol.iterator](), _step27; !(_iteratorNormalCompletion27 = (_step27 = _iterator27.next()).done); _iteratorNormalCompletion27 = true) {
              var _step27$value = _slicedToArray(_step27.value, 2),
                  _r34 = _step27$value[0],
                  _i40 = _step27$value[1];

              e(_r34, _i40);
            }
          } catch (err) {
            _didIteratorError27 = true;
            _iteratorError27 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion27 && _iterator27["return"] != null) {
                _iterator27["return"]();
              }
            } finally {
              if (_didIteratorError27) {
                throw _iteratorError27;
              }
            }
          }
        });
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return kn(this.inner);
      }
    }, {
      key: "size",
      value: function size() {
        return this.innerSize;
      }
    }]);

    return Zr;
  }();

  var ei = new Tn(tn.comparator);

  function ti() {
    return ei;
  }

  var ni = new Tn(tn.comparator);

  function ri() {
    var e = ni;

    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) {
      n[r] = arguments[r];
    }

    for (var _i41 = 0, _n26 = n; _i41 < _n26.length; _i41++) {
      var _i42 = _n26[_i41];
      e = e.insert(_i42.key, _i42);
    }

    return e;
  }

  function ii(e) {
    var t = ni;
    return e.forEach(function (e, n) {
      return t = t.insert(e, n.overlayedDocument);
    }), t;
  }

  function si() {
    return ai();
  }

  function oi() {
    return ai();
  }

  function ai() {
    return new Zr(function (e) {
      return e.toString();
    }, function (e, t) {
      return e.isEqual(t);
    });
  }

  var li = new Tn(tn.comparator),
      ui = new Nn(tn.comparator);

  function ci() {
    var e = ui;

    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) {
      n[r] = arguments[r];
    }

    for (var _i43 = 0, _n27 = n; _i43 < _n27.length; _i43++) {
      var _i44 = _n27[_i43];
      e = e.add(_i44);
    }

    return e;
  }

  var hi = new Nn(Wt);

  function di() {
    return hi;
  }

  function fi(e, t) {
    if (e.useProto3Json) {
      if (isNaN(t)) return {
        doubleValue: "NaN"
      };
      if (t === 1 / 0) return {
        doubleValue: "Infinity"
      };
      if (t === -1 / 0) return {
        doubleValue: "-Infinity"
      };
    }

    return {
      doubleValue: mn(t) ? "-0" : t
    };
  }

  function pi(e) {
    return {
      integerValue: "" + e
    };
  }

  function gi(e, t) {
    return vn(t) ? pi(t) : fi(e, t);
  }

  var mi = function mi() {
    _classCallCheck(this, mi);

    this._ = void 0;
  };

  function vi(e, t, n) {
    return e instanceof bi ? function (e, t) {
      var n = {
        fields: {
          __type__: {
            stringValue: "server_timestamp"
          },
          __local_write_time__: {
            timestampValue: {
              seconds: e.seconds,
              nanos: e.nanoseconds
            }
          }
        }
      };
      return t && Fn(t) && (t = Un(t)), t && (n.fields.__previous_value__ = t), {
        mapValue: n
      };
    }(n, t) : e instanceof _i ? Ei(e, t) : e instanceof Si ? ki(e, t) : function (e, t) {
      var n = wi(e, t),
          r = Ii(n) + Ii(e.Pe);
      return Jn(n) && Jn(e.Pe) ? pi(r) : fi(e.serializer, r);
    }(e, t);
  }

  function yi(e, t, n) {
    return e instanceof _i ? Ei(e, t) : e instanceof Si ? ki(e, t) : n;
  }

  function wi(e, t) {
    return e instanceof Ti ? function (e) {
      return Jn(e) || function (e) {
        return !!e && "doubleValue" in e;
      }(e);
    }(t) ? t : {
      integerValue: 0
    } : null;
  }

  var bi =
  /*#__PURE__*/
  function (_mi) {
    _inherits(bi, _mi);

    function bi() {
      _classCallCheck(this, bi);

      return _possibleConstructorReturn(this, _getPrototypeOf(bi).apply(this, arguments));
    }

    return bi;
  }(mi);

  var _i =
  /*#__PURE__*/
  function (_mi2) {
    _inherits(_i, _mi2);

    function _i(e) {
      var _this33;

      _classCallCheck(this, _i);

      _this33 = _possibleConstructorReturn(this, _getPrototypeOf(_i).call(this)), _this33.elements = e;
      return _this33;
    }

    return _i;
  }(mi);

  function Ei(e, t) {
    var n = Ci(t);
    var _iteratorNormalCompletion28 = true;
    var _didIteratorError28 = false;
    var _iteratorError28 = undefined;

    try {
      var _loop5 = function _loop5() {
        var r = _step28.value;
        n.some(function (e) {
          return qn(e, r);
        }) || n.push(r);
      };

      for (var _iterator28 = e.elements[Symbol.iterator](), _step28; !(_iteratorNormalCompletion28 = (_step28 = _iterator28.next()).done); _iteratorNormalCompletion28 = true) {
        _loop5();
      }
    } catch (err) {
      _didIteratorError28 = true;
      _iteratorError28 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion28 && _iterator28["return"] != null) {
          _iterator28["return"]();
        }
      } finally {
        if (_didIteratorError28) {
          throw _iteratorError28;
        }
      }
    }

    return {
      arrayValue: {
        values: n
      }
    };
  }

  var Si =
  /*#__PURE__*/
  function (_mi3) {
    _inherits(Si, _mi3);

    function Si(e) {
      var _this34;

      _classCallCheck(this, Si);

      _this34 = _possibleConstructorReturn(this, _getPrototypeOf(Si).call(this)), _this34.elements = e;
      return _this34;
    }

    return Si;
  }(mi);

  function ki(e, t) {
    var n = Ci(t);
    var _iteratorNormalCompletion29 = true;
    var _didIteratorError29 = false;
    var _iteratorError29 = undefined;

    try {
      var _loop6 = function _loop6() {
        var r = _step29.value;
        n = n.filter(function (e) {
          return !qn(e, r);
        });
      };

      for (var _iterator29 = e.elements[Symbol.iterator](), _step29; !(_iteratorNormalCompletion29 = (_step29 = _iterator29.next()).done); _iteratorNormalCompletion29 = true) {
        _loop6();
      }
    } catch (err) {
      _didIteratorError29 = true;
      _iteratorError29 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion29 && _iterator29["return"] != null) {
          _iterator29["return"]();
        }
      } finally {
        if (_didIteratorError29) {
          throw _iteratorError29;
        }
      }
    }

    return {
      arrayValue: {
        values: n
      }
    };
  }

  var Ti =
  /*#__PURE__*/
  function (_mi4) {
    _inherits(Ti, _mi4);

    function Ti(e, t) {
      var _this35;

      _classCallCheck(this, Ti);

      _this35 = _possibleConstructorReturn(this, _getPrototypeOf(Ti).call(this)), _this35.serializer = e, _this35.Pe = t;
      return _this35;
    }

    return Ti;
  }(mi);

  function Ii(e) {
    return Ln(e.integerValue || e.doubleValue);
  }

  function Ci(e) {
    return Zn(e) && e.arrayValue.values ? e.arrayValue.values.slice() : [];
  }

  var Ni = function Ni(e, t) {
    _classCallCheck(this, Ni);

    this.version = e, this.transformResults = t;
  };

  var Ai =
  /*#__PURE__*/
  function () {
    function Ai(e, t) {
      _classCallCheck(this, Ai);

      this.updateTime = e, this.exists = t;
    }

    _createClass(Ai, [{
      key: "isEqual",
      value: function isEqual(e) {
        return this.exists === e.exists && (this.updateTime ? !!e.updateTime && this.updateTime.isEqual(e.updateTime) : !e.updateTime);
      }
    }, {
      key: "isNone",
      get: function get() {
        return void 0 === this.updateTime && void 0 === this.exists;
      }
    }], [{
      key: "none",
      value: function none() {
        return new Ai();
      }
    }, {
      key: "exists",
      value: function exists(e) {
        return new Ai(void 0, e);
      }
    }, {
      key: "updateTime",
      value: function updateTime(e) {
        return new Ai(e);
      }
    }]);

    return Ai;
  }();

  function Ri(e, t) {
    return void 0 !== e.updateTime ? t.isFoundDocument() && t.version.isEqual(e.updateTime) : void 0 === e.exists || e.exists === t.isFoundDocument();
  }

  var Pi = function Pi() {
    _classCallCheck(this, Pi);
  };

  function xi(e, t) {
    if (!e.hasLocalMutations || t && 0 === t.fields.length) return null;
    if (null === t) return e.isNoDocument() ? new Bi(e.key, Ai.none()) : new Fi(e.key, e.data, Ai.none());
    {
      var n = e.data,
          _r35 = or.empty();

      var _i45 = new Nn(en.comparator);

      var _iteratorNormalCompletion30 = true;
      var _didIteratorError30 = false;
      var _iteratorError30 = undefined;

      try {
        for (var _iterator30 = t.fields[Symbol.iterator](), _step30; !(_iteratorNormalCompletion30 = (_step30 = _iterator30.next()).done); _iteratorNormalCompletion30 = true) {
          var _e31 = _step30.value;

          if (!_i45.has(_e31)) {
            var _t18 = n.field(_e31);

            null === _t18 && _e31.length > 1 && (_e31 = _e31.popLast(), _t18 = n.field(_e31)), null === _t18 ? _r35["delete"](_e31) : _r35.set(_e31, _t18), _i45 = _i45.add(_e31);
          }
        }
      } catch (err) {
        _didIteratorError30 = true;
        _iteratorError30 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion30 && _iterator30["return"] != null) {
            _iterator30["return"]();
          }
        } finally {
          if (_didIteratorError30) {
            throw _iteratorError30;
          }
        }
      }

      return new Ui(e.key, _r35, new Rn(_i45.toArray()), Ai.none());
    }
  }

  function Di(e, t, n) {
    e instanceof Fi ? function (e, t, n) {
      var r = e.value.clone(),
          i = zi(e.fieldTransforms, t, n.transformResults);
      r.setAll(i), t.convertToFoundDocument(n.version, r).setHasCommittedMutations();
    }(e, t, n) : e instanceof Ui ? function (e, t, n) {
      if (!Ri(e.precondition, t)) return void t.convertToUnknownDocument(n.version);
      var r = zi(e.fieldTransforms, t, n.transformResults),
          i = t.data;
      i.setAll(Vi(e)), i.setAll(r), t.convertToFoundDocument(n.version, i).setHasCommittedMutations();
    }(e, t, n) : function (e, t, n) {
      t.convertToNoDocument(n.version).setHasCommittedMutations();
    }(0, t, n);
  }

  function Oi(e, t, n, r) {
    return e instanceof Fi ? function (e, t, n, r) {
      if (!Ri(e.precondition, t)) return n;
      var i = e.value.clone(),
          s = ji(e.fieldTransforms, r, t);
      return i.setAll(s), t.convertToFoundDocument(t.version, i).setHasLocalMutations(), null;
    }(e, t, n, r) : e instanceof Ui ? function (e, t, n, r) {
      if (!Ri(e.precondition, t)) return n;
      var i = ji(e.fieldTransforms, r, t),
          s = t.data;
      return s.setAll(Vi(e)), s.setAll(i), t.convertToFoundDocument(t.version, s).setHasLocalMutations(), null === n ? null : n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function (e) {
        return e.field;
      }));
    }(e, t, n, r) : function (e, t, n) {
      return Ri(e.precondition, t) ? (t.convertToNoDocument(t.version).setHasLocalMutations(), null) : n;
    }(e, t, n);
  }

  function Li(e, t) {
    var n = null;
    var _iteratorNormalCompletion31 = true;
    var _didIteratorError31 = false;
    var _iteratorError31 = undefined;

    try {
      for (var _iterator31 = e.fieldTransforms[Symbol.iterator](), _step31; !(_iteratorNormalCompletion31 = (_step31 = _iterator31.next()).done); _iteratorNormalCompletion31 = true) {
        var _r36 = _step31.value;

        var _e32 = t.data.field(_r36.field),
            _i46 = wi(_r36.transform, _e32 || null);

        null != _i46 && (null === n && (n = or.empty()), n.set(_r36.field, _i46));
      }
    } catch (err) {
      _didIteratorError31 = true;
      _iteratorError31 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion31 && _iterator31["return"] != null) {
          _iterator31["return"]();
        }
      } finally {
        if (_didIteratorError31) {
          throw _iteratorError31;
        }
      }
    }

    return n || null;
  }

  function Mi(e, t) {
    return e.type === t.type && !!e.key.isEqual(t.key) && !!e.precondition.isEqual(t.precondition) && !!function (e, t) {
      return void 0 === e && void 0 === t || !(!e || !t) && Gt(e, t, function (e, t) {
        return function (e, t) {
          return e.field.isEqual(t.field) && function (e, t) {
            return e instanceof _i && t instanceof _i || e instanceof Si && t instanceof Si ? Gt(e.elements, t.elements, qn) : e instanceof Ti && t instanceof Ti ? qn(e.Pe, t.Pe) : e instanceof bi && t instanceof bi;
          }(e.transform, t.transform);
        }(e, t);
      });
    }(e.fieldTransforms, t.fieldTransforms) && (0 === e.type ? e.value.isEqual(t.value) : 1 !== e.type || e.data.isEqual(t.data) && e.fieldMask.isEqual(t.fieldMask));
  }

  var Fi =
  /*#__PURE__*/
  function (_Pi) {
    _inherits(Fi, _Pi);

    function Fi(e, t, n) {
      var _this36;

      _classCallCheck(this, Fi);

      var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [];
      _this36 = _possibleConstructorReturn(this, _getPrototypeOf(Fi).call(this)), _this36.key = e, _this36.value = t, _this36.precondition = n, _this36.fieldTransforms = r, _this36.type = 0;
      return _this36;
    }

    _createClass(Fi, [{
      key: "getFieldMask",
      value: function getFieldMask() {
        return null;
      }
    }]);

    return Fi;
  }(Pi);

  var Ui =
  /*#__PURE__*/
  function (_Pi2) {
    _inherits(Ui, _Pi2);

    function Ui(e, t, n, r) {
      var _this37;

      _classCallCheck(this, Ui);

      var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
      _this37 = _possibleConstructorReturn(this, _getPrototypeOf(Ui).call(this)), _this37.key = e, _this37.data = t, _this37.fieldMask = n, _this37.precondition = r, _this37.fieldTransforms = i, _this37.type = 1;
      return _this37;
    }

    _createClass(Ui, [{
      key: "getFieldMask",
      value: function getFieldMask() {
        return this.fieldMask;
      }
    }]);

    return Ui;
  }(Pi);

  function Vi(e) {
    var t = new Map();
    return e.fieldMask.fields.forEach(function (n) {
      if (!n.isEmpty()) {
        var _r37 = e.data.field(n);

        t.set(n, _r37);
      }
    }), t;
  }

  function zi(e, t, n) {
    var r = new Map();
    xt(e.length === n.length);

    for (var _i47 = 0; _i47 < n.length; _i47++) {
      var _s14 = e[_i47],
          _o9 = _s14.transform,
          _a6 = t.data.field(_s14.field);

      r.set(_s14.field, yi(_o9, _a6, n[_i47]));
    }

    return r;
  }

  function ji(e, t, n) {
    var r = new Map();
    var _iteratorNormalCompletion32 = true;
    var _didIteratorError32 = false;
    var _iteratorError32 = undefined;

    try {
      for (var _iterator32 = e[Symbol.iterator](), _step32; !(_iteratorNormalCompletion32 = (_step32 = _iterator32.next()).done); _iteratorNormalCompletion32 = true) {
        var _i48 = _step32.value;

        var _e33 = _i48.transform,
            _s15 = n.data.field(_i48.field);

        r.set(_i48.field, vi(_e33, _s15, t));
      }
    } catch (err) {
      _didIteratorError32 = true;
      _iteratorError32 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion32 && _iterator32["return"] != null) {
          _iterator32["return"]();
        }
      } finally {
        if (_didIteratorError32) {
          throw _iteratorError32;
        }
      }
    }

    return r;
  }

  var Bi =
  /*#__PURE__*/
  function (_Pi3) {
    _inherits(Bi, _Pi3);

    function Bi(e, t) {
      var _this38;

      _classCallCheck(this, Bi);

      _this38 = _possibleConstructorReturn(this, _getPrototypeOf(Bi).call(this)), _this38.key = e, _this38.precondition = t, _this38.type = 2, _this38.fieldTransforms = [];
      return _this38;
    }

    _createClass(Bi, [{
      key: "getFieldMask",
      value: function getFieldMask() {
        return null;
      }
    }]);

    return Bi;
  }(Pi);

  var $i =
  /*#__PURE__*/
  function (_Pi4) {
    _inherits($i, _Pi4);

    function $i(e, t) {
      var _this39;

      _classCallCheck(this, $i);

      _this39 = _possibleConstructorReturn(this, _getPrototypeOf($i).call(this)), _this39.key = e, _this39.precondition = t, _this39.type = 3, _this39.fieldTransforms = [];
      return _this39;
    }

    _createClass($i, [{
      key: "getFieldMask",
      value: function getFieldMask() {
        return null;
      }
    }]);

    return $i;
  }(Pi);

  var qi =
  /*#__PURE__*/
  function () {
    function qi(e, t, n, r) {
      _classCallCheck(this, qi);

      this.batchId = e, this.localWriteTime = t, this.baseMutations = n, this.mutations = r;
    }

    _createClass(qi, [{
      key: "applyToRemoteDocument",
      value: function applyToRemoteDocument(e, t) {
        var n = t.mutationResults;

        for (var _r38 = 0; _r38 < this.mutations.length; _r38++) {
          var _t19 = this.mutations[_r38];
          _t19.key.isEqual(e.key) && Di(_t19, e, n[_r38]);
        }
      }
    }, {
      key: "applyToLocalView",
      value: function applyToLocalView(e, t) {
        var _iteratorNormalCompletion33 = true;
        var _didIteratorError33 = false;
        var _iteratorError33 = undefined;

        try {
          for (var _iterator33 = this.baseMutations[Symbol.iterator](), _step33; !(_iteratorNormalCompletion33 = (_step33 = _iterator33.next()).done); _iteratorNormalCompletion33 = true) {
            var n = _step33.value;
            n.key.isEqual(e.key) && (t = Oi(n, e, t, this.localWriteTime));
          }
        } catch (err) {
          _didIteratorError33 = true;
          _iteratorError33 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion33 && _iterator33["return"] != null) {
              _iterator33["return"]();
            }
          } finally {
            if (_didIteratorError33) {
              throw _iteratorError33;
            }
          }
        }

        var _iteratorNormalCompletion34 = true;
        var _didIteratorError34 = false;
        var _iteratorError34 = undefined;

        try {
          for (var _iterator34 = this.mutations[Symbol.iterator](), _step34; !(_iteratorNormalCompletion34 = (_step34 = _iterator34.next()).done); _iteratorNormalCompletion34 = true) {
            var _n28 = _step34.value;
            _n28.key.isEqual(e.key) && (t = Oi(_n28, e, t, this.localWriteTime));
          }
        } catch (err) {
          _didIteratorError34 = true;
          _iteratorError34 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion34 && _iterator34["return"] != null) {
              _iterator34["return"]();
            }
          } finally {
            if (_didIteratorError34) {
              throw _iteratorError34;
            }
          }
        }

        return t;
      }
    }, {
      key: "applyToLocalDocumentSet",
      value: function applyToLocalDocumentSet(e, t) {
        var _this40 = this;

        var n = oi();
        return this.mutations.forEach(function (r) {
          var i = e.get(r.key),
              s = i.overlayedDocument;

          var o = _this40.applyToLocalView(s, i.mutatedFields);

          o = t.has(r.key) ? null : o;
          var a = xi(s, o);
          null !== a && n.set(r.key, a), s.isValidDocument() || s.convertToNoDocument(Xt.min());
        }), n;
      }
    }, {
      key: "keys",
      value: function keys() {
        return this.mutations.reduce(function (e, t) {
          return e.add(t.key);
        }, ci());
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return this.batchId === e.batchId && Gt(this.mutations, e.mutations, function (e, t) {
          return Mi(e, t);
        }) && Gt(this.baseMutations, e.baseMutations, function (e, t) {
          return Mi(e, t);
        });
      }
    }]);

    return qi;
  }();

  var Hi =
  /*#__PURE__*/
  function () {
    function Hi(e, t, n, r) {
      _classCallCheck(this, Hi);

      this.batch = e, this.commitVersion = t, this.mutationResults = n, this.docVersions = r;
    }

    _createClass(Hi, null, [{
      key: "from",
      value: function from(e, t, n) {
        xt(e.mutations.length === n.length);
        var r = li;
        var i = e.mutations;

        for (var _s16 = 0; _s16 < i.length; _s16++) {
          r = r.insert(i[_s16].key, n[_s16].version);
        }

        return new Hi(e, t, n, r);
      }
    }]);

    return Hi;
  }();

  var Ki =
  /*#__PURE__*/
  function () {
    function Ki(e, t) {
      _classCallCheck(this, Ki);

      this.largestBatchId = e, this.mutation = t;
    }

    _createClass(Ki, [{
      key: "getKey",
      value: function getKey() {
        return this.mutation.key;
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return null !== e && this.mutation === e.mutation;
      }
    }, {
      key: "toString",
      value: function toString() {
        return "Overlay{\n      largestBatchId: ".concat(this.largestBatchId, ",\n      mutation: ").concat(this.mutation.toString(), "\n    }");
      }
    }]);

    return Ki;
  }();

  var Wi = function Wi(e, t) {
    _classCallCheck(this, Wi);

    this.count = e, this.unchangedNames = t;
  };

  var Gi, Qi;

  function Xi(e) {
    switch (e) {
      default:
        return Pt();

      case Ot.CANCELLED:
      case Ot.UNKNOWN:
      case Ot.DEADLINE_EXCEEDED:
      case Ot.RESOURCE_EXHAUSTED:
      case Ot.INTERNAL:
      case Ot.UNAVAILABLE:
      case Ot.UNAUTHENTICATED:
        return !1;

      case Ot.INVALID_ARGUMENT:
      case Ot.NOT_FOUND:
      case Ot.ALREADY_EXISTS:
      case Ot.PERMISSION_DENIED:
      case Ot.FAILED_PRECONDITION:
      case Ot.ABORTED:
      case Ot.OUT_OF_RANGE:
      case Ot.UNIMPLEMENTED:
      case Ot.DATA_LOSS:
        return !0;
    }
  }

  function Yi(e) {
    if (void 0 === e) return Nt("GRPC error has no .code"), Ot.UNKNOWN;

    switch (e) {
      case Gi.OK:
        return Ot.OK;

      case Gi.CANCELLED:
        return Ot.CANCELLED;

      case Gi.UNKNOWN:
        return Ot.UNKNOWN;

      case Gi.DEADLINE_EXCEEDED:
        return Ot.DEADLINE_EXCEEDED;

      case Gi.RESOURCE_EXHAUSTED:
        return Ot.RESOURCE_EXHAUSTED;

      case Gi.INTERNAL:
        return Ot.INTERNAL;

      case Gi.UNAVAILABLE:
        return Ot.UNAVAILABLE;

      case Gi.UNAUTHENTICATED:
        return Ot.UNAUTHENTICATED;

      case Gi.INVALID_ARGUMENT:
        return Ot.INVALID_ARGUMENT;

      case Gi.NOT_FOUND:
        return Ot.NOT_FOUND;

      case Gi.ALREADY_EXISTS:
        return Ot.ALREADY_EXISTS;

      case Gi.PERMISSION_DENIED:
        return Ot.PERMISSION_DENIED;

      case Gi.FAILED_PRECONDITION:
        return Ot.FAILED_PRECONDITION;

      case Gi.ABORTED:
        return Ot.ABORTED;

      case Gi.OUT_OF_RANGE:
        return Ot.OUT_OF_RANGE;

      case Gi.UNIMPLEMENTED:
        return Ot.UNIMPLEMENTED;

      case Gi.DATA_LOSS:
        return Ot.DATA_LOSS;

      default:
        return Pt();
    }
  }

  (Qi = Gi || (Gi = {}))[Qi.OK = 0] = "OK", Qi[Qi.CANCELLED = 1] = "CANCELLED", Qi[Qi.UNKNOWN = 2] = "UNKNOWN", Qi[Qi.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", Qi[Qi.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", Qi[Qi.NOT_FOUND = 5] = "NOT_FOUND", Qi[Qi.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", Qi[Qi.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", Qi[Qi.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", Qi[Qi.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", Qi[Qi.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", Qi[Qi.ABORTED = 10] = "ABORTED", Qi[Qi.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", Qi[Qi.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", Qi[Qi.INTERNAL = 13] = "INTERNAL", Qi[Qi.UNAVAILABLE = 14] = "UNAVAILABLE", Qi[Qi.DATA_LOSS = 15] = "DATA_LOSS";
  var Ji = null;

  function Zi() {
    return new TextEncoder();
  }

  var es = new at([4294967295, 4294967295], 0);

  function ts(e) {
    var t = Zi().encode(e),
        n = new lt();
    return n.update(t), new Uint8Array(n.digest());
  }

  function ns(e) {
    var t = new DataView(e.buffer),
        n = t.getUint32(0, !0),
        r = t.getUint32(4, !0),
        i = t.getUint32(8, !0),
        s = t.getUint32(12, !0);
    return [new at([n, r], 0), new at([i, s], 0)];
  }

  var rs =
  /*#__PURE__*/
  function () {
    function rs(e, t, n) {
      _classCallCheck(this, rs);

      if (this.bitmap = e, this.padding = t, this.hashCount = n, t < 0 || t >= 8) throw new is("Invalid padding: ".concat(t));
      if (n < 0) throw new is("Invalid hash count: ".concat(n));
      if (e.length > 0 && 0 === this.hashCount) throw new is("Invalid hash count: ".concat(n));
      if (0 === e.length && 0 !== t) throw new is("Invalid padding when bitmap length is 0: ".concat(t));
      this.Ie = 8 * e.length - t, this.Te = at.fromNumber(this.Ie);
    }

    _createClass(rs, [{
      key: "Ee",
      value: function Ee(e, t, n) {
        var r = e.add(t.multiply(at.fromNumber(n)));
        return 1 === r.compare(es) && (r = new at([r.getBits(0), r.getBits(1)], 0)), r.modulo(this.Te).toNumber();
      }
    }, {
      key: "de",
      value: function de(e) {
        return 0 != (this.bitmap[Math.floor(e / 8)] & 1 << e % 8);
      }
    }, {
      key: "mightContain",
      value: function mightContain(e) {
        if (0 === this.Ie) return !1;

        var t = ts(e),
            _ns = ns(t),
            _ns2 = _slicedToArray(_ns, 2),
            n = _ns2[0],
            r = _ns2[1];

        for (var _i49 = 0; _i49 < this.hashCount; _i49++) {
          var _e34 = this.Ee(n, r, _i49);

          if (!this.de(_e34)) return !1;
        }

        return !0;
      }
    }, {
      key: "insert",
      value: function insert(e) {
        if (0 === this.Ie) return;

        var t = ts(e),
            _ns3 = ns(t),
            _ns4 = _slicedToArray(_ns3, 2),
            n = _ns4[0],
            r = _ns4[1];

        for (var _i50 = 0; _i50 < this.hashCount; _i50++) {
          var _e35 = this.Ee(n, r, _i50);

          this.Ae(_e35);
        }
      }
    }, {
      key: "Ae",
      value: function Ae(e) {
        var t = Math.floor(e / 8),
            n = e % 8;
        this.bitmap[t] |= 1 << n;
      }
    }], [{
      key: "create",
      value: function create(e, t, n) {
        var r = e % 8 == 0 ? 0 : 8 - e % 8,
            i = new Uint8Array(Math.ceil(e / 8)),
            s = new rs(i, r, t);
        return n.forEach(function (e) {
          return s.insert(e);
        }), s;
      }
    }]);

    return rs;
  }();

  var is =
  /*#__PURE__*/
  function (_Error4) {
    _inherits(is, _Error4);

    function is() {
      var _this41;

      _classCallCheck(this, is);

      _this41 = _possibleConstructorReturn(this, _getPrototypeOf(is).apply(this, arguments)), _this41.name = "BloomFilterError";
      return _this41;
    }

    return is;
  }(_wrapNativeSuper(Error));

  var ss =
  /*#__PURE__*/
  function () {
    function ss(e, t, n, r, i) {
      _classCallCheck(this, ss);

      this.snapshotVersion = e, this.targetChanges = t, this.targetMismatches = n, this.documentUpdates = r, this.resolvedLimboDocuments = i;
    }

    _createClass(ss, null, [{
      key: "createSynthesizedRemoteEventForCurrentChange",
      value: function createSynthesizedRemoteEventForCurrentChange(e, t, n) {
        var r = new Map();
        return r.set(e, os.createSynthesizedTargetChangeForCurrentChange(e, t, n)), new ss(Xt.min(), r, new Tn(Wt), ti(), ci());
      }
    }]);

    return ss;
  }();

  var os =
  /*#__PURE__*/
  function () {
    function os(e, t, n, r, i) {
      _classCallCheck(this, os);

      this.resumeToken = e, this.current = t, this.addedDocuments = n, this.modifiedDocuments = r, this.removedDocuments = i;
    }

    _createClass(os, null, [{
      key: "createSynthesizedTargetChangeForCurrentChange",
      value: function createSynthesizedTargetChangeForCurrentChange(e, t, n) {
        return new os(n, t, ci(), ci(), ci());
      }
    }]);

    return os;
  }();

  var as = function as(e, t, n, r) {
    _classCallCheck(this, as);

    this.Re = e, this.removedTargetIds = t, this.key = n, this.Ve = r;
  };

  var ls = function ls(e, t) {
    _classCallCheck(this, ls);

    this.targetId = e, this.me = t;
  };

  var us = function us(e, t) {
    _classCallCheck(this, us);

    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : xn.EMPTY_BYTE_STRING,
        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
    this.state = e, this.targetIds = t, this.resumeToken = n, this.cause = r;
  };

  var cs =
  /*#__PURE__*/
  function () {
    function cs() {
      _classCallCheck(this, cs);

      this.fe = 0, this.ge = fs(), this.pe = xn.EMPTY_BYTE_STRING, this.ye = !1, this.we = !0;
    }

    _createClass(cs, [{
      key: "De",
      value: function De(e) {
        e.approximateByteSize() > 0 && (this.we = !0, this.pe = e);
      }
    }, {
      key: "ve",
      value: function ve() {
        var e = ci(),
            t = ci(),
            n = ci();
        return this.ge.forEach(function (r, i) {
          switch (i) {
            case 0:
              e = e.add(r);
              break;

            case 2:
              t = t.add(r);
              break;

            case 1:
              n = n.add(r);
              break;

            default:
              Pt();
          }
        }), new os(this.pe, this.ye, e, t, n);
      }
    }, {
      key: "Ce",
      value: function Ce() {
        this.we = !1, this.ge = fs();
      }
    }, {
      key: "Fe",
      value: function Fe(e, t) {
        this.we = !0, this.ge = this.ge.insert(e, t);
      }
    }, {
      key: "Me",
      value: function Me(e) {
        this.we = !0, this.ge = this.ge.remove(e);
      }
    }, {
      key: "xe",
      value: function xe() {
        this.fe += 1;
      }
    }, {
      key: "Oe",
      value: function Oe() {
        this.fe -= 1, xt(this.fe >= 0);
      }
    }, {
      key: "Ne",
      value: function Ne() {
        this.we = !0, this.ye = !0;
      }
    }, {
      key: "current",
      get: function get() {
        return this.ye;
      }
    }, {
      key: "resumeToken",
      get: function get() {
        return this.pe;
      }
    }, {
      key: "Se",
      get: function get() {
        return 0 !== this.fe;
      }
    }, {
      key: "be",
      get: function get() {
        return this.we;
      }
    }]);

    return cs;
  }();

  var hs =
  /*#__PURE__*/
  function () {
    function hs(e) {
      _classCallCheck(this, hs);

      this.Le = e, this.Be = new Map(), this.ke = ti(), this.qe = ds(), this.Qe = new Tn(Wt);
    }

    _createClass(hs, [{
      key: "Ke",
      value: function Ke(e) {
        var _iteratorNormalCompletion35 = true;
        var _didIteratorError35 = false;
        var _iteratorError35 = undefined;

        try {
          for (var _iterator35 = e.Re[Symbol.iterator](), _step35; !(_iteratorNormalCompletion35 = (_step35 = _iterator35.next()).done); _iteratorNormalCompletion35 = true) {
            var t = _step35.value;
            e.Ve && e.Ve.isFoundDocument() ? this.$e(t, e.Ve) : this.Ue(t, e.key, e.Ve);
          }
        } catch (err) {
          _didIteratorError35 = true;
          _iteratorError35 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion35 && _iterator35["return"] != null) {
              _iterator35["return"]();
            }
          } finally {
            if (_didIteratorError35) {
              throw _iteratorError35;
            }
          }
        }

        var _iteratorNormalCompletion36 = true;
        var _didIteratorError36 = false;
        var _iteratorError36 = undefined;

        try {
          for (var _iterator36 = e.removedTargetIds[Symbol.iterator](), _step36; !(_iteratorNormalCompletion36 = (_step36 = _iterator36.next()).done); _iteratorNormalCompletion36 = true) {
            var _t20 = _step36.value;
            this.Ue(_t20, e.key, e.Ve);
          }
        } catch (err) {
          _didIteratorError36 = true;
          _iteratorError36 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion36 && _iterator36["return"] != null) {
              _iterator36["return"]();
            }
          } finally {
            if (_didIteratorError36) {
              throw _iteratorError36;
            }
          }
        }
      }
    }, {
      key: "We",
      value: function We(e) {
        var _this42 = this;

        this.forEachTarget(e, function (t) {
          var n = _this42.Ge(t);

          switch (e.state) {
            case 0:
              _this42.ze(t) && n.De(e.resumeToken);
              break;

            case 1:
              n.Oe(), n.Se || n.Ce(), n.De(e.resumeToken);
              break;

            case 2:
              n.Oe(), n.Se || _this42.removeTarget(t);
              break;

            case 3:
              _this42.ze(t) && (n.Ne(), n.De(e.resumeToken));
              break;

            case 4:
              _this42.ze(t) && (_this42.je(t), n.De(e.resumeToken));
              break;

            default:
              Pt();
          }
        });
      }
    }, {
      key: "forEachTarget",
      value: function forEachTarget(e, t) {
        var _this43 = this;

        e.targetIds.length > 0 ? e.targetIds.forEach(t) : this.Be.forEach(function (e, n) {
          _this43.ze(n) && t(n);
        });
      }
    }, {
      key: "He",
      value: function He(e) {
        var t = e.targetId,
            n = e.me.count,
            r = this.Je(t);

        if (r) {
          var _i51 = r.target;
          if (Lr(_i51)) {
            if (0 === n) {
              var _e36 = new tn(_i51.path);

              this.Ue(t, _e36, lr.newNoDocument(_e36, Xt.min()));
            } else xt(1 === n);
          } else {
            var _r39 = this.Ye(t);

            if (_r39 !== n) {
              var _n29 = this.Ze(e),
                  _i52 = _n29 ? this.Xe(_n29, e, _r39) : 1;

              if (0 !== _i52) {
                this.je(t);

                var _e37 = 2 === _i52 ? "TargetPurposeExistenceFilterMismatchBloom" : "TargetPurposeExistenceFilterMismatch";

                this.Qe = this.Qe.insert(t, _e37);
              }

              null == Ji || Ji.et(function (e, t, n, r, i) {
                var s, o, a, l, u, c;
                var h = {
                  localCacheCount: e,
                  existenceFilterCount: t.count,
                  databaseId: n.database,
                  projectId: n.projectId
                },
                    d = t.unchangedNames;
                return d && (h.bloomFilter = {
                  applied: 0 === i,
                  hashCount: null !== (s = null == d ? void 0 : d.hashCount) && void 0 !== s ? s : 0,
                  bitmapLength: null !== (l = null === (a = null === (o = null == d ? void 0 : d.bits) || void 0 === o ? void 0 : o.bitmap) || void 0 === a ? void 0 : a.length) && void 0 !== l ? l : 0,
                  padding: null !== (c = null === (u = null == d ? void 0 : d.bits) || void 0 === u ? void 0 : u.padding) && void 0 !== c ? c : 0,
                  mightContain: function mightContain(e) {
                    var t;
                    return null !== (t = null == r ? void 0 : r.mightContain(e)) && void 0 !== t && t;
                  }
                }), h;
              }(_r39, e.me, this.Le.tt(), _n29, _i52));
            }
          }
        }
      }
    }, {
      key: "Ze",
      value: function Ze(e) {
        var t = e.me.unchangedNames;
        if (!t || !t.bits) return null;
        var _t$bits = t.bits,
            _t$bits$bitmap = _t$bits.bitmap,
            n = _t$bits$bitmap === void 0 ? "" : _t$bits$bitmap,
            _t$bits$padding = _t$bits.padding,
            r = _t$bits$padding === void 0 ? 0 : _t$bits$padding,
            _t$hashCount = t.hashCount,
            i = _t$hashCount === void 0 ? 0 : _t$hashCount;
        var s, o;

        try {
          s = Mn(n).toUint8Array();
        } catch (e) {
          if (e instanceof Pn) return At("Decoding the base64 bloom filter in existence filter failed (" + e.message + "); ignoring the bloom filter and falling back to full re-query."), null;
          throw e;
        }

        try {
          o = new rs(s, r, i);
        } catch (e) {
          return At(e instanceof is ? "BloomFilter error: " : "Applying bloom filter failed: ", e), null;
        }

        return 0 === o.Ie ? null : o;
      }
    }, {
      key: "Xe",
      value: function Xe(e, t, n) {
        return t.me.count === n - this.nt(e, t.targetId) ? 0 : 2;
      }
    }, {
      key: "nt",
      value: function nt(e, t) {
        var _this44 = this;

        var n = this.Le.getRemoteKeysForTarget(t);
        var r = 0;
        return n.forEach(function (n) {
          var i = _this44.Le.tt(),
              s = "projects/".concat(i.projectId, "/databases/").concat(i.database, "/documents/").concat(n.path.canonicalString());

          e.mightContain(s) || (_this44.Ue(t, n, null), r++);
        }), r;
      }
    }, {
      key: "rt",
      value: function rt(e) {
        var _this45 = this;

        var t = new Map();
        this.Be.forEach(function (n, r) {
          var i = _this45.Je(r);

          if (i) {
            if (n.current && Lr(i.target)) {
              var _t21 = new tn(i.target.path);

              null !== _this45.ke.get(_t21) || _this45.it(r, _t21) || _this45.Ue(r, _t21, lr.newNoDocument(_t21, e));
            }

            n.be && (t.set(r, n.ve()), n.Ce());
          }
        });
        var n = ci();
        this.qe.forEach(function (e, t) {
          var r = !0;
          t.forEachWhile(function (e) {
            var t = _this45.Je(e);

            return !t || "TargetPurposeLimboResolution" === t.purpose || (r = !1, !1);
          }), r && (n = n.add(e));
        }), this.ke.forEach(function (t, n) {
          return n.setReadTime(e);
        });
        var r = new ss(e, t, this.Qe, this.ke, n);
        return this.ke = ti(), this.qe = ds(), this.Qe = new Tn(Wt), r;
      }
    }, {
      key: "$e",
      value: function $e(e, t) {
        if (!this.ze(e)) return;
        var n = this.it(e, t.key) ? 2 : 0;
        this.Ge(e).Fe(t.key, n), this.ke = this.ke.insert(t.key, t), this.qe = this.qe.insert(t.key, this.st(t.key).add(e));
      }
    }, {
      key: "Ue",
      value: function Ue(e, t, n) {
        if (!this.ze(e)) return;
        var r = this.Ge(e);
        this.it(e, t) ? r.Fe(t, 1) : r.Me(t), this.qe = this.qe.insert(t, this.st(t)["delete"](e)), n && (this.ke = this.ke.insert(t, n));
      }
    }, {
      key: "removeTarget",
      value: function removeTarget(e) {
        this.Be["delete"](e);
      }
    }, {
      key: "Ye",
      value: function Ye(e) {
        var t = this.Ge(e).ve();
        return this.Le.getRemoteKeysForTarget(e).size + t.addedDocuments.size - t.removedDocuments.size;
      }
    }, {
      key: "xe",
      value: function xe(e) {
        this.Ge(e).xe();
      }
    }, {
      key: "Ge",
      value: function Ge(e) {
        var t = this.Be.get(e);
        return t || (t = new cs(), this.Be.set(e, t)), t;
      }
    }, {
      key: "st",
      value: function st(e) {
        var t = this.qe.get(e);
        return t || (t = new Nn(Wt), this.qe = this.qe.insert(e, t)), t;
      }
    }, {
      key: "ze",
      value: function ze(e) {
        var t = null !== this.Je(e);
        return t || Ct("WatchChangeAggregator", "Detected inactive target", e), t;
      }
    }, {
      key: "Je",
      value: function Je(e) {
        var t = this.Be.get(e);
        return t && t.Se ? null : this.Le.ot(e);
      }
    }, {
      key: "je",
      value: function je(e) {
        var _this46 = this;

        this.Be.set(e, new cs()), this.Le.getRemoteKeysForTarget(e).forEach(function (t) {
          _this46.Ue(e, t, null);
        });
      }
    }, {
      key: "it",
      value: function it(e, t) {
        return this.Le.getRemoteKeysForTarget(e).has(t);
      }
    }]);

    return hs;
  }();

  function ds() {
    return new Tn(tn.comparator);
  }

  function fs() {
    return new Tn(tn.comparator);
  }

  var ps = {
    asc: "ASCENDING",
    desc: "DESCENDING"
  },
      gs = {
    "<": "LESS_THAN",
    "<=": "LESS_THAN_OR_EQUAL",
    ">": "GREATER_THAN",
    ">=": "GREATER_THAN_OR_EQUAL",
    "==": "EQUAL",
    "!=": "NOT_EQUAL",
    "array-contains": "ARRAY_CONTAINS",
    "in": "IN",
    "not-in": "NOT_IN",
    "array-contains-any": "ARRAY_CONTAINS_ANY"
  },
      ms = {
    and: "AND",
    or: "OR"
  };

  var vs = function vs(e, t) {
    _classCallCheck(this, vs);

    this.databaseId = e, this.useProto3Json = t;
  };

  function ys(e, t) {
    return e.useProto3Json || gn(t) ? t : {
      value: t
    };
  }

  function ws(e, t) {
    return e.useProto3Json ? "".concat(new Date(1e3 * t.seconds).toISOString().replace(/\.\d*/, "").replace("Z", ""), ".").concat(("000000000" + t.nanoseconds).slice(-9), "Z") : {
      seconds: "" + t.seconds,
      nanos: t.nanoseconds
    };
  }

  function bs(e, t) {
    return e.useProto3Json ? t.toBase64() : t.toUint8Array();
  }

  function _s(e, t) {
    return ws(e, t.toTimestamp());
  }

  function Es(e) {
    return xt(!!e), Xt.fromTimestamp(function (e) {
      var t = On(e);
      return new Qt(t.seconds, t.nanos);
    }(e));
  }

  function Ss(e, t) {
    return ks(e, t).canonicalString();
  }

  function ks(e, t) {
    var n = function (e) {
      return new Jt(["projects", e.projectId, "databases", e.database]);
    }(e).child("documents");

    return void 0 === t ? n : n.child(t);
  }

  function Ts(e) {
    var t = Jt.fromString(e);
    return xt(Hs(t)), t;
  }

  function Is(e, t) {
    return Ss(e.databaseId, t.path);
  }

  function Cs(e, t) {
    var n = Ts(t);
    if (n.get(1) !== e.databaseId.projectId) throw new Lt(Ot.INVALID_ARGUMENT, "Tried to deserialize key from different project: " + n.get(1) + " vs " + e.databaseId.projectId);
    if (n.get(3) !== e.databaseId.database) throw new Lt(Ot.INVALID_ARGUMENT, "Tried to deserialize key from different database: " + n.get(3) + " vs " + e.databaseId.database);
    return new tn(Ps(n));
  }

  function Ns(e, t) {
    return Ss(e.databaseId, t);
  }

  function As(e) {
    var t = Ts(e);
    return 4 === t.length ? Jt.emptyPath() : Ps(t);
  }

  function Rs(e) {
    return new Jt(["projects", e.databaseId.projectId, "databases", e.databaseId.database]).canonicalString();
  }

  function Ps(e) {
    return xt(e.length > 4 && "documents" === e.get(4)), e.popFirst(5);
  }

  function xs(e, t, n) {
    return {
      name: Is(e, t),
      fields: n.value.mapValue.fields
    };
  }

  function Ds(e, t) {
    var n;
    if (t instanceof Fi) n = {
      update: xs(e, t.key, t.value)
    };else if (t instanceof Bi) n = {
      "delete": Is(e, t.key)
    };else if (t instanceof Ui) n = {
      update: xs(e, t.key, t.data),
      updateMask: qs(t.fieldMask)
    };else {
      if (!(t instanceof $i)) return Pt();
      n = {
        verify: Is(e, t.key)
      };
    }
    return t.fieldTransforms.length > 0 && (n.updateTransforms = t.fieldTransforms.map(function (e) {
      return function (e, t) {
        var n = t.transform;
        if (n instanceof bi) return {
          fieldPath: t.field.canonicalString(),
          setToServerValue: "REQUEST_TIME"
        };
        if (n instanceof _i) return {
          fieldPath: t.field.canonicalString(),
          appendMissingElements: {
            values: n.elements
          }
        };
        if (n instanceof Si) return {
          fieldPath: t.field.canonicalString(),
          removeAllFromArray: {
            values: n.elements
          }
        };
        if (n instanceof Ti) return {
          fieldPath: t.field.canonicalString(),
          increment: n.Pe
        };
        throw Pt();
      }(0, e);
    })), t.precondition.isNone || (n.currentDocument = function (e, t) {
      return void 0 !== t.updateTime ? {
        updateTime: _s(e, t.updateTime)
      } : void 0 !== t.exists ? {
        exists: t.exists
      } : Pt();
    }(e, t.precondition)), n;
  }

  function Os(e, t) {
    return {
      documents: [Ns(e, t.path)]
    };
  }

  function Ls(e, t) {
    var n = {
      structuredQuery: {}
    },
        r = t.path;
    var i;
    null !== t.collectionGroup ? (i = r, n.structuredQuery.from = [{
      collectionId: t.collectionGroup,
      allDescendants: !0
    }]) : (i = r.popLast(), n.structuredQuery.from = [{
      collectionId: r.lastSegment()
    }]), n.parent = Ns(e, i);

    var s = function (e) {
      if (0 !== e.length) return $s(mr.create(e, "and"));
    }(t.filters);

    s && (n.structuredQuery.where = s);

    var o = function (e) {
      if (0 !== e.length) return e.map(function (e) {
        return function (e) {
          return {
            field: js(e.field),
            direction: Us(e.dir)
          };
        }(e);
      });
    }(t.orderBy);

    o && (n.structuredQuery.orderBy = o);
    var a = ys(e, t.limit);
    return null !== a && (n.structuredQuery.limit = a), t.startAt && (n.structuredQuery.startAt = function (e) {
      return {
        before: e.inclusive,
        values: e.position
      };
    }(t.startAt)), t.endAt && (n.structuredQuery.endAt = function (e) {
      return {
        before: !e.inclusive,
        values: e.position
      };
    }(t.endAt)), {
      _t: n,
      parent: i
    };
  }

  function Ms(e) {
    var t = As(e.parent);
    var n = e.structuredQuery,
        r = n.from ? n.from.length : 0;
    var i = null;

    if (r > 0) {
      xt(1 === r);
      var _e38 = n.from[0];
      _e38.allDescendants ? i = _e38.collectionId : t = t.child(_e38.collectionId);
    }

    var s = [];
    n.where && (s = function (e) {
      var t = Fs(e);
      return t instanceof mr && yr(t) ? t.getFilters() : [t];
    }(n.where));
    var o = [];
    n.orderBy && (o = function (e) {
      return e.map(function (e) {
        return function (e) {
          return new dr(Bs(e.field), function (e) {
            switch (e) {
              case "ASCENDING":
                return "asc";

              case "DESCENDING":
                return "desc";

              default:
                return;
            }
          }(e.direction));
        }(e);
      });
    }(n.orderBy));
    var a = null;
    n.limit && (a = function (e) {
      var t;
      return t = "object" == _typeof(e) ? e.value : e, gn(t) ? null : t;
    }(n.limit));
    var l = null;
    n.startAt && (l = function (e) {
      var t = !!e.before,
          n = e.values || [];
      return new ur(n, t);
    }(n.startAt));
    var u = null;
    return n.endAt && (u = function (e) {
      var t = !e.before,
          n = e.values || [];
      return new ur(n, t);
    }(n.endAt)), Fr(t, i, o, s, a, "F", l, u);
  }

  function Fs(e) {
    return void 0 !== e.unaryFilter ? function (e) {
      switch (e.unaryFilter.op) {
        case "IS_NAN":
          var t = Bs(e.unaryFilter.field);
          return gr.create(t, "==", {
            doubleValue: NaN
          });

        case "IS_NULL":
          var n = Bs(e.unaryFilter.field);
          return gr.create(n, "==", {
            nullValue: "NULL_VALUE"
          });

        case "IS_NOT_NAN":
          var _r40 = Bs(e.unaryFilter.field);

          return gr.create(_r40, "!=", {
            doubleValue: NaN
          });

        case "IS_NOT_NULL":
          var _i53 = Bs(e.unaryFilter.field);

          return gr.create(_i53, "!=", {
            nullValue: "NULL_VALUE"
          });

        default:
          return Pt();
      }
    }(e) : void 0 !== e.fieldFilter ? function (e) {
      return gr.create(Bs(e.fieldFilter.field), function (e) {
        switch (e) {
          case "EQUAL":
            return "==";

          case "NOT_EQUAL":
            return "!=";

          case "GREATER_THAN":
            return ">";

          case "GREATER_THAN_OR_EQUAL":
            return ">=";

          case "LESS_THAN":
            return "<";

          case "LESS_THAN_OR_EQUAL":
            return "<=";

          case "ARRAY_CONTAINS":
            return "array-contains";

          case "IN":
            return "in";

          case "NOT_IN":
            return "not-in";

          case "ARRAY_CONTAINS_ANY":
            return "array-contains-any";

          default:
            return Pt();
        }
      }(e.fieldFilter.op), e.fieldFilter.value);
    }(e) : void 0 !== e.compositeFilter ? function (e) {
      return mr.create(e.compositeFilter.filters.map(function (e) {
        return Fs(e);
      }), function (e) {
        switch (e) {
          case "AND":
            return "and";

          case "OR":
            return "or";

          default:
            return Pt();
        }
      }(e.compositeFilter.op));
    }(e) : Pt();
  }

  function Us(e) {
    return ps[e];
  }

  function Vs(e) {
    return gs[e];
  }

  function zs(e) {
    return ms[e];
  }

  function js(e) {
    return {
      fieldPath: e.canonicalString()
    };
  }

  function Bs(e) {
    return en.fromServerFormat(e.fieldPath);
  }

  function $s(e) {
    return e instanceof gr ? function (e) {
      if ("==" === e.op) {
        if (tr(e.value)) return {
          unaryFilter: {
            field: js(e.field),
            op: "IS_NAN"
          }
        };
        if (er(e.value)) return {
          unaryFilter: {
            field: js(e.field),
            op: "IS_NULL"
          }
        };
      } else if ("!=" === e.op) {
        if (tr(e.value)) return {
          unaryFilter: {
            field: js(e.field),
            op: "IS_NOT_NAN"
          }
        };
        if (er(e.value)) return {
          unaryFilter: {
            field: js(e.field),
            op: "IS_NOT_NULL"
          }
        };
      }

      return {
        fieldFilter: {
          field: js(e.field),
          op: Vs(e.op),
          value: e.value
        }
      };
    }(e) : e instanceof mr ? function (e) {
      var t = e.getFilters().map(function (e) {
        return $s(e);
      });
      return 1 === t.length ? t[0] : {
        compositeFilter: {
          op: zs(e.op),
          filters: t
        }
      };
    }(e) : Pt();
  }

  function qs(e) {
    var t = [];
    return e.fields.forEach(function (e) {
      return t.push(e.canonicalString());
    }), {
      fieldPaths: t
    };
  }

  function Hs(e) {
    return e.length >= 4 && "projects" === e.get(0) && "databases" === e.get(2);
  }

  var Ks =
  /*#__PURE__*/
  function () {
    function Ks(e, t, n, r) {
      _classCallCheck(this, Ks);

      var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : Xt.min(),
          s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : Xt.min(),
          o = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : xn.EMPTY_BYTE_STRING,
          a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : null;
      this.target = e, this.targetId = t, this.purpose = n, this.sequenceNumber = r, this.snapshotVersion = i, this.lastLimboFreeSnapshotVersion = s, this.resumeToken = o, this.expectedCount = a;
    }

    _createClass(Ks, [{
      key: "withSequenceNumber",
      value: function withSequenceNumber(e) {
        return new Ks(this.target, this.targetId, this.purpose, e, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken, this.expectedCount);
      }
    }, {
      key: "withResumeToken",
      value: function withResumeToken(e, t) {
        return new Ks(this.target, this.targetId, this.purpose, this.sequenceNumber, t, this.lastLimboFreeSnapshotVersion, e, null);
      }
    }, {
      key: "withExpectedCount",
      value: function withExpectedCount(e) {
        return new Ks(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken, e);
      }
    }, {
      key: "withLastLimboFreeSnapshotVersion",
      value: function withLastLimboFreeSnapshotVersion(e) {
        return new Ks(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, e, this.resumeToken, this.expectedCount);
      }
    }]);

    return Ks;
  }();

  var Ws = function Ws(e) {
    _classCallCheck(this, Ws);

    this.ct = e;
  };

  function Gs(e) {
    var t = Ms({
      parent: e.parent,
      structuredQuery: e.structuredQuery
    });
    return "LAST" === e.limitType ? Hr(t, t.limit, "L") : t;
  }

  var Qs =
  /*#__PURE__*/
  function () {
    function Qs() {
      _classCallCheck(this, Qs);
    }

    _createClass(Qs, [{
      key: "It",
      value: function It(e, t) {
        this.Tt(e, t), t.Et();
      }
    }, {
      key: "Tt",
      value: function Tt(e, t) {
        if ("nullValue" in e) this.dt(t, 5);else if ("booleanValue" in e) this.dt(t, 10), t.At(e.booleanValue ? 1 : 0);else if ("integerValue" in e) this.dt(t, 15), t.At(Ln(e.integerValue));else if ("doubleValue" in e) {
          var n = Ln(e.doubleValue);
          isNaN(n) ? this.dt(t, 13) : (this.dt(t, 15), mn(n) ? t.At(0) : t.At(n));
        } else if ("timestampValue" in e) {
          var _n30 = e.timestampValue;
          this.dt(t, 20), "string" == typeof _n30 && (_n30 = On(_n30)), t.Rt("".concat(_n30.seconds || "")), t.At(_n30.nanos || 0);
        } else if ("stringValue" in e) this.Vt(e.stringValue, t), this.ft(t);else if ("bytesValue" in e) this.dt(t, 30), t.gt(Mn(e.bytesValue)), this.ft(t);else if ("referenceValue" in e) this.yt(e.referenceValue, t);else if ("geoPointValue" in e) {
          var _n31 = e.geoPointValue;
          this.dt(t, 45), t.At(_n31.latitude || 0), t.At(_n31.longitude || 0);
        } else "mapValue" in e ? sr(e) ? this.dt(t, Number.MAX_SAFE_INTEGER) : rr(e) ? this.wt(e.mapValue, t) : (this.St(e.mapValue, t), this.ft(t)) : "arrayValue" in e ? (this.bt(e.arrayValue, t), this.ft(t)) : Pt();
      }
    }, {
      key: "Vt",
      value: function Vt(e, t) {
        this.dt(t, 25), this.Dt(e, t);
      }
    }, {
      key: "Dt",
      value: function Dt(e, t) {
        t.Rt(e);
      }
    }, {
      key: "St",
      value: function St(e, t) {
        var n = e.fields || {};
        this.dt(t, 55);

        for (var _i54 = 0, _Object$keys = Object.keys(n); _i54 < _Object$keys.length; _i54++) {
          var _r41 = _Object$keys[_i54];
          this.Vt(_r41, t), this.Tt(n[_r41], t);
        }
      }
    }, {
      key: "wt",
      value: function wt(e, t) {
        var n, r;
        var i = e.fields || {};
        this.dt(t, 53);
        var s = "value",
            o = (null === (r = null === (n = i[s].arrayValue) || void 0 === n ? void 0 : n.values) || void 0 === r ? void 0 : r.length) || 0;
        this.dt(t, 15), t.At(Ln(o)), this.Vt(s, t), this.Tt(i[s], t);
      }
    }, {
      key: "bt",
      value: function bt(e, t) {
        var n = e.values || [];
        this.dt(t, 50);
        var _iteratorNormalCompletion37 = true;
        var _didIteratorError37 = false;
        var _iteratorError37 = undefined;

        try {
          for (var _iterator37 = n[Symbol.iterator](), _step37; !(_iteratorNormalCompletion37 = (_step37 = _iterator37.next()).done); _iteratorNormalCompletion37 = true) {
            var _r42 = _step37.value;
            this.Tt(_r42, t);
          }
        } catch (err) {
          _didIteratorError37 = true;
          _iteratorError37 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion37 && _iterator37["return"] != null) {
              _iterator37["return"]();
            }
          } finally {
            if (_didIteratorError37) {
              throw _iteratorError37;
            }
          }
        }
      }
    }, {
      key: "yt",
      value: function yt(e, t) {
        var _this47 = this;

        this.dt(t, 37), tn.fromName(e).path.forEach(function (e) {
          _this47.dt(t, 60), _this47.Dt(e, t);
        });
      }
    }, {
      key: "dt",
      value: function dt(e, t) {
        e.At(t);
      }
    }, {
      key: "ft",
      value: function ft(e) {
        e.At(2);
      }
    }]);

    return Qs;
  }();

  Qs.vt = new Qs();

  var Xs =
  /*#__PURE__*/
  function () {
    function Xs() {
      _classCallCheck(this, Xs);

      this.un = new Ys();
    }

    _createClass(Xs, [{
      key: "addToCollectionParentIndex",
      value: function addToCollectionParentIndex(e, t) {
        return this.un.add(t), hn.resolve();
      }
    }, {
      key: "getCollectionParents",
      value: function getCollectionParents(e, t) {
        return hn.resolve(this.un.getEntries(t));
      }
    }, {
      key: "addFieldIndex",
      value: function addFieldIndex(e, t) {
        return hn.resolve();
      }
    }, {
      key: "deleteFieldIndex",
      value: function deleteFieldIndex(e, t) {
        return hn.resolve();
      }
    }, {
      key: "deleteAllFieldIndexes",
      value: function deleteAllFieldIndexes(e) {
        return hn.resolve();
      }
    }, {
      key: "createTargetIndexes",
      value: function createTargetIndexes(e, t) {
        return hn.resolve();
      }
    }, {
      key: "getDocumentsMatchingTarget",
      value: function getDocumentsMatchingTarget(e, t) {
        return hn.resolve(null);
      }
    }, {
      key: "getIndexType",
      value: function getIndexType(e, t) {
        return hn.resolve(0);
      }
    }, {
      key: "getFieldIndexes",
      value: function getFieldIndexes(e, t) {
        return hn.resolve([]);
      }
    }, {
      key: "getNextCollectionGroupToUpdate",
      value: function getNextCollectionGroupToUpdate(e) {
        return hn.resolve(null);
      }
    }, {
      key: "getMinOffset",
      value: function getMinOffset(e, t) {
        return hn.resolve(on.min());
      }
    }, {
      key: "getMinOffsetFromCollectionGroup",
      value: function getMinOffsetFromCollectionGroup(e, t) {
        return hn.resolve(on.min());
      }
    }, {
      key: "updateCollectionGroup",
      value: function updateCollectionGroup(e, t, n) {
        return hn.resolve();
      }
    }, {
      key: "updateIndexEntries",
      value: function updateIndexEntries(e, t) {
        return hn.resolve();
      }
    }]);

    return Xs;
  }();

  var Ys =
  /*#__PURE__*/
  function () {
    function Ys() {
      _classCallCheck(this, Ys);

      this.index = {};
    }

    _createClass(Ys, [{
      key: "add",
      value: function add(e) {
        var t = e.lastSegment(),
            n = e.popLast(),
            r = this.index[t] || new Nn(Jt.comparator),
            i = !r.has(n);
        return this.index[t] = r.add(n), i;
      }
    }, {
      key: "has",
      value: function has(e) {
        var t = e.lastSegment(),
            n = e.popLast(),
            r = this.index[t];
        return r && r.has(n);
      }
    }, {
      key: "getEntries",
      value: function getEntries(e) {
        return (this.index[e] || new Nn(Jt.comparator)).toArray();
      }
    }]);

    return Ys;
  }();

  new Uint8Array(0);

  var Js =
  /*#__PURE__*/
  function () {
    function Js(e, t, n) {
      _classCallCheck(this, Js);

      this.cacheSizeCollectionThreshold = e, this.percentileToCollect = t, this.maximumSequenceNumbersToCollect = n;
    }

    _createClass(Js, null, [{
      key: "withCacheSize",
      value: function withCacheSize(e) {
        return new Js(e, Js.DEFAULT_COLLECTION_PERCENTILE, Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);
      }
    }]);

    return Js;
  }();

  Js.DEFAULT_COLLECTION_PERCENTILE = 10, Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3, Js.DEFAULT = new Js(41943040, Js.DEFAULT_COLLECTION_PERCENTILE, Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT), Js.DISABLED = new Js(-1, 0, 0);

  var Zs =
  /*#__PURE__*/
  function () {
    function Zs(e) {
      _classCallCheck(this, Zs);

      this.Ln = e;
    }

    _createClass(Zs, [{
      key: "next",
      value: function next() {
        return this.Ln += 2, this.Ln;
      }
    }], [{
      key: "Bn",
      value: function Bn() {
        return new Zs(0);
      }
    }, {
      key: "kn",
      value: function kn() {
        return new Zs(-1);
      }
    }]);

    return Zs;
  }();

  var eo =
  /*#__PURE__*/
  function () {
    function eo() {
      _classCallCheck(this, eo);

      this.changes = new Zr(function (e) {
        return e.toString();
      }, function (e, t) {
        return e.isEqual(t);
      }), this.changesApplied = !1;
    }

    _createClass(eo, [{
      key: "addEntry",
      value: function addEntry(e) {
        this.assertNotApplied(), this.changes.set(e.key, e);
      }
    }, {
      key: "removeEntry",
      value: function removeEntry(e, t) {
        this.assertNotApplied(), this.changes.set(e, lr.newInvalidDocument(e).setReadTime(t));
      }
    }, {
      key: "getEntry",
      value: function getEntry(e, t) {
        this.assertNotApplied();
        var n = this.changes.get(t);
        return void 0 !== n ? hn.resolve(n) : this.getFromCache(e, t);
      }
    }, {
      key: "getEntries",
      value: function getEntries(e, t) {
        return this.getAllFromCache(e, t);
      }
    }, {
      key: "apply",
      value: function apply(e) {
        return this.assertNotApplied(), this.changesApplied = !0, this.applyChanges(e);
      }
    }, {
      key: "assertNotApplied",
      value: function assertNotApplied() {}
    }]);

    return eo;
  }();

  var to = function to(e, t) {
    _classCallCheck(this, to);

    this.overlayedDocument = e, this.mutatedFields = t;
  };

  var no =
  /*#__PURE__*/
  function () {
    function no(e, t, n, r) {
      _classCallCheck(this, no);

      this.remoteDocumentCache = e, this.mutationQueue = t, this.documentOverlayCache = n, this.indexManager = r;
    }

    _createClass(no, [{
      key: "getDocument",
      value: function getDocument(e, t) {
        var _this48 = this;

        var n = null;
        return this.documentOverlayCache.getOverlay(e, t).next(function (r) {
          return n = r, _this48.remoteDocumentCache.getEntry(e, t);
        }).next(function (e) {
          return null !== n && Oi(n.mutation, e, Rn.empty(), Qt.now()), e;
        });
      }
    }, {
      key: "getDocuments",
      value: function getDocuments(e, t) {
        var _this49 = this;

        return this.remoteDocumentCache.getEntries(e, t).next(function (t) {
          return _this49.getLocalViewOfDocuments(e, t, ci()).next(function () {
            return t;
          });
        });
      }
    }, {
      key: "getLocalViewOfDocuments",
      value: function getLocalViewOfDocuments(e, t) {
        var _this50 = this;

        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ci();
        var r = si();
        return this.populateOverlays(e, r, t).next(function () {
          return _this50.computeViews(e, t, r, n).next(function (e) {
            var t = ri();
            return e.forEach(function (e, n) {
              t = t.insert(e, n.overlayedDocument);
            }), t;
          });
        });
      }
    }, {
      key: "getOverlayedDocuments",
      value: function getOverlayedDocuments(e, t) {
        var _this51 = this;

        var n = si();
        return this.populateOverlays(e, n, t).next(function () {
          return _this51.computeViews(e, t, n, ci());
        });
      }
    }, {
      key: "populateOverlays",
      value: function populateOverlays(e, t, n) {
        var r = [];
        return n.forEach(function (e) {
          t.has(e) || r.push(e);
        }), this.documentOverlayCache.getOverlays(e, r).next(function (e) {
          e.forEach(function (e, n) {
            t.set(e, n);
          });
        });
      }
    }, {
      key: "computeViews",
      value: function computeViews(e, t, n, r) {
        var i = ti();
        var s = ai(),
            o = ai();
        return t.forEach(function (e, t) {
          var o = n.get(t.key);
          r.has(t.key) && (void 0 === o || o.mutation instanceof Ui) ? i = i.insert(t.key, t) : void 0 !== o ? (s.set(t.key, o.mutation.getFieldMask()), Oi(o.mutation, t, o.mutation.getFieldMask(), Qt.now())) : s.set(t.key, Rn.empty());
        }), this.recalculateAndSaveOverlays(e, i).next(function (e) {
          return e.forEach(function (e, t) {
            return s.set(e, t);
          }), t.forEach(function (e, t) {
            var n;
            return o.set(e, new to(t, null !== (n = s.get(e)) && void 0 !== n ? n : null));
          }), o;
        });
      }
    }, {
      key: "recalculateAndSaveOverlays",
      value: function recalculateAndSaveOverlays(e, t) {
        var _this52 = this;

        var n = ai();
        var r = new Tn(function (e, t) {
          return e - t;
        }),
            i = ci();
        return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e, t).next(function (e) {
          var _iteratorNormalCompletion38 = true;
          var _didIteratorError38 = false;
          var _iteratorError38 = undefined;

          try {
            var _loop7 = function _loop7() {
              var i = _step38.value;
              i.keys().forEach(function (e) {
                var s = t.get(e);
                if (null === s) return;
                var o = n.get(e) || Rn.empty();
                o = i.applyToLocalView(s, o), n.set(e, o);
                var a = (r.get(i.batchId) || ci()).add(e);
                r = r.insert(i.batchId, a);
              });
            };

            for (var _iterator38 = e[Symbol.iterator](), _step38; !(_iteratorNormalCompletion38 = (_step38 = _iterator38.next()).done); _iteratorNormalCompletion38 = true) {
              _loop7();
            }
          } catch (err) {
            _didIteratorError38 = true;
            _iteratorError38 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion38 && _iterator38["return"] != null) {
                _iterator38["return"]();
              }
            } finally {
              if (_didIteratorError38) {
                throw _iteratorError38;
              }
            }
          }
        }).next(function () {
          var s = [],
              o = r.getReverseIterator();

          var _loop8 = function _loop8() {
            var r = o.getNext(),
                a = r.key,
                l = r.value,
                u = oi();
            l.forEach(function (e) {
              if (!i.has(e)) {
                var _r43 = xi(t.get(e), n.get(e));

                null !== _r43 && u.set(e, _r43), i = i.add(e);
              }
            }), s.push(_this52.documentOverlayCache.saveOverlays(e, a, u));
          };

          for (; o.hasNext();) {
            _loop8();
          }

          return hn.waitFor(s);
        }).next(function () {
          return n;
        });
      }
    }, {
      key: "recalculateAndSaveOverlaysForDocumentKeys",
      value: function recalculateAndSaveOverlaysForDocumentKeys(e, t) {
        var _this53 = this;

        return this.remoteDocumentCache.getEntries(e, t).next(function (t) {
          return _this53.recalculateAndSaveOverlays(e, t);
        });
      }
    }, {
      key: "getDocumentsMatchingQuery",
      value: function getDocumentsMatchingQuery(e, t, n, r) {
        return function (e) {
          return tn.isDocumentKey(e.path) && null === e.collectionGroup && 0 === e.filters.length;
        }(t) ? this.getDocumentsMatchingDocumentQuery(e, t.path) : zr(t) ? this.getDocumentsMatchingCollectionGroupQuery(e, t, n, r) : this.getDocumentsMatchingCollectionQuery(e, t, n, r);
      }
    }, {
      key: "getNextDocuments",
      value: function getNextDocuments(e, t, n, r) {
        var _this54 = this;

        return this.remoteDocumentCache.getAllFromCollectionGroup(e, t, n, r).next(function (i) {
          var s = r - i.size > 0 ? _this54.documentOverlayCache.getOverlaysForCollectionGroup(e, t, n.largestBatchId, r - i.size) : hn.resolve(si());
          var o = -1,
              a = i;
          return s.next(function (t) {
            return hn.forEach(t, function (t, n) {
              return o < n.largestBatchId && (o = n.largestBatchId), i.get(t) ? hn.resolve() : _this54.remoteDocumentCache.getEntry(e, t).next(function (e) {
                a = a.insert(t, e);
              });
            }).next(function () {
              return _this54.populateOverlays(e, t, i);
            }).next(function () {
              return _this54.computeViews(e, a, t, ci());
            }).next(function (e) {
              return {
                batchId: o,
                changes: ii(e)
              };
            });
          });
        });
      }
    }, {
      key: "getDocumentsMatchingDocumentQuery",
      value: function getDocumentsMatchingDocumentQuery(e, t) {
        return this.getDocument(e, new tn(t)).next(function (e) {
          var t = ri();
          return e.isFoundDocument() && (t = t.insert(e.key, e)), t;
        });
      }
    }, {
      key: "getDocumentsMatchingCollectionGroupQuery",
      value: function getDocumentsMatchingCollectionGroupQuery(e, t, n, r) {
        var _this55 = this;

        var i = t.collectionGroup;
        var s = ri();
        return this.indexManager.getCollectionParents(e, i).next(function (o) {
          return hn.forEach(o, function (o) {
            var a = function (e, t) {
              return new Mr(t, null, e.explicitOrderBy.slice(), e.filters.slice(), e.limit, e.limitType, e.startAt, e.endAt);
            }(t, o.child(i));

            return _this55.getDocumentsMatchingCollectionQuery(e, a, n, r).next(function (e) {
              e.forEach(function (e, t) {
                s = s.insert(e, t);
              });
            });
          }).next(function () {
            return s;
          });
        });
      }
    }, {
      key: "getDocumentsMatchingCollectionQuery",
      value: function getDocumentsMatchingCollectionQuery(e, t, n, r) {
        var _this56 = this;

        var i;
        return this.documentOverlayCache.getOverlaysForCollection(e, t.path, n.largestBatchId).next(function (s) {
          return i = s, _this56.remoteDocumentCache.getDocumentsMatchingQuery(e, t, n, i, r);
        }).next(function (e) {
          i.forEach(function (t, n) {
            var r = n.getKey();
            null === e.get(r) && (e = e.insert(r, lr.newInvalidDocument(r)));
          });
          var n = ri();
          return e.forEach(function (e, r) {
            var s = i.get(e);
            void 0 !== s && Oi(s.mutation, r, Rn.empty(), Qt.now()), Qr(t, r) && (n = n.insert(e, r));
          }), n;
        });
      }
    }]);

    return no;
  }();

  var ro =
  /*#__PURE__*/
  function () {
    function ro(e) {
      _classCallCheck(this, ro);

      this.serializer = e, this.hr = new Map(), this.Pr = new Map();
    }

    _createClass(ro, [{
      key: "getBundleMetadata",
      value: function getBundleMetadata(e, t) {
        return hn.resolve(this.hr.get(t));
      }
    }, {
      key: "saveBundleMetadata",
      value: function saveBundleMetadata(e, t) {
        return this.hr.set(t.id, function (e) {
          return {
            id: e.id,
            version: e.version,
            createTime: Es(e.createTime)
          };
        }(t)), hn.resolve();
      }
    }, {
      key: "getNamedQuery",
      value: function getNamedQuery(e, t) {
        return hn.resolve(this.Pr.get(t));
      }
    }, {
      key: "saveNamedQuery",
      value: function saveNamedQuery(e, t) {
        return this.Pr.set(t.name, function (e) {
          return {
            name: e.name,
            query: Gs(e.bundledQuery),
            readTime: Es(e.readTime)
          };
        }(t)), hn.resolve();
      }
    }]);

    return ro;
  }();

  var io =
  /*#__PURE__*/
  function () {
    function io() {
      _classCallCheck(this, io);

      this.overlays = new Tn(tn.comparator), this.Ir = new Map();
    }

    _createClass(io, [{
      key: "getOverlay",
      value: function getOverlay(e, t) {
        return hn.resolve(this.overlays.get(t));
      }
    }, {
      key: "getOverlays",
      value: function getOverlays(e, t) {
        var _this57 = this;

        var n = si();
        return hn.forEach(t, function (t) {
          return _this57.getOverlay(e, t).next(function (e) {
            null !== e && n.set(t, e);
          });
        }).next(function () {
          return n;
        });
      }
    }, {
      key: "saveOverlays",
      value: function saveOverlays(e, t, n) {
        var _this58 = this;

        return n.forEach(function (n, r) {
          _this58.ht(e, t, r);
        }), hn.resolve();
      }
    }, {
      key: "removeOverlaysForBatchId",
      value: function removeOverlaysForBatchId(e, t, n) {
        var _this59 = this;

        var r = this.Ir.get(n);
        return void 0 !== r && (r.forEach(function (e) {
          return _this59.overlays = _this59.overlays.remove(e);
        }), this.Ir["delete"](n)), hn.resolve();
      }
    }, {
      key: "getOverlaysForCollection",
      value: function getOverlaysForCollection(e, t, n) {
        var r = si(),
            i = t.length + 1,
            s = new tn(t.child("")),
            o = this.overlays.getIteratorFrom(s);

        for (; o.hasNext();) {
          var _e39 = o.getNext().value,
              _s17 = _e39.getKey();

          if (!t.isPrefixOf(_s17.path)) break;
          _s17.path.length === i && _e39.largestBatchId > n && r.set(_e39.getKey(), _e39);
        }

        return hn.resolve(r);
      }
    }, {
      key: "getOverlaysForCollectionGroup",
      value: function getOverlaysForCollectionGroup(e, t, n, r) {
        var i = new Tn(function (e, t) {
          return e - t;
        });
        var s = this.overlays.getIterator();

        for (; s.hasNext();) {
          var _e40 = s.getNext().value;

          if (_e40.getKey().getCollectionGroup() === t && _e40.largestBatchId > n) {
            var _t22 = i.get(_e40.largestBatchId);

            null === _t22 && (_t22 = si(), i = i.insert(_e40.largestBatchId, _t22)), _t22.set(_e40.getKey(), _e40);
          }
        }

        var o = si(),
            a = i.getIterator();

        for (; a.hasNext() && (a.getNext().value.forEach(function (e, t) {
          return o.set(e, t);
        }), !(o.size() >= r));) {
          ;
        }

        return hn.resolve(o);
      }
    }, {
      key: "ht",
      value: function ht(e, t, n) {
        var r = this.overlays.get(n.key);

        if (null !== r) {
          var _e41 = this.Ir.get(r.largestBatchId)["delete"](n.key);

          this.Ir.set(r.largestBatchId, _e41);
        }

        this.overlays = this.overlays.insert(n.key, new Ki(t, n));
        var i = this.Ir.get(t);
        void 0 === i && (i = ci(), this.Ir.set(t, i)), this.Ir.set(t, i.add(n.key));
      }
    }]);

    return io;
  }();

  var so =
  /*#__PURE__*/
  function () {
    function so() {
      _classCallCheck(this, so);

      this.sessionToken = xn.EMPTY_BYTE_STRING;
    }

    _createClass(so, [{
      key: "getSessionToken",
      value: function getSessionToken(e) {
        return hn.resolve(this.sessionToken);
      }
    }, {
      key: "setSessionToken",
      value: function setSessionToken(e, t) {
        return this.sessionToken = t, hn.resolve();
      }
    }]);

    return so;
  }();

  var oo =
  /*#__PURE__*/
  function () {
    function oo() {
      _classCallCheck(this, oo);

      this.Tr = new Nn(ao.Er), this.dr = new Nn(ao.Ar);
    }

    _createClass(oo, [{
      key: "isEmpty",
      value: function isEmpty() {
        return this.Tr.isEmpty();
      }
    }, {
      key: "addReference",
      value: function addReference(e, t) {
        var n = new ao(e, t);
        this.Tr = this.Tr.add(n), this.dr = this.dr.add(n);
      }
    }, {
      key: "Rr",
      value: function Rr(e, t) {
        var _this60 = this;

        e.forEach(function (e) {
          return _this60.addReference(e, t);
        });
      }
    }, {
      key: "removeReference",
      value: function removeReference(e, t) {
        this.Vr(new ao(e, t));
      }
    }, {
      key: "mr",
      value: function mr(e, t) {
        var _this61 = this;

        e.forEach(function (e) {
          return _this61.removeReference(e, t);
        });
      }
    }, {
      key: "gr",
      value: function gr(e) {
        var _this62 = this;

        var t = new tn(new Jt([])),
            n = new ao(t, e),
            r = new ao(t, e + 1),
            i = [];
        return this.dr.forEachInRange([n, r], function (e) {
          _this62.Vr(e), i.push(e.key);
        }), i;
      }
    }, {
      key: "pr",
      value: function pr() {
        var _this63 = this;

        this.Tr.forEach(function (e) {
          return _this63.Vr(e);
        });
      }
    }, {
      key: "Vr",
      value: function Vr(e) {
        this.Tr = this.Tr["delete"](e), this.dr = this.dr["delete"](e);
      }
    }, {
      key: "yr",
      value: function yr(e) {
        var t = new tn(new Jt([])),
            n = new ao(t, e),
            r = new ao(t, e + 1);
        var i = ci();
        return this.dr.forEachInRange([n, r], function (e) {
          i = i.add(e.key);
        }), i;
      }
    }, {
      key: "containsKey",
      value: function containsKey(e) {
        var t = new ao(e, 0),
            n = this.Tr.firstAfterOrEqual(t);
        return null !== n && e.isEqual(n.key);
      }
    }]);

    return oo;
  }();

  var ao =
  /*#__PURE__*/
  function () {
    function ao(e, t) {
      _classCallCheck(this, ao);

      this.key = e, this.wr = t;
    }

    _createClass(ao, null, [{
      key: "Er",
      value: function Er(e, t) {
        return tn.comparator(e.key, t.key) || Wt(e.wr, t.wr);
      }
    }, {
      key: "Ar",
      value: function Ar(e, t) {
        return Wt(e.wr, t.wr) || tn.comparator(e.key, t.key);
      }
    }]);

    return ao;
  }();

  var lo =
  /*#__PURE__*/
  function () {
    function lo(e, t) {
      _classCallCheck(this, lo);

      this.indexManager = e, this.referenceDelegate = t, this.mutationQueue = [], this.Sr = 1, this.br = new Nn(ao.Er);
    }

    _createClass(lo, [{
      key: "checkEmpty",
      value: function checkEmpty(e) {
        return hn.resolve(0 === this.mutationQueue.length);
      }
    }, {
      key: "addMutationBatch",
      value: function addMutationBatch(e, t, n, r) {
        var i = this.Sr;
        this.Sr++, this.mutationQueue.length > 0 && this.mutationQueue[this.mutationQueue.length - 1];
        var s = new qi(i, t, n, r);
        this.mutationQueue.push(s);
        var _iteratorNormalCompletion39 = true;
        var _didIteratorError39 = false;
        var _iteratorError39 = undefined;

        try {
          for (var _iterator39 = r[Symbol.iterator](), _step39; !(_iteratorNormalCompletion39 = (_step39 = _iterator39.next()).done); _iteratorNormalCompletion39 = true) {
            var _o10 = _step39.value;
            this.br = this.br.add(new ao(_o10.key, i)), this.indexManager.addToCollectionParentIndex(e, _o10.key.path.popLast());
          }
        } catch (err) {
          _didIteratorError39 = true;
          _iteratorError39 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion39 && _iterator39["return"] != null) {
              _iterator39["return"]();
            }
          } finally {
            if (_didIteratorError39) {
              throw _iteratorError39;
            }
          }
        }

        return hn.resolve(s);
      }
    }, {
      key: "lookupMutationBatch",
      value: function lookupMutationBatch(e, t) {
        return hn.resolve(this.Dr(t));
      }
    }, {
      key: "getNextMutationBatchAfterBatchId",
      value: function getNextMutationBatchAfterBatchId(e, t) {
        var n = t + 1,
            r = this.vr(n),
            i = r < 0 ? 0 : r;
        return hn.resolve(this.mutationQueue.length > i ? this.mutationQueue[i] : null);
      }
    }, {
      key: "getHighestUnacknowledgedBatchId",
      value: function getHighestUnacknowledgedBatchId() {
        return hn.resolve(0 === this.mutationQueue.length ? -1 : this.Sr - 1);
      }
    }, {
      key: "getAllMutationBatches",
      value: function getAllMutationBatches(e) {
        return hn.resolve(this.mutationQueue.slice());
      }
    }, {
      key: "getAllMutationBatchesAffectingDocumentKey",
      value: function getAllMutationBatchesAffectingDocumentKey(e, t) {
        var _this64 = this;

        var n = new ao(t, 0),
            r = new ao(t, Number.POSITIVE_INFINITY),
            i = [];
        return this.br.forEachInRange([n, r], function (e) {
          var t = _this64.Dr(e.wr);

          i.push(t);
        }), hn.resolve(i);
      }
    }, {
      key: "getAllMutationBatchesAffectingDocumentKeys",
      value: function getAllMutationBatchesAffectingDocumentKeys(e, t) {
        var _this65 = this;

        var n = new Nn(Wt);
        return t.forEach(function (e) {
          var t = new ao(e, 0),
              r = new ao(e, Number.POSITIVE_INFINITY);

          _this65.br.forEachInRange([t, r], function (e) {
            n = n.add(e.wr);
          });
        }), hn.resolve(this.Cr(n));
      }
    }, {
      key: "getAllMutationBatchesAffectingQuery",
      value: function getAllMutationBatchesAffectingQuery(e, t) {
        var n = t.path,
            r = n.length + 1;
        var i = n;
        tn.isDocumentKey(i) || (i = i.child(""));
        var s = new ao(new tn(i), 0);
        var o = new Nn(Wt);
        return this.br.forEachWhile(function (e) {
          var t = e.key.path;
          return !!n.isPrefixOf(t) && (t.length === r && (o = o.add(e.wr)), !0);
        }, s), hn.resolve(this.Cr(o));
      }
    }, {
      key: "Cr",
      value: function Cr(e) {
        var _this66 = this;

        var t = [];
        return e.forEach(function (e) {
          var n = _this66.Dr(e);

          null !== n && t.push(n);
        }), t;
      }
    }, {
      key: "removeMutationBatch",
      value: function removeMutationBatch(e, t) {
        var _this67 = this;

        xt(0 === this.Fr(t.batchId, "removed")), this.mutationQueue.shift();
        var n = this.br;
        return hn.forEach(t.mutations, function (r) {
          var i = new ao(r.key, t.batchId);
          return n = n["delete"](i), _this67.referenceDelegate.markPotentiallyOrphaned(e, r.key);
        }).next(function () {
          _this67.br = n;
        });
      }
    }, {
      key: "On",
      value: function On(e) {}
    }, {
      key: "containsKey",
      value: function containsKey(e, t) {
        var n = new ao(t, 0),
            r = this.br.firstAfterOrEqual(n);
        return hn.resolve(t.isEqual(r && r.key));
      }
    }, {
      key: "performConsistencyCheck",
      value: function performConsistencyCheck(e) {
        return this.mutationQueue.length, hn.resolve();
      }
    }, {
      key: "Fr",
      value: function Fr(e, t) {
        return this.vr(e);
      }
    }, {
      key: "vr",
      value: function vr(e) {
        return 0 === this.mutationQueue.length ? 0 : e - this.mutationQueue[0].batchId;
      }
    }, {
      key: "Dr",
      value: function Dr(e) {
        var t = this.vr(e);
        return t < 0 || t >= this.mutationQueue.length ? null : this.mutationQueue[t];
      }
    }]);

    return lo;
  }();

  var uo =
  /*#__PURE__*/
  function () {
    function uo(e) {
      _classCallCheck(this, uo);

      this.Mr = e, this.docs = new Tn(tn.comparator), this.size = 0;
    }

    _createClass(uo, [{
      key: "setIndexManager",
      value: function setIndexManager(e) {
        this.indexManager = e;
      }
    }, {
      key: "addEntry",
      value: function addEntry(e, t) {
        var n = t.key,
            r = this.docs.get(n),
            i = r ? r.size : 0,
            s = this.Mr(t);
        return this.docs = this.docs.insert(n, {
          document: t.mutableCopy(),
          size: s
        }), this.size += s - i, this.indexManager.addToCollectionParentIndex(e, n.path.popLast());
      }
    }, {
      key: "removeEntry",
      value: function removeEntry(e) {
        var t = this.docs.get(e);
        t && (this.docs = this.docs.remove(e), this.size -= t.size);
      }
    }, {
      key: "getEntry",
      value: function getEntry(e, t) {
        var n = this.docs.get(t);
        return hn.resolve(n ? n.document.mutableCopy() : lr.newInvalidDocument(t));
      }
    }, {
      key: "getEntries",
      value: function getEntries(e, t) {
        var _this68 = this;

        var n = ti();
        return t.forEach(function (e) {
          var t = _this68.docs.get(e);

          n = n.insert(e, t ? t.document.mutableCopy() : lr.newInvalidDocument(e));
        }), hn.resolve(n);
      }
    }, {
      key: "getDocumentsMatchingQuery",
      value: function getDocumentsMatchingQuery(e, t, n, r) {
        var i = ti();
        var s = t.path,
            o = new tn(s.child("")),
            a = this.docs.getIteratorFrom(o);

        for (; a.hasNext();) {
          var _a$getNext = a.getNext(),
              _e42 = _a$getNext.key,
              _o11 = _a$getNext.value.document;

          if (!s.isPrefixOf(_e42.path)) break;
          _e42.path.length > s.length + 1 || an(sn(_o11), n) <= 0 || (r.has(_o11.key) || Qr(t, _o11)) && (i = i.insert(_o11.key, _o11.mutableCopy()));
        }

        return hn.resolve(i);
      }
    }, {
      key: "getAllFromCollectionGroup",
      value: function getAllFromCollectionGroup(e, t, n, r) {
        Pt();
      }
    }, {
      key: "Or",
      value: function Or(e, t) {
        return hn.forEach(this.docs, function (e) {
          return t(e);
        });
      }
    }, {
      key: "newChangeBuffer",
      value: function newChangeBuffer(e) {
        return new co(this);
      }
    }, {
      key: "getSize",
      value: function getSize(e) {
        return hn.resolve(this.size);
      }
    }]);

    return uo;
  }();

  var co =
  /*#__PURE__*/
  function (_eo) {
    _inherits(co, _eo);

    function co(e) {
      var _this69;

      _classCallCheck(this, co);

      _this69 = _possibleConstructorReturn(this, _getPrototypeOf(co).call(this)), _this69.cr = e;
      return _this69;
    }

    _createClass(co, [{
      key: "applyChanges",
      value: function applyChanges(e) {
        var _this70 = this;

        var t = [];
        return this.changes.forEach(function (n, r) {
          r.isValidDocument() ? t.push(_this70.cr.addEntry(e, r)) : _this70.cr.removeEntry(n);
        }), hn.waitFor(t);
      }
    }, {
      key: "getFromCache",
      value: function getFromCache(e, t) {
        return this.cr.getEntry(e, t);
      }
    }, {
      key: "getAllFromCache",
      value: function getAllFromCache(e, t) {
        return this.cr.getEntries(e, t);
      }
    }]);

    return co;
  }(eo);

  var ho =
  /*#__PURE__*/
  function () {
    function ho(e) {
      _classCallCheck(this, ho);

      this.persistence = e, this.Nr = new Zr(function (e) {
        return Dr(e);
      }, Or), this.lastRemoteSnapshotVersion = Xt.min(), this.highestTargetId = 0, this.Lr = 0, this.Br = new oo(), this.targetCount = 0, this.kr = Zs.Bn();
    }

    _createClass(ho, [{
      key: "forEachTarget",
      value: function forEachTarget(e, t) {
        return this.Nr.forEach(function (e, n) {
          return t(n);
        }), hn.resolve();
      }
    }, {
      key: "getLastRemoteSnapshotVersion",
      value: function getLastRemoteSnapshotVersion(e) {
        return hn.resolve(this.lastRemoteSnapshotVersion);
      }
    }, {
      key: "getHighestSequenceNumber",
      value: function getHighestSequenceNumber(e) {
        return hn.resolve(this.Lr);
      }
    }, {
      key: "allocateTargetId",
      value: function allocateTargetId(e) {
        return this.highestTargetId = this.kr.next(), hn.resolve(this.highestTargetId);
      }
    }, {
      key: "setTargetsMetadata",
      value: function setTargetsMetadata(e, t, n) {
        return n && (this.lastRemoteSnapshotVersion = n), t > this.Lr && (this.Lr = t), hn.resolve();
      }
    }, {
      key: "Kn",
      value: function Kn(e) {
        this.Nr.set(e.target, e);
        var t = e.targetId;
        t > this.highestTargetId && (this.kr = new Zs(t), this.highestTargetId = t), e.sequenceNumber > this.Lr && (this.Lr = e.sequenceNumber);
      }
    }, {
      key: "addTargetData",
      value: function addTargetData(e, t) {
        return this.Kn(t), this.targetCount += 1, hn.resolve();
      }
    }, {
      key: "updateTargetData",
      value: function updateTargetData(e, t) {
        return this.Kn(t), hn.resolve();
      }
    }, {
      key: "removeTargetData",
      value: function removeTargetData(e, t) {
        return this.Nr["delete"](t.target), this.Br.gr(t.targetId), this.targetCount -= 1, hn.resolve();
      }
    }, {
      key: "removeTargets",
      value: function removeTargets(e, t, n) {
        var _this71 = this;

        var r = 0;
        var i = [];
        return this.Nr.forEach(function (s, o) {
          o.sequenceNumber <= t && null === n.get(o.targetId) && (_this71.Nr["delete"](s), i.push(_this71.removeMatchingKeysForTargetId(e, o.targetId)), r++);
        }), hn.waitFor(i).next(function () {
          return r;
        });
      }
    }, {
      key: "getTargetCount",
      value: function getTargetCount(e) {
        return hn.resolve(this.targetCount);
      }
    }, {
      key: "getTargetData",
      value: function getTargetData(e, t) {
        var n = this.Nr.get(t) || null;
        return hn.resolve(n);
      }
    }, {
      key: "addMatchingKeys",
      value: function addMatchingKeys(e, t, n) {
        return this.Br.Rr(t, n), hn.resolve();
      }
    }, {
      key: "removeMatchingKeys",
      value: function removeMatchingKeys(e, t, n) {
        this.Br.mr(t, n);
        var r = this.persistence.referenceDelegate,
            i = [];
        return r && t.forEach(function (t) {
          i.push(r.markPotentiallyOrphaned(e, t));
        }), hn.waitFor(i);
      }
    }, {
      key: "removeMatchingKeysForTargetId",
      value: function removeMatchingKeysForTargetId(e, t) {
        return this.Br.gr(t), hn.resolve();
      }
    }, {
      key: "getMatchingKeysForTargetId",
      value: function getMatchingKeysForTargetId(e, t) {
        var n = this.Br.yr(t);
        return hn.resolve(n);
      }
    }, {
      key: "containsKey",
      value: function containsKey(e, t) {
        return hn.resolve(this.Br.containsKey(t));
      }
    }]);

    return ho;
  }();

  var fo =
  /*#__PURE__*/
  function () {
    function fo(e, t) {
      var _this72 = this;

      _classCallCheck(this, fo);

      this.qr = {}, this.overlays = {}, this.Qr = new pn(0), this.Kr = !1, this.Kr = !0, this.$r = new so(), this.referenceDelegate = e(this), this.Ur = new ho(this), this.indexManager = new Xs(), this.remoteDocumentCache = function (e) {
        return new uo(e);
      }(function (e) {
        return _this72.referenceDelegate.Wr(e);
      }), this.serializer = new Ws(t), this.Gr = new ro(this.serializer);
    }

    _createClass(fo, [{
      key: "start",
      value: function start() {
        return Promise.resolve();
      }
    }, {
      key: "shutdown",
      value: function shutdown() {
        return this.Kr = !1, Promise.resolve();
      }
    }, {
      key: "setDatabaseDeletedListener",
      value: function setDatabaseDeletedListener() {}
    }, {
      key: "setNetworkEnabled",
      value: function setNetworkEnabled() {}
    }, {
      key: "getIndexManager",
      value: function getIndexManager(e) {
        return this.indexManager;
      }
    }, {
      key: "getDocumentOverlayCache",
      value: function getDocumentOverlayCache(e) {
        var t = this.overlays[e.toKey()];
        return t || (t = new io(), this.overlays[e.toKey()] = t), t;
      }
    }, {
      key: "getMutationQueue",
      value: function getMutationQueue(e, t) {
        var n = this.qr[e.toKey()];
        return n || (n = new lo(t, this.referenceDelegate), this.qr[e.toKey()] = n), n;
      }
    }, {
      key: "getGlobalsCache",
      value: function getGlobalsCache() {
        return this.$r;
      }
    }, {
      key: "getTargetCache",
      value: function getTargetCache() {
        return this.Ur;
      }
    }, {
      key: "getRemoteDocumentCache",
      value: function getRemoteDocumentCache() {
        return this.remoteDocumentCache;
      }
    }, {
      key: "getBundleCache",
      value: function getBundleCache() {
        return this.Gr;
      }
    }, {
      key: "runTransaction",
      value: function runTransaction(e, t, n) {
        var _this73 = this;

        Ct("MemoryPersistence", "Starting transaction:", e);
        var r = new po(this.Qr.next());
        return this.referenceDelegate.zr(), n(r).next(function (e) {
          return _this73.referenceDelegate.jr(r).next(function () {
            return e;
          });
        }).toPromise().then(function (e) {
          return r.raiseOnCommittedEvent(), e;
        });
      }
    }, {
      key: "Hr",
      value: function Hr(e, t) {
        return hn.or(Object.values(this.qr).map(function (n) {
          return function () {
            return n.containsKey(e, t);
          };
        }));
      }
    }, {
      key: "started",
      get: function get() {
        return this.Kr;
      }
    }]);

    return fo;
  }();

  var po =
  /*#__PURE__*/
  function (_un) {
    _inherits(po, _un);

    function po(e) {
      var _this74;

      _classCallCheck(this, po);

      _this74 = _possibleConstructorReturn(this, _getPrototypeOf(po).call(this)), _this74.currentSequenceNumber = e;
      return _this74;
    }

    return po;
  }(un);

  var go =
  /*#__PURE__*/
  function () {
    function go(e) {
      _classCallCheck(this, go);

      this.persistence = e, this.Jr = new oo(), this.Yr = null;
    }

    _createClass(go, [{
      key: "addReference",
      value: function addReference(e, t, n) {
        return this.Jr.addReference(n, t), this.Xr["delete"](n.toString()), hn.resolve();
      }
    }, {
      key: "removeReference",
      value: function removeReference(e, t, n) {
        return this.Jr.removeReference(n, t), this.Xr.add(n.toString()), hn.resolve();
      }
    }, {
      key: "markPotentiallyOrphaned",
      value: function markPotentiallyOrphaned(e, t) {
        return this.Xr.add(t.toString()), hn.resolve();
      }
    }, {
      key: "removeTarget",
      value: function removeTarget(e, t) {
        var _this75 = this;

        this.Jr.gr(t.targetId).forEach(function (e) {
          return _this75.Xr.add(e.toString());
        });
        var n = this.persistence.getTargetCache();
        return n.getMatchingKeysForTargetId(e, t.targetId).next(function (e) {
          e.forEach(function (e) {
            return _this75.Xr.add(e.toString());
          });
        }).next(function () {
          return n.removeTargetData(e, t);
        });
      }
    }, {
      key: "zr",
      value: function zr() {
        this.Yr = new Set();
      }
    }, {
      key: "jr",
      value: function jr(e) {
        var _this76 = this;

        var t = this.persistence.getRemoteDocumentCache().newChangeBuffer();
        return hn.forEach(this.Xr, function (n) {
          var r = tn.fromPath(n);
          return _this76.ei(e, r).next(function (e) {
            e || t.removeEntry(r, Xt.min());
          });
        }).next(function () {
          return _this76.Yr = null, t.apply(e);
        });
      }
    }, {
      key: "updateLimboDocument",
      value: function updateLimboDocument(e, t) {
        var _this77 = this;

        return this.ei(e, t).next(function (e) {
          e ? _this77.Xr["delete"](t.toString()) : _this77.Xr.add(t.toString());
        });
      }
    }, {
      key: "Wr",
      value: function Wr(e) {
        return 0;
      }
    }, {
      key: "ei",
      value: function ei(e, t) {
        var _this78 = this;

        return hn.or([function () {
          return hn.resolve(_this78.Jr.containsKey(t));
        }, function () {
          return _this78.persistence.getTargetCache().containsKey(e, t);
        }, function () {
          return _this78.persistence.Hr(e, t);
        }]);
      }
    }, {
      key: "Xr",
      get: function get() {
        if (this.Yr) return this.Yr;
        throw Pt();
      }
    }], [{
      key: "Zr",
      value: function Zr(e) {
        return new go(e);
      }
    }]);

    return go;
  }();

  var mo =
  /*#__PURE__*/
  function () {
    function mo(e, t, n, r) {
      _classCallCheck(this, mo);

      this.targetId = e, this.fromCache = t, this.$i = n, this.Ui = r;
    }

    _createClass(mo, null, [{
      key: "Wi",
      value: function Wi(e, t) {
        var n = ci(),
            r = ci();
        var _iteratorNormalCompletion40 = true;
        var _didIteratorError40 = false;
        var _iteratorError40 = undefined;

        try {
          for (var _iterator40 = t.docChanges[Symbol.iterator](), _step40; !(_iteratorNormalCompletion40 = (_step40 = _iterator40.next()).done); _iteratorNormalCompletion40 = true) {
            var _i55 = _step40.value;

            switch (_i55.type) {
              case 0:
                n = n.add(_i55.doc.key);
                break;

              case 1:
                r = r.add(_i55.doc.key);
            }
          }
        } catch (err) {
          _didIteratorError40 = true;
          _iteratorError40 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion40 && _iterator40["return"] != null) {
              _iterator40["return"]();
            }
          } finally {
            if (_didIteratorError40) {
              throw _iteratorError40;
            }
          }
        }

        return new mo(e, t.fromCache, n, r);
      }
    }]);

    return mo;
  }();

  var vo =
  /*#__PURE__*/
  function () {
    function vo() {
      _classCallCheck(this, vo);

      this._documentReadCount = 0;
    }

    _createClass(vo, [{
      key: "incrementDocumentReadCount",
      value: function incrementDocumentReadCount(e) {
        this._documentReadCount += e;
      }
    }, {
      key: "documentReadCount",
      get: function get() {
        return this._documentReadCount;
      }
    }]);

    return vo;
  }();

  var yo =
  /*#__PURE__*/
  function () {
    function yo() {
      _classCallCheck(this, yo);

      this.Gi = !1, this.zi = !1, this.ji = 100, this.Hi = y() ? 8 : dn(v()) > 0 ? 6 : 4;
    }

    _createClass(yo, [{
      key: "initialize",
      value: function initialize(e, t) {
        this.Ji = e, this.indexManager = t, this.Gi = !0;
      }
    }, {
      key: "getDocumentsMatchingQuery",
      value: function getDocumentsMatchingQuery(e, t, n, r) {
        var _this79 = this;

        var i = {
          result: null
        };
        return this.Yi(e, t).next(function (e) {
          i.result = e;
        }).next(function () {
          if (!i.result) return _this79.Zi(e, t, r, n).next(function (e) {
            i.result = e;
          });
        }).next(function () {
          if (i.result) return;
          var n = new vo();
          return _this79.Xi(e, t, n).next(function (r) {
            if (i.result = r, _this79.zi) return _this79.es(e, t, n, r.size);
          });
        }).next(function () {
          return i.result;
        });
      }
    }, {
      key: "es",
      value: function es(e, t, n, r) {
        return n.documentReadCount < this.ji ? (It() <= M.DEBUG && Ct("QueryEngine", "SDK will not create cache indexes for query:", Gr(t), "since it only creates cache indexes for collection contains", "more than or equal to", this.ji, "documents"), hn.resolve()) : (It() <= M.DEBUG && Ct("QueryEngine", "Query:", Gr(t), "scans", n.documentReadCount, "local documents and returns", r, "documents as results."), n.documentReadCount > this.Hi * r ? (It() <= M.DEBUG && Ct("QueryEngine", "The SDK decides to create cache indexes for query:", Gr(t), "as using cache indexes may help improve performance."), this.indexManager.createTargetIndexes(e, Br(t))) : hn.resolve());
      }
    }, {
      key: "Yi",
      value: function Yi(e, t) {
        var _this80 = this;

        if (Vr(t)) return hn.resolve(null);
        var n = Br(t);
        return this.indexManager.getIndexType(e, n).next(function (r) {
          return 0 === r ? null : (null !== t.limit && 1 === r && (t = Hr(t, null, "F"), n = Br(t)), _this80.indexManager.getDocumentsMatchingTarget(e, n).next(function (r) {
            var i = ci.apply(void 0, _toConsumableArray(r));
            return _this80.Ji.getDocuments(e, i).next(function (r) {
              return _this80.indexManager.getMinOffset(e, n).next(function (n) {
                var s = _this80.ts(t, r);

                return _this80.ns(t, s, i, n.readTime) ? _this80.Yi(e, Hr(t, null, "F")) : _this80.rs(e, s, t, n);
              });
            });
          }));
        });
      }
    }, {
      key: "Zi",
      value: function Zi(e, t, n, r) {
        var _this81 = this;

        return Vr(t) || r.isEqual(Xt.min()) ? hn.resolve(null) : this.Ji.getDocuments(e, n).next(function (i) {
          var s = _this81.ts(t, i);

          return _this81.ns(t, s, n, r) ? hn.resolve(null) : (It() <= M.DEBUG && Ct("QueryEngine", "Re-using previous result from %s to execute query: %s", r.toString(), Gr(t)), _this81.rs(e, s, t, rn(r, -1)).next(function (e) {
            return e;
          }));
        });
      }
    }, {
      key: "ts",
      value: function ts(e, t) {
        var n = new Nn(Yr(e));
        return t.forEach(function (t, r) {
          Qr(e, r) && (n = n.add(r));
        }), n;
      }
    }, {
      key: "ns",
      value: function ns(e, t, n, r) {
        if (null === e.limit) return !1;
        if (n.size !== t.size) return !0;
        var i = "F" === e.limitType ? t.last() : t.first();
        return !!i && (i.hasPendingWrites || i.version.compareTo(r) > 0);
      }
    }, {
      key: "Xi",
      value: function Xi(e, t, n) {
        return It() <= M.DEBUG && Ct("QueryEngine", "Using full collection scan to execute query:", Gr(t)), this.Ji.getDocumentsMatchingQuery(e, t, on.min(), n);
      }
    }, {
      key: "rs",
      value: function rs(e, t, n, r) {
        return this.Ji.getDocumentsMatchingQuery(e, n, r).next(function (e) {
          return t.forEach(function (t) {
            e = e.insert(t.key, t);
          }), e;
        });
      }
    }]);

    return yo;
  }();

  var wo =
  /*#__PURE__*/
  function () {
    function wo(e, t, n, r) {
      _classCallCheck(this, wo);

      this.persistence = e, this.ss = t, this.serializer = r, this.os = new Tn(Wt), this._s = new Zr(function (e) {
        return Dr(e);
      }, Or), this.us = new Map(), this.cs = e.getRemoteDocumentCache(), this.Ur = e.getTargetCache(), this.Gr = e.getBundleCache(), this.ls(n);
    }

    _createClass(wo, [{
      key: "ls",
      value: function ls(e) {
        this.documentOverlayCache = this.persistence.getDocumentOverlayCache(e), this.indexManager = this.persistence.getIndexManager(e), this.mutationQueue = this.persistence.getMutationQueue(e, this.indexManager), this.localDocuments = new no(this.cs, this.mutationQueue, this.documentOverlayCache, this.indexManager), this.cs.setIndexManager(this.indexManager), this.ss.initialize(this.localDocuments, this.indexManager);
      }
    }, {
      key: "collectGarbage",
      value: function collectGarbage(e) {
        var _this82 = this;

        return this.persistence.runTransaction("Collect garbage", "readwrite-primary", function (t) {
          return e.collect(t, _this82.os);
        });
      }
    }]);

    return wo;
  }();

  function bo(e, t, n, r) {
    return new wo(e, t, n, r);
  }

  function _o(e, t) {
    var n;
    return regeneratorRuntime.async(function _o$(_context13) {
      while (1) {
        switch (_context13.prev = _context13.next) {
          case 0:
            n = Dt(e);
            _context13.next = 3;
            return regeneratorRuntime.awrap(n.persistence.runTransaction("Handle user change", "readonly", function (e) {
              var r;
              return n.mutationQueue.getAllMutationBatches(e).next(function (i) {
                return r = i, n.ls(t), n.mutationQueue.getAllMutationBatches(e);
              }).next(function (t) {
                var i = [],
                    s = [];
                var o = ci();
                var _iteratorNormalCompletion41 = true;
                var _didIteratorError41 = false;
                var _iteratorError41 = undefined;

                try {
                  for (var _iterator41 = r[Symbol.iterator](), _step41; !(_iteratorNormalCompletion41 = (_step41 = _iterator41.next()).done); _iteratorNormalCompletion41 = true) {
                    var _e43 = _step41.value;
                    i.push(_e43.batchId);
                    var _iteratorNormalCompletion43 = true;
                    var _didIteratorError43 = false;
                    var _iteratorError43 = undefined;

                    try {
                      for (var _iterator43 = _e43.mutations[Symbol.iterator](), _step43; !(_iteratorNormalCompletion43 = (_step43 = _iterator43.next()).done); _iteratorNormalCompletion43 = true) {
                        var _t23 = _step43.value;
                        o = o.add(_t23.key);
                      }
                    } catch (err) {
                      _didIteratorError43 = true;
                      _iteratorError43 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion43 && _iterator43["return"] != null) {
                          _iterator43["return"]();
                        }
                      } finally {
                        if (_didIteratorError43) {
                          throw _iteratorError43;
                        }
                      }
                    }
                  }
                } catch (err) {
                  _didIteratorError41 = true;
                  _iteratorError41 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion41 && _iterator41["return"] != null) {
                      _iterator41["return"]();
                    }
                  } finally {
                    if (_didIteratorError41) {
                      throw _iteratorError41;
                    }
                  }
                }

                var _iteratorNormalCompletion42 = true;
                var _didIteratorError42 = false;
                var _iteratorError42 = undefined;

                try {
                  for (var _iterator42 = t[Symbol.iterator](), _step42; !(_iteratorNormalCompletion42 = (_step42 = _iterator42.next()).done); _iteratorNormalCompletion42 = true) {
                    var _e44 = _step42.value;
                    s.push(_e44.batchId);
                    var _iteratorNormalCompletion44 = true;
                    var _didIteratorError44 = false;
                    var _iteratorError44 = undefined;

                    try {
                      for (var _iterator44 = _e44.mutations[Symbol.iterator](), _step44; !(_iteratorNormalCompletion44 = (_step44 = _iterator44.next()).done); _iteratorNormalCompletion44 = true) {
                        var _t24 = _step44.value;
                        o = o.add(_t24.key);
                      }
                    } catch (err) {
                      _didIteratorError44 = true;
                      _iteratorError44 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion44 && _iterator44["return"] != null) {
                          _iterator44["return"]();
                        }
                      } finally {
                        if (_didIteratorError44) {
                          throw _iteratorError44;
                        }
                      }
                    }
                  }
                } catch (err) {
                  _didIteratorError42 = true;
                  _iteratorError42 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion42 && _iterator42["return"] != null) {
                      _iterator42["return"]();
                    }
                  } finally {
                    if (_didIteratorError42) {
                      throw _iteratorError42;
                    }
                  }
                }

                return n.localDocuments.getDocuments(e, o).next(function (e) {
                  return {
                    hs: e,
                    removedBatchIds: i,
                    addedBatchIds: s
                  };
                });
              });
            }));

          case 3:
            return _context13.abrupt("return", _context13.sent);

          case 4:
          case "end":
            return _context13.stop();
        }
      }
    });
  }

  function Eo(e) {
    var t = Dt(e);
    return t.persistence.runTransaction("Get last remote snapshot version", "readonly", function (e) {
      return t.Ur.getLastRemoteSnapshotVersion(e);
    });
  }

  function So(e, t, n) {
    var r = ci(),
        i = ci();
    return n.forEach(function (e) {
      return r = r.add(e);
    }), t.getEntries(e, r).next(function (e) {
      var r = ti();
      return n.forEach(function (n, s) {
        var o = e.get(n);
        s.isFoundDocument() !== o.isFoundDocument() && (i = i.add(n)), s.isNoDocument() && s.version.isEqual(Xt.min()) ? (t.removeEntry(n, s.readTime), r = r.insert(n, s)) : !o.isValidDocument() || s.version.compareTo(o.version) > 0 || 0 === s.version.compareTo(o.version) && o.hasPendingWrites ? (t.addEntry(s), r = r.insert(n, s)) : Ct("LocalStore", "Ignoring outdated watch update for ", n, ". Current version:", o.version, " Watch version:", s.version);
      }), {
        Ps: r,
        Is: i
      };
    });
  }

  function ko(e, t) {
    var n = Dt(e);
    return n.persistence.runTransaction("Get next mutation batch", "readonly", function (e) {
      return void 0 === t && (t = -1), n.mutationQueue.getNextMutationBatchAfterBatchId(e, t);
    });
  }

  function To(e, t) {
    var n = Dt(e);
    return n.persistence.runTransaction("Allocate target", "readwrite", function (e) {
      var r;
      return n.Ur.getTargetData(e, t).next(function (i) {
        return i ? (r = i, hn.resolve(r)) : n.Ur.allocateTargetId(e).next(function (i) {
          return r = new Ks(t, i, "TargetPurposeListen", e.currentSequenceNumber), n.Ur.addTargetData(e, r).next(function () {
            return r;
          });
        });
      });
    }).then(function (e) {
      var r = n.os.get(e.targetId);
      return (null === r || e.snapshotVersion.compareTo(r.snapshotVersion) > 0) && (n.os = n.os.insert(e.targetId, e), n._s.set(t, e.targetId)), e;
    });
  }

  function Io(e, t, n) {
    var r, i, s;
    return regeneratorRuntime.async(function Io$(_context14) {
      while (1) {
        switch (_context14.prev = _context14.next) {
          case 0:
            r = Dt(e), i = r.os.get(t), s = n ? "readwrite" : "readwrite-primary";
            _context14.prev = 1;
            _context14.t0 = n;

            if (_context14.t0) {
              _context14.next = 6;
              break;
            }

            _context14.next = 6;
            return regeneratorRuntime.awrap(r.persistence.runTransaction("Release target", s, function (e) {
              return r.persistence.referenceDelegate.removeTarget(e, i);
            }));

          case 6:
            _context14.next = 13;
            break;

          case 8:
            _context14.prev = 8;
            _context14.t1 = _context14["catch"](1);

            if (fn(_context14.t1)) {
              _context14.next = 12;
              break;
            }

            throw _context14.t1;

          case 12:
            Ct("LocalStore", "Failed to update sequence numbers for target ".concat(t, ": ").concat(_context14.t1));

          case 13:
            r.os = r.os.remove(t), r._s["delete"](i.target);

          case 14:
          case "end":
            return _context14.stop();
        }
      }
    }, null, null, [[1, 8]]);
  }

  function Co(e, t, n) {
    var r = Dt(e);
    var i = Xt.min(),
        s = ci();
    return r.persistence.runTransaction("Execute query", "readwrite", function (e) {
      return function (e, t, n) {
        var r = Dt(e),
            i = r._s.get(n);

        return void 0 !== i ? hn.resolve(r.os.get(i)) : r.Ur.getTargetData(t, n);
      }(r, e, Br(t)).next(function (t) {
        if (t) return i = t.lastLimboFreeSnapshotVersion, r.Ur.getMatchingKeysForTargetId(e, t.targetId).next(function (e) {
          s = e;
        });
      }).next(function () {
        return r.ss.getDocumentsMatchingQuery(e, t, n ? i : Xt.min(), n ? s : ci());
      }).next(function (e) {
        return No(r, Xr(t), e), {
          documents: e,
          Ts: s
        };
      });
    });
  }

  function No(e, t, n) {
    var r = e.us.get(t) || Xt.min();
    n.forEach(function (e, t) {
      t.readTime.compareTo(r) > 0 && (r = t.readTime);
    }), e.us.set(t, r);
  }

  var Ao =
  /*#__PURE__*/
  function () {
    function Ao() {
      _classCallCheck(this, Ao);

      this.activeTargetIds = di();
    }

    _createClass(Ao, [{
      key: "fs",
      value: function fs(e) {
        this.activeTargetIds = this.activeTargetIds.add(e);
      }
    }, {
      key: "gs",
      value: function gs(e) {
        this.activeTargetIds = this.activeTargetIds["delete"](e);
      }
    }, {
      key: "Vs",
      value: function Vs() {
        var e = {
          activeTargetIds: this.activeTargetIds.toArray(),
          updateTimeMs: Date.now()
        };
        return JSON.stringify(e);
      }
    }]);

    return Ao;
  }();

  var Ro =
  /*#__PURE__*/
  function () {
    function Ro() {
      _classCallCheck(this, Ro);

      this.so = new Ao(), this.oo = {}, this.onlineStateHandler = null, this.sequenceNumberHandler = null;
    }

    _createClass(Ro, [{
      key: "addPendingMutation",
      value: function addPendingMutation(e) {}
    }, {
      key: "updateMutationState",
      value: function updateMutationState(e, t, n) {}
    }, {
      key: "addLocalQueryTarget",
      value: function addLocalQueryTarget(e) {
        return this.so.fs(e), this.oo[e] || "not-current";
      }
    }, {
      key: "updateQueryState",
      value: function updateQueryState(e, t, n) {
        this.oo[e] = t;
      }
    }, {
      key: "removeLocalQueryTarget",
      value: function removeLocalQueryTarget(e) {
        this.so.gs(e);
      }
    }, {
      key: "isLocalQueryTarget",
      value: function isLocalQueryTarget(e) {
        return this.so.activeTargetIds.has(e);
      }
    }, {
      key: "clearQueryState",
      value: function clearQueryState(e) {
        delete this.oo[e];
      }
    }, {
      key: "getAllActiveQueryTargets",
      value: function getAllActiveQueryTargets() {
        return this.so.activeTargetIds;
      }
    }, {
      key: "isActiveQueryTarget",
      value: function isActiveQueryTarget(e) {
        return this.so.activeTargetIds.has(e);
      }
    }, {
      key: "start",
      value: function start() {
        return this.so = new Ao(), Promise.resolve();
      }
    }, {
      key: "handleUserChange",
      value: function handleUserChange(e, t, n) {}
    }, {
      key: "setOnlineState",
      value: function setOnlineState(e) {}
    }, {
      key: "shutdown",
      value: function shutdown() {}
    }, {
      key: "writeSequenceNumber",
      value: function writeSequenceNumber(e) {}
    }, {
      key: "notifyBundleLoaded",
      value: function notifyBundleLoaded(e) {}
    }]);

    return Ro;
  }();

  var Po =
  /*#__PURE__*/
  function () {
    function Po() {
      _classCallCheck(this, Po);
    }

    _createClass(Po, [{
      key: "_o",
      value: function _o(e) {}
    }, {
      key: "shutdown",
      value: function shutdown() {}
    }]);

    return Po;
  }();

  var xo =
  /*#__PURE__*/
  function () {
    function xo() {
      var _this83 = this;

      _classCallCheck(this, xo);

      this.ao = function () {
        return _this83.uo();
      }, this.co = function () {
        return _this83.lo();
      }, this.ho = [], this.Po();
    }

    _createClass(xo, [{
      key: "_o",
      value: function _o(e) {
        this.ho.push(e);
      }
    }, {
      key: "shutdown",
      value: function shutdown() {
        window.removeEventListener("online", this.ao), window.removeEventListener("offline", this.co);
      }
    }, {
      key: "Po",
      value: function Po() {
        window.addEventListener("online", this.ao), window.addEventListener("offline", this.co);
      }
    }, {
      key: "uo",
      value: function uo() {
        Ct("ConnectivityMonitor", "Network connectivity changed: AVAILABLE");
        var _iteratorNormalCompletion45 = true;
        var _didIteratorError45 = false;
        var _iteratorError45 = undefined;

        try {
          for (var _iterator45 = this.ho[Symbol.iterator](), _step45; !(_iteratorNormalCompletion45 = (_step45 = _iterator45.next()).done); _iteratorNormalCompletion45 = true) {
            var e = _step45.value;
            e(0);
          }
        } catch (err) {
          _didIteratorError45 = true;
          _iteratorError45 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion45 && _iterator45["return"] != null) {
              _iterator45["return"]();
            }
          } finally {
            if (_didIteratorError45) {
              throw _iteratorError45;
            }
          }
        }
      }
    }, {
      key: "lo",
      value: function lo() {
        Ct("ConnectivityMonitor", "Network connectivity changed: UNAVAILABLE");
        var _iteratorNormalCompletion46 = true;
        var _didIteratorError46 = false;
        var _iteratorError46 = undefined;

        try {
          for (var _iterator46 = this.ho[Symbol.iterator](), _step46; !(_iteratorNormalCompletion46 = (_step46 = _iterator46.next()).done); _iteratorNormalCompletion46 = true) {
            var e = _step46.value;
            e(1);
          }
        } catch (err) {
          _didIteratorError46 = true;
          _iteratorError46 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion46 && _iterator46["return"] != null) {
              _iterator46["return"]();
            }
          } finally {
            if (_didIteratorError46) {
              throw _iteratorError46;
            }
          }
        }
      }
    }], [{
      key: "D",
      value: function D() {
        return "undefined" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener;
      }
    }]);

    return xo;
  }();

  var Do = null;

  function Oo() {
    return null === Do ? Do = 268435456 + Math.round(2147483648 * Math.random()) : Do++, "0x" + Do.toString(16);
  }

  var Lo = {
    BatchGetDocuments: "batchGet",
    Commit: "commit",
    RunQuery: "runQuery",
    RunAggregationQuery: "runAggregationQuery"
  };

  var Mo =
  /*#__PURE__*/
  function () {
    function Mo(e) {
      _classCallCheck(this, Mo);

      this.Io = e.Io, this.To = e.To;
    }

    _createClass(Mo, [{
      key: "Eo",
      value: function Eo(e) {
        this.Ao = e;
      }
    }, {
      key: "Ro",
      value: function Ro(e) {
        this.Vo = e;
      }
    }, {
      key: "mo",
      value: function mo(e) {
        this.fo = e;
      }
    }, {
      key: "onMessage",
      value: function onMessage(e) {
        this.po = e;
      }
    }, {
      key: "close",
      value: function close() {
        this.To();
      }
    }, {
      key: "send",
      value: function send(e) {
        this.Io(e);
      }
    }, {
      key: "yo",
      value: function yo() {
        this.Ao();
      }
    }, {
      key: "wo",
      value: function wo() {
        this.Vo();
      }
    }, {
      key: "So",
      value: function So(e) {
        this.fo(e);
      }
    }, {
      key: "bo",
      value: function bo(e) {
        this.po(e);
      }
    }]);

    return Mo;
  }();

  var Fo = "WebChannelConnection";

  var Uo =
  /*#__PURE__*/
  function (_ref3) {
    _inherits(Uo, _ref3);

    function Uo(e) {
      var _this84;

      _classCallCheck(this, Uo);

      _this84 = _possibleConstructorReturn(this, _getPrototypeOf(Uo).call(this, e)), _this84.forceLongPolling = e.forceLongPolling, _this84.autoDetectLongPolling = e.autoDetectLongPolling, _this84.useFetchStreams = e.useFetchStreams, _this84.longPollingOptions = e.longPollingOptions;
      return _this84;
    }

    _createClass(Uo, [{
      key: "No",
      value: function No(e, t, n, r) {
        var i = Oo();
        return new Promise(function (s, o) {
          var a = new ht();
          a.setWithCredentials(!0), a.listenOnce(pt.COMPLETE, function () {
            try {
              switch (a.getLastErrorCode()) {
                case gt.NO_ERROR:
                  var _t25 = a.getResponseJson();

                  Ct(Fo, "XHR for RPC '".concat(e, "' ").concat(i, " received:"), JSON.stringify(_t25)), s(_t25);
                  break;

                case gt.TIMEOUT:
                  Ct(Fo, "RPC '".concat(e, "' ").concat(i, " timed out")), o(new Lt(Ot.DEADLINE_EXCEEDED, "Request time out"));
                  break;

                case gt.HTTP_ERROR:
                  var _n32 = a.getStatus();

                  if (Ct(Fo, "RPC '".concat(e, "' ").concat(i, " failed with status:"), _n32, "response text:", a.getResponseText()), _n32 > 0) {
                    var _e45 = a.getResponseJson();

                    Array.isArray(_e45) && (_e45 = _e45[0]);

                    var _t26 = null == _e45 ? void 0 : _e45.error;

                    if (_t26 && _t26.status && _t26.message) {
                      var _e46 = function (e) {
                        var t = e.toLowerCase().replace(/_/g, "-");
                        return Object.values(Ot).indexOf(t) >= 0 ? t : Ot.UNKNOWN;
                      }(_t26.status);

                      o(new Lt(_e46, _t26.message));
                    } else o(new Lt(Ot.UNKNOWN, "Server responded with status " + a.getStatus()));
                  } else o(new Lt(Ot.UNAVAILABLE, "Connection failed."));

                  break;

                default:
                  Pt();
              }
            } finally {
              Ct(Fo, "RPC '".concat(e, "' ").concat(i, " completed."));
            }
          });
          var l = JSON.stringify(r);
          Ct(Fo, "RPC '".concat(e, "' ").concat(i, " sending request:"), r), a.send(t, "POST", l, n, 15);
        });
      }
    }, {
      key: "Bo",
      value: function Bo(e, t, n) {
        var r = Oo(),
            i = [this.Do, "/", "google.firestore.v1.Firestore", "/", e, "/channel"],
            s = wt(),
            o = yt(),
            a = {
          httpSessionIdParam: "gsessionid",
          initMessageHeaders: {},
          messageUrlParams: {
            database: "projects/".concat(this.databaseId.projectId, "/databases/").concat(this.databaseId.database)
          },
          sendRawJson: !0,
          supportsCrossDomainXhr: !0,
          internalChannelParams: {
            forwardChannelRequestTimeoutMs: 6e5
          },
          forceLongPolling: this.forceLongPolling,
          detectBufferingProxy: this.autoDetectLongPolling
        },
            l = this.longPollingOptions.timeoutSeconds;
        void 0 !== l && (a.longPollingTimeout = Math.round(1e3 * l)), this.useFetchStreams && (a.xmlHttpFactory = new dt({})), this.Oo(a.initMessageHeaders, t, n), a.encodeInitMessageHeaders = !0;
        var u = i.join("");
        Ct(Fo, "Creating RPC '".concat(e, "' stream ").concat(r, ": ").concat(u), a);
        var c = s.createWebChannel(u, a);
        var h = !1,
            d = !1;

        var f = new Mo({
          Io: function Io(t) {
            d ? Ct(Fo, "Not sending because RPC '".concat(e, "' stream ").concat(r, " is closed:"), t) : (h || (Ct(Fo, "Opening RPC '".concat(e, "' stream ").concat(r, " transport.")), c.open(), h = !0), Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " sending:"), t), c.send(t));
          },
          To: function To() {
            return c.close();
          }
        }),
            p = function p(e, t, n) {
          e.listen(t, function (e) {
            try {
              n(e);
            } catch (e) {
              setTimeout(function () {
                throw e;
              }, 0);
            }
          });
        };

        return p(c, ft.EventType.OPEN, function () {
          d || (Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " transport opened.")), f.yo());
        }), p(c, ft.EventType.CLOSE, function () {
          d || (d = !0, Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " transport closed")), f.So());
        }), p(c, ft.EventType.ERROR, function (t) {
          d || (d = !0, At(Fo, "RPC '".concat(e, "' stream ").concat(r, " transport errored:"), t), f.So(new Lt(Ot.UNAVAILABLE, "The operation could not be completed")));
        }), p(c, ft.EventType.MESSAGE, function (t) {
          var n;

          if (!d) {
            var _i56 = t.data[0];
            xt(!!_i56);

            var _s18 = _i56,
                _o12 = _s18.error || (null === (n = _s18[0]) || void 0 === n ? void 0 : n.error);

            if (_o12) {
              Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " received error:"), _o12);
              var _t27 = _o12.status;

              var _n33 = function (e) {
                var t = Gi[e];
                if (void 0 !== t) return Yi(t);
              }(_t27),
                  _i57 = _o12.message;

              void 0 === _n33 && (_n33 = Ot.INTERNAL, _i57 = "Unknown error status: " + _t27 + " with message " + _o12.message), d = !0, f.So(new Lt(_n33, _i57)), c.close();
            } else Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " received:"), _i56), f.bo(_i56);
          }
        }), p(o, vt.STAT_EVENT, function (t) {
          t.stat === mt.PROXY ? Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " detected buffering proxy")) : t.stat === mt.NOPROXY && Ct(Fo, "RPC '".concat(e, "' stream ").concat(r, " detected no buffering proxy"));
        }), setTimeout(function () {
          f.wo();
        }, 0), f;
      }
    }]);

    return Uo;
  }(
  /*#__PURE__*/
  function () {
    function _class4(e) {
      _classCallCheck(this, _class4);

      this.databaseInfo = e, this.databaseId = e.databaseId;
      var t = e.ssl ? "https" : "http",
          n = encodeURIComponent(this.databaseId.projectId),
          r = encodeURIComponent(this.databaseId.database);
      this.Do = t + "://" + e.host, this.vo = "projects/".concat(n, "/databases/").concat(r), this.Co = "(default)" === this.databaseId.database ? "project_id=".concat(n) : "project_id=".concat(n, "&database_id=").concat(r);
    }

    _createClass(_class4, [{
      key: "Mo",
      value: function Mo(e, t, n, r, i) {
        var s = Oo(),
            o = this.xo(e, t.toUriEncodedString());
        Ct("RestConnection", "Sending RPC '".concat(e, "' ").concat(s, ":"), o, n);
        var a = {
          "google-cloud-resource-prefix": this.vo,
          "x-goog-request-params": this.Co
        };
        return this.Oo(a, r, i), this.No(e, o, a, n).then(function (t) {
          return Ct("RestConnection", "Received RPC '".concat(e, "' ").concat(s, ": "), t), t;
        }, function (t) {
          throw At("RestConnection", "RPC '".concat(e, "' ").concat(s, " failed with error: "), t, "url: ", o, "request:", n), t;
        });
      }
    }, {
      key: "Lo",
      value: function Lo(e, t, n, r, i, s) {
        return this.Mo(e, t, n, r, i);
      }
    }, {
      key: "Oo",
      value: function Oo(e, t, n) {
        e["X-Goog-Api-Client"] = "gl-js/ fire/" + kt, e["Content-Type"] = "text/plain", this.databaseInfo.appId && (e["X-Firebase-GMPID"] = this.databaseInfo.appId), t && t.headers.forEach(function (t, n) {
          return e[n] = t;
        }), n && n.headers.forEach(function (t, n) {
          return e[n] = t;
        });
      }
    }, {
      key: "xo",
      value: function xo(e, t) {
        var n = Lo[e];
        return "".concat(this.Do, "/v1/").concat(t, ":").concat(n);
      }
    }, {
      key: "terminate",
      value: function terminate() {}
    }, {
      key: "Fo",
      get: function get() {
        return !1;
      }
    }]);

    return _class4;
  }());

  function Vo() {
    return "undefined" != typeof document ? document : null;
  }

  function zo(e) {
    return new vs(e, !0);
  }

  var jo =
  /*#__PURE__*/
  function () {
    function jo(e, t) {
      _classCallCheck(this, jo);

      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e3,
          r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1.5,
          i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 6e4;
      this.ui = e, this.timerId = t, this.ko = n, this.qo = r, this.Qo = i, this.Ko = 0, this.$o = null, this.Uo = Date.now(), this.reset();
    }

    _createClass(jo, [{
      key: "reset",
      value: function reset() {
        this.Ko = 0;
      }
    }, {
      key: "Wo",
      value: function Wo() {
        this.Ko = this.Qo;
      }
    }, {
      key: "Go",
      value: function Go(e) {
        var _this85 = this;

        this.cancel();
        var t = Math.floor(this.Ko + this.zo()),
            n = Math.max(0, Date.now() - this.Uo),
            r = Math.max(0, t - n);
        r > 0 && Ct("ExponentialBackoff", "Backing off for ".concat(r, " ms (base delay: ").concat(this.Ko, " ms, delay with jitter: ").concat(t, " ms, last attempt: ").concat(n, " ms ago)")), this.$o = this.ui.enqueueAfterDelay(this.timerId, r, function () {
          return _this85.Uo = Date.now(), e();
        }), this.Ko *= this.qo, this.Ko < this.ko && (this.Ko = this.ko), this.Ko > this.Qo && (this.Ko = this.Qo);
      }
    }, {
      key: "jo",
      value: function jo() {
        null !== this.$o && (this.$o.skipDelay(), this.$o = null);
      }
    }, {
      key: "cancel",
      value: function cancel() {
        null !== this.$o && (this.$o.cancel(), this.$o = null);
      }
    }, {
      key: "zo",
      value: function zo() {
        return (Math.random() - .5) * this.Ko;
      }
    }]);

    return jo;
  }();

  var Bo =
  /*#__PURE__*/
  function () {
    function Bo(e, t, n, r, i, s, o, a) {
      _classCallCheck(this, Bo);

      this.ui = e, this.Ho = n, this.Jo = r, this.connection = i, this.authCredentialsProvider = s, this.appCheckCredentialsProvider = o, this.listener = a, this.state = 0, this.Yo = 0, this.Zo = null, this.Xo = null, this.stream = null, this.e_ = 0, this.t_ = new jo(e, t);
    }

    _createClass(Bo, [{
      key: "n_",
      value: function n_() {
        return 1 === this.state || 5 === this.state || this.r_();
      }
    }, {
      key: "r_",
      value: function r_() {
        return 2 === this.state || 3 === this.state;
      }
    }, {
      key: "start",
      value: function start() {
        this.e_ = 0, 4 !== this.state ? this.auth() : this.i_();
      }
    }, {
      key: "stop",
      value: function stop() {
        return regeneratorRuntime.async(function stop$(_context15) {
          while (1) {
            switch (_context15.prev = _context15.next) {
              case 0:
                _context15.t0 = this.n_();

                if (!_context15.t0) {
                  _context15.next = 4;
                  break;
                }

                _context15.next = 4;
                return regeneratorRuntime.awrap(this.close(0));

              case 4:
              case "end":
                return _context15.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "s_",
      value: function s_() {
        this.state = 0, this.t_.reset();
      }
    }, {
      key: "o_",
      value: function o_() {
        var _this86 = this;

        this.r_() && null === this.Zo && (this.Zo = this.ui.enqueueAfterDelay(this.Ho, 6e4, function () {
          return _this86.__();
        }));
      }
    }, {
      key: "a_",
      value: function a_(e) {
        this.u_(), this.stream.send(e);
      }
    }, {
      key: "__",
      value: function __() {
        return regeneratorRuntime.async(function __$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                if (!this.r_()) {
                  _context16.next = 2;
                  break;
                }

                return _context16.abrupt("return", this.close(0));

              case 2:
              case "end":
                return _context16.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "u_",
      value: function u_() {
        this.Zo && (this.Zo.cancel(), this.Zo = null);
      }
    }, {
      key: "c_",
      value: function c_() {
        this.Xo && (this.Xo.cancel(), this.Xo = null);
      }
    }, {
      key: "close",
      value: function close(e, t) {
        return regeneratorRuntime.async(function close$(_context17) {
          while (1) {
            switch (_context17.prev = _context17.next) {
              case 0:
                this.u_();
                this.c_();
                this.t_.cancel();
                this.Yo++;
                4 !== e ? this.t_.reset() : t && t.code === Ot.RESOURCE_EXHAUSTED ? (Nt(t.toString()), Nt("Using maximum backoff delay to prevent overloading the backend."), this.t_.Wo()) : t && t.code === Ot.UNAUTHENTICATED && 3 !== this.state && (this.authCredentialsProvider.invalidateToken(), this.appCheckCredentialsProvider.invalidateToken());
                null !== this.stream && (this.l_(), this.stream.close(), this.stream = null);
                this.state = e;
                _context17.next = 9;
                return regeneratorRuntime.awrap(this.listener.mo(t));

              case 9:
              case "end":
                return _context17.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "l_",
      value: function l_() {}
    }, {
      key: "auth",
      value: function auth() {
        var _this87 = this;

        this.state = 1;
        var e = this.h_(this.Yo),
            t = this.Yo;
        Promise.all([this.authCredentialsProvider.getToken(), this.appCheckCredentialsProvider.getToken()]).then(function (e) {
          var _e47 = _slicedToArray(e, 2),
              n = _e47[0],
              r = _e47[1];

          _this87.Yo === t && _this87.P_(n, r);
        }, function (t) {
          e(function () {
            var e = new Lt(Ot.UNKNOWN, "Fetching auth token failed: " + t.message);
            return _this87.I_(e);
          });
        });
      }
    }, {
      key: "P_",
      value: function P_(e, t) {
        var _this88 = this;

        var n = this.h_(this.Yo);
        this.stream = this.T_(e, t), this.stream.Eo(function () {
          n(function () {
            return _this88.listener.Eo();
          });
        }), this.stream.Ro(function () {
          n(function () {
            return _this88.state = 2, _this88.Xo = _this88.ui.enqueueAfterDelay(_this88.Jo, 1e4, function () {
              return _this88.r_() && (_this88.state = 3), Promise.resolve();
            }), _this88.listener.Ro();
          });
        }), this.stream.mo(function (e) {
          n(function () {
            return _this88.I_(e);
          });
        }), this.stream.onMessage(function (e) {
          n(function () {
            return 1 == ++_this88.e_ ? _this88.E_(e) : _this88.onNext(e);
          });
        });
      }
    }, {
      key: "i_",
      value: function i_() {
        var _this89 = this;

        this.state = 5, this.t_.Go(function _callee3() {
          return regeneratorRuntime.async(function _callee3$(_context18) {
            while (1) {
              switch (_context18.prev = _context18.next) {
                case 0:
                  _this89.state = 0, _this89.start();

                case 1:
                case "end":
                  return _context18.stop();
              }
            }
          });
        });
      }
    }, {
      key: "I_",
      value: function I_(e) {
        return Ct("PersistentStream", "close with error: ".concat(e)), this.stream = null, this.close(4, e);
      }
    }, {
      key: "h_",
      value: function h_(e) {
        var _this90 = this;

        return function (t) {
          _this90.ui.enqueueAndForget(function () {
            return _this90.Yo === e ? t() : (Ct("PersistentStream", "stream callback skipped by getCloseGuardedDispatcher."), Promise.resolve());
          });
        };
      }
    }]);

    return Bo;
  }();

  var $o =
  /*#__PURE__*/
  function (_Bo) {
    _inherits($o, _Bo);

    function $o(e, t, n, r, i, s) {
      var _this91;

      _classCallCheck(this, $o);

      _this91 = _possibleConstructorReturn(this, _getPrototypeOf($o).call(this, e, "listen_stream_connection_backoff", "listen_stream_idle", "health_check_timeout", t, n, r, s)), _this91.serializer = i;
      return _this91;
    }

    _createClass($o, [{
      key: "T_",
      value: function T_(e, t) {
        return this.connection.Bo("Listen", e, t);
      }
    }, {
      key: "E_",
      value: function E_(e) {
        return this.onNext(e);
      }
    }, {
      key: "onNext",
      value: function onNext(e) {
        this.t_.reset();

        var t = function (e, t) {
          var n;

          if ("targetChange" in t) {
            t.targetChange;

            var _r44 = function (e) {
              return "NO_CHANGE" === e ? 0 : "ADD" === e ? 1 : "REMOVE" === e ? 2 : "CURRENT" === e ? 3 : "RESET" === e ? 4 : Pt();
            }(t.targetChange.targetChangeType || "NO_CHANGE"),
                _i58 = t.targetChange.targetIds || [],
                _s19 = function (e, t) {
              return e.useProto3Json ? (xt(void 0 === t || "string" == typeof t), xn.fromBase64String(t || "")) : (xt(void 0 === t || t instanceof Buffer || t instanceof Uint8Array), xn.fromUint8Array(t || new Uint8Array()));
            }(e, t.targetChange.resumeToken),
                _o13 = t.targetChange.cause,
                _a7 = _o13 && function (e) {
              var t = void 0 === e.code ? Ot.UNKNOWN : Yi(e.code);
              return new Lt(t, e.message || "");
            }(_o13);

            n = new us(_r44, _i58, _s19, _a7 || null);
          } else if ("documentChange" in t) {
            t.documentChange;
            var _r45 = t.documentChange;
            _r45.document, _r45.document.name, _r45.document.updateTime;

            var _i59 = Cs(e, _r45.document.name),
                _s20 = Es(_r45.document.updateTime),
                _o14 = _r45.document.createTime ? Es(_r45.document.createTime) : Xt.min(),
                _a8 = new or({
              mapValue: {
                fields: _r45.document.fields
              }
            }),
                _l6 = lr.newFoundDocument(_i59, _s20, _o14, _a8),
                _u5 = _r45.targetIds || [],
                _c4 = _r45.removedTargetIds || [];

            n = new as(_u5, _c4, _l6.key, _l6);
          } else if ("documentDelete" in t) {
            t.documentDelete;
            var _r46 = t.documentDelete;
            _r46.document;

            var _i60 = Cs(e, _r46.document),
                _s21 = _r46.readTime ? Es(_r46.readTime) : Xt.min(),
                _o15 = lr.newNoDocument(_i60, _s21),
                _a9 = _r46.removedTargetIds || [];

            n = new as([], _a9, _o15.key, _o15);
          } else if ("documentRemove" in t) {
            t.documentRemove;
            var _r47 = t.documentRemove;
            _r47.document;

            var _i61 = Cs(e, _r47.document),
                _s22 = _r47.removedTargetIds || [];

            n = new as([], _s22, _i61, null);
          } else {
            if (!("filter" in t)) return Pt();
            {
              t.filter;
              var _e48 = t.filter;
              _e48.targetId;

              var _e48$count = _e48.count,
                  _r48 = _e48$count === void 0 ? 0 : _e48$count,
                  _i62 = _e48.unchangedNames,
                  _s23 = new Wi(_r48, _i62),
                  _o16 = _e48.targetId;

              n = new ls(_o16, _s23);
            }
          }

          return n;
        }(this.serializer, e),
            n = function (e) {
          if (!("targetChange" in e)) return Xt.min();
          var t = e.targetChange;
          return t.targetIds && t.targetIds.length ? Xt.min() : t.readTime ? Es(t.readTime) : Xt.min();
        }(e);

        return this.listener.d_(t, n);
      }
    }, {
      key: "A_",
      value: function A_(e) {
        var t = {};
        t.database = Rs(this.serializer), t.addTarget = function (e, t) {
          var n;
          var r = t.target;

          if (n = Lr(r) ? {
            documents: Os(e, r)
          } : {
            query: Ls(e, r)._t
          }, n.targetId = t.targetId, t.resumeToken.approximateByteSize() > 0) {
            n.resumeToken = bs(e, t.resumeToken);

            var _r49 = ys(e, t.expectedCount);

            null !== _r49 && (n.expectedCount = _r49);
          } else if (t.snapshotVersion.compareTo(Xt.min()) > 0) {
            n.readTime = ws(e, t.snapshotVersion.toTimestamp());

            var _r50 = ys(e, t.expectedCount);

            null !== _r50 && (n.expectedCount = _r50);
          }

          return n;
        }(this.serializer, e);

        var n = function (e, t) {
          var n = function (e) {
            switch (e) {
              case "TargetPurposeListen":
                return null;

              case "TargetPurposeExistenceFilterMismatch":
                return "existence-filter-mismatch";

              case "TargetPurposeExistenceFilterMismatchBloom":
                return "existence-filter-mismatch-bloom";

              case "TargetPurposeLimboResolution":
                return "limbo-document";

              default:
                return Pt();
            }
          }(t.purpose);

          return null == n ? null : {
            "goog-listen-tags": n
          };
        }(this.serializer, e);

        n && (t.labels = n), this.a_(t);
      }
    }, {
      key: "R_",
      value: function R_(e) {
        var t = {};
        t.database = Rs(this.serializer), t.removeTarget = e, this.a_(t);
      }
    }]);

    return $o;
  }(Bo);

  var qo =
  /*#__PURE__*/
  function (_Bo2) {
    _inherits(qo, _Bo2);

    function qo(e, t, n, r, i, s) {
      var _this92;

      _classCallCheck(this, qo);

      _this92 = _possibleConstructorReturn(this, _getPrototypeOf(qo).call(this, e, "write_stream_connection_backoff", "write_stream_idle", "health_check_timeout", t, n, r, s)), _this92.serializer = i;
      return _this92;
    }

    _createClass(qo, [{
      key: "start",
      value: function start() {
        this.lastStreamToken = void 0, _get(_getPrototypeOf(qo.prototype), "start", this).call(this);
      }
    }, {
      key: "l_",
      value: function l_() {
        this.V_ && this.m_([]);
      }
    }, {
      key: "T_",
      value: function T_(e, t) {
        return this.connection.Bo("Write", e, t);
      }
    }, {
      key: "E_",
      value: function E_(e) {
        return xt(!!e.streamToken), this.lastStreamToken = e.streamToken, xt(!e.writeResults || 0 === e.writeResults.length), this.listener.f_();
      }
    }, {
      key: "onNext",
      value: function onNext(e) {
        xt(!!e.streamToken), this.lastStreamToken = e.streamToken, this.t_.reset();

        var t = function (e, t) {
          return e && e.length > 0 ? (xt(void 0 !== t), e.map(function (e) {
            return function (e, t) {
              var n = e.updateTime ? Es(e.updateTime) : Es(t);
              return n.isEqual(Xt.min()) && (n = Es(t)), new Ni(n, e.transformResults || []);
            }(e, t);
          })) : [];
        }(e.writeResults, e.commitTime),
            n = Es(e.commitTime);

        return this.listener.g_(n, t);
      }
    }, {
      key: "p_",
      value: function p_() {
        var e = {};
        e.database = Rs(this.serializer), this.a_(e);
      }
    }, {
      key: "m_",
      value: function m_(e) {
        var _this93 = this;

        var t = {
          streamToken: this.lastStreamToken,
          writes: e.map(function (e) {
            return Ds(_this93.serializer, e);
          })
        };
        this.a_(t);
      }
    }, {
      key: "V_",
      get: function get() {
        return this.e_ > 0;
      }
    }]);

    return qo;
  }(Bo);

  var Ho =
  /*#__PURE__*/
  function (_ref4) {
    _inherits(Ho, _ref4);

    function Ho(e, t, n, r) {
      var _this94;

      _classCallCheck(this, Ho);

      _this94 = _possibleConstructorReturn(this, _getPrototypeOf(Ho).call(this)), _this94.authCredentials = e, _this94.appCheckCredentials = t, _this94.connection = n, _this94.serializer = r, _this94.y_ = !1;
      return _this94;
    }

    _createClass(Ho, [{
      key: "w_",
      value: function w_() {
        if (this.y_) throw new Lt(Ot.FAILED_PRECONDITION, "The client has already been terminated.");
      }
    }, {
      key: "Mo",
      value: function Mo(e, t, n, r) {
        var _this95 = this;

        return this.w_(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(function (i) {
          var _i63 = _slicedToArray(i, 2),
              s = _i63[0],
              o = _i63[1];

          return _this95.connection.Mo(e, ks(t, n), r, s, o);
        })["catch"](function (e) {
          throw "FirebaseError" === e.name ? (e.code === Ot.UNAUTHENTICATED && (_this95.authCredentials.invalidateToken(), _this95.appCheckCredentials.invalidateToken()), e) : new Lt(Ot.UNKNOWN, e.toString());
        });
      }
    }, {
      key: "Lo",
      value: function Lo(e, t, n, r, i) {
        var _this96 = this;

        return this.w_(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(function (s) {
          var _s24 = _slicedToArray(s, 2),
              o = _s24[0],
              a = _s24[1];

          return _this96.connection.Lo(e, ks(t, n), r, o, a, i);
        })["catch"](function (e) {
          throw "FirebaseError" === e.name ? (e.code === Ot.UNAUTHENTICATED && (_this96.authCredentials.invalidateToken(), _this96.appCheckCredentials.invalidateToken()), e) : new Lt(Ot.UNKNOWN, e.toString());
        });
      }
    }, {
      key: "terminate",
      value: function terminate() {
        this.y_ = !0, this.connection.terminate();
      }
    }]);

    return Ho;
  }(
  /*#__PURE__*/
  function () {
    function _class5() {
      _classCallCheck(this, _class5);
    }

    return _class5;
  }());

  var Ko =
  /*#__PURE__*/
  function () {
    function Ko(e, t) {
      _classCallCheck(this, Ko);

      this.asyncQueue = e, this.onlineStateHandler = t, this.state = "Unknown", this.S_ = 0, this.b_ = null, this.D_ = !0;
    }

    _createClass(Ko, [{
      key: "v_",
      value: function v_() {
        var _this97 = this;

        0 === this.S_ && (this.C_("Unknown"), this.b_ = this.asyncQueue.enqueueAfterDelay("online_state_timeout", 1e4, function () {
          return _this97.b_ = null, _this97.F_("Backend didn't respond within 10 seconds."), _this97.C_("Offline"), Promise.resolve();
        }));
      }
    }, {
      key: "M_",
      value: function M_(e) {
        "Online" === this.state ? this.C_("Unknown") : (this.S_++, this.S_ >= 1 && (this.x_(), this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())), this.C_("Offline")));
      }
    }, {
      key: "set",
      value: function set(e) {
        this.x_(), this.S_ = 0, "Online" === e && (this.D_ = !1), this.C_(e);
      }
    }, {
      key: "C_",
      value: function C_(e) {
        e !== this.state && (this.state = e, this.onlineStateHandler(e));
      }
    }, {
      key: "F_",
      value: function F_(e) {
        var t = "Could not reach Cloud Firestore backend. ".concat(e, "\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");
        this.D_ ? (Nt(t), this.D_ = !1) : Ct("OnlineStateTracker", t);
      }
    }, {
      key: "x_",
      value: function x_() {
        null !== this.b_ && (this.b_.cancel(), this.b_ = null);
      }
    }]);

    return Ko;
  }();

  var Wo = function Wo(e, t, n, r, i) {
    var _this98 = this;

    _classCallCheck(this, Wo);

    this.localStore = e, this.datastore = t, this.asyncQueue = n, this.remoteSyncer = {}, this.O_ = [], this.N_ = new Map(), this.L_ = new Set(), this.B_ = [], this.k_ = i, this.k_._o(function (e) {
      n.enqueueAndForget(function _callee5() {
        return regeneratorRuntime.async(function _callee5$(_context20) {
          while (1) {
            switch (_context20.prev = _context20.next) {
              case 0:
                _context20.t0 = na(_this98);

                if (!_context20.t0) {
                  _context20.next = 5;
                  break;
                }

                Ct("RemoteStore", "Restarting streams for network reachability change.");
                _context20.next = 5;
                return regeneratorRuntime.awrap(function _callee4(e) {
                  var t;
                  return regeneratorRuntime.async(function _callee4$(_context19) {
                    while (1) {
                      switch (_context19.prev = _context19.next) {
                        case 0:
                          t = Dt(e);
                          t.L_.add(4);
                          _context19.next = 4;
                          return regeneratorRuntime.awrap(Qo(t));

                        case 4:
                          t.q_.set("Unknown");
                          t.L_["delete"](4);
                          _context19.next = 8;
                          return regeneratorRuntime.awrap(Go(t));

                        case 8:
                        case "end":
                          return _context19.stop();
                      }
                    }
                  });
                }(_this98));

              case 5:
              case "end":
                return _context20.stop();
            }
          }
        });
      });
    }), this.q_ = new Ko(n, r);
  };

  function Go(e) {
    var _iteratorNormalCompletion47, _didIteratorError47, _iteratorError47, _iterator47, _step47, t;

    return regeneratorRuntime.async(function Go$(_context21) {
      while (1) {
        switch (_context21.prev = _context21.next) {
          case 0:
            if (!na(e)) {
              _context21.next = 27;
              break;
            }

            _iteratorNormalCompletion47 = true;
            _didIteratorError47 = false;
            _iteratorError47 = undefined;
            _context21.prev = 4;
            _iterator47 = e.B_[Symbol.iterator]();

          case 6:
            if (_iteratorNormalCompletion47 = (_step47 = _iterator47.next()).done) {
              _context21.next = 13;
              break;
            }

            t = _step47.value;
            _context21.next = 10;
            return regeneratorRuntime.awrap(t(!0));

          case 10:
            _iteratorNormalCompletion47 = true;
            _context21.next = 6;
            break;

          case 13:
            _context21.next = 19;
            break;

          case 15:
            _context21.prev = 15;
            _context21.t0 = _context21["catch"](4);
            _didIteratorError47 = true;
            _iteratorError47 = _context21.t0;

          case 19:
            _context21.prev = 19;
            _context21.prev = 20;

            if (!_iteratorNormalCompletion47 && _iterator47["return"] != null) {
              _iterator47["return"]();
            }

          case 22:
            _context21.prev = 22;

            if (!_didIteratorError47) {
              _context21.next = 25;
              break;
            }

            throw _iteratorError47;

          case 25:
            return _context21.finish(22);

          case 26:
            return _context21.finish(19);

          case 27:
          case "end":
            return _context21.stop();
        }
      }
    }, null, null, [[4, 15, 19, 27], [20,, 22, 26]]);
  }

  function Qo(e) {
    var _iteratorNormalCompletion48, _didIteratorError48, _iteratorError48, _iterator48, _step48, t;

    return regeneratorRuntime.async(function Qo$(_context22) {
      while (1) {
        switch (_context22.prev = _context22.next) {
          case 0:
            _iteratorNormalCompletion48 = true;
            _didIteratorError48 = false;
            _iteratorError48 = undefined;
            _context22.prev = 3;
            _iterator48 = e.B_[Symbol.iterator]();

          case 5:
            if (_iteratorNormalCompletion48 = (_step48 = _iterator48.next()).done) {
              _context22.next = 12;
              break;
            }

            t = _step48.value;
            _context22.next = 9;
            return regeneratorRuntime.awrap(t(!1));

          case 9:
            _iteratorNormalCompletion48 = true;
            _context22.next = 5;
            break;

          case 12:
            _context22.next = 18;
            break;

          case 14:
            _context22.prev = 14;
            _context22.t0 = _context22["catch"](3);
            _didIteratorError48 = true;
            _iteratorError48 = _context22.t0;

          case 18:
            _context22.prev = 18;
            _context22.prev = 19;

            if (!_iteratorNormalCompletion48 && _iterator48["return"] != null) {
              _iterator48["return"]();
            }

          case 21:
            _context22.prev = 21;

            if (!_didIteratorError48) {
              _context22.next = 24;
              break;
            }

            throw _iteratorError48;

          case 24:
            return _context22.finish(21);

          case 25:
            return _context22.finish(18);

          case 26:
          case "end":
            return _context22.stop();
        }
      }
    }, null, null, [[3, 14, 18, 26], [19,, 21, 25]]);
  }

  function Xo(e, t) {
    var n = Dt(e);
    n.N_.has(t.targetId) || (n.N_.set(t.targetId, t), ta(n) ? ea(n) : _a(n).r_() && Jo(n, t));
  }

  function Yo(e, t) {
    var n = Dt(e),
        r = _a(n);

    n.N_["delete"](t), r.r_() && Zo(n, t), 0 === n.N_.size && (r.r_() ? r.o_() : na(n) && n.q_.set("Unknown"));
  }

  function Jo(e, t) {
    if (e.Q_.xe(t.targetId), t.resumeToken.approximateByteSize() > 0 || t.snapshotVersion.compareTo(Xt.min()) > 0) {
      var n = e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;
      t = t.withExpectedCount(n);
    }

    _a(e).A_(t);
  }

  function Zo(e, t) {
    e.Q_.xe(t), _a(e).R_(t);
  }

  function ea(e) {
    e.Q_ = new hs({
      getRemoteKeysForTarget: function getRemoteKeysForTarget(t) {
        return e.remoteSyncer.getRemoteKeysForTarget(t);
      },
      ot: function ot(t) {
        return e.N_.get(t) || null;
      },
      tt: function tt() {
        return e.datastore.serializer.databaseId;
      }
    }), _a(e).start(), e.q_.v_();
  }

  function ta(e) {
    return na(e) && !_a(e).n_() && e.N_.size > 0;
  }

  function na(e) {
    return 0 === Dt(e).L_.size;
  }

  function ra(e) {
    e.Q_ = void 0;
  }

  function ia(e) {
    return regeneratorRuntime.async(function ia$(_context23) {
      while (1) {
        switch (_context23.prev = _context23.next) {
          case 0:
            e.q_.set("Online");

          case 1:
          case "end":
            return _context23.stop();
        }
      }
    });
  }

  function sa(e) {
    return regeneratorRuntime.async(function sa$(_context24) {
      while (1) {
        switch (_context24.prev = _context24.next) {
          case 0:
            e.N_.forEach(function (t, n) {
              Jo(e, t);
            });

          case 1:
          case "end":
            return _context24.stop();
        }
      }
    });
  }

  function oa(e, t) {
    return regeneratorRuntime.async(function oa$(_context25) {
      while (1) {
        switch (_context25.prev = _context25.next) {
          case 0:
            ra(e), ta(e) ? (e.q_.M_(t), ea(e)) : e.q_.set("Unknown");

          case 1:
          case "end":
            return _context25.stop();
        }
      }
    });
  }

  function aa(e, t, n) {
    var _t28;

    return regeneratorRuntime.async(function aa$(_context27) {
      while (1) {
        switch (_context27.prev = _context27.next) {
          case 0:
            if (!(e.q_.set("Online"), t instanceof us && 2 === t.state && t.cause)) {
              _context27.next = 13;
              break;
            }

            _context27.prev = 1;
            _context27.next = 4;
            return regeneratorRuntime.awrap(function _callee6(e, t) {
              var n, _iteratorNormalCompletion49, _didIteratorError49, _iteratorError49, _iterator49, _step49, _r51;

              return regeneratorRuntime.async(function _callee6$(_context26) {
                while (1) {
                  switch (_context26.prev = _context26.next) {
                    case 0:
                      n = t.cause;
                      _iteratorNormalCompletion49 = true;
                      _didIteratorError49 = false;
                      _iteratorError49 = undefined;
                      _context26.prev = 4;
                      _iterator49 = t.targetIds[Symbol.iterator]();

                    case 6:
                      if (_iteratorNormalCompletion49 = (_step49 = _iterator49.next()).done) {
                        _context26.next = 17;
                        break;
                      }

                      _r51 = _step49.value;
                      _context26.t0 = e.N_.has(_r51);

                      if (!_context26.t0) {
                        _context26.next = 14;
                        break;
                      }

                      _context26.next = 12;
                      return regeneratorRuntime.awrap(e.remoteSyncer.rejectListen(_r51, n));

                    case 12:
                      e.N_["delete"](_r51);
                      e.Q_.removeTarget(_r51);

                    case 14:
                      _iteratorNormalCompletion49 = true;
                      _context26.next = 6;
                      break;

                    case 17:
                      _context26.next = 23;
                      break;

                    case 19:
                      _context26.prev = 19;
                      _context26.t1 = _context26["catch"](4);
                      _didIteratorError49 = true;
                      _iteratorError49 = _context26.t1;

                    case 23:
                      _context26.prev = 23;
                      _context26.prev = 24;

                      if (!_iteratorNormalCompletion49 && _iterator49["return"] != null) {
                        _iterator49["return"]();
                      }

                    case 26:
                      _context26.prev = 26;

                      if (!_didIteratorError49) {
                        _context26.next = 29;
                        break;
                      }

                      throw _iteratorError49;

                    case 29:
                      return _context26.finish(26);

                    case 30:
                      return _context26.finish(23);

                    case 31:
                    case "end":
                      return _context26.stop();
                  }
                }
              }, null, null, [[4, 19, 23, 31], [24,, 26, 30]]);
            }(e, t));

          case 4:
            _context27.next = 11;
            break;

          case 6:
            _context27.prev = 6;
            _context27.t0 = _context27["catch"](1);
            Ct("RemoteStore", "Failed to remove targets %s: %s ", t.targetIds.join(","), _context27.t0);
            _context27.next = 11;
            return regeneratorRuntime.awrap(la(e, _context27.t0));

          case 11:
            _context27.next = 29;
            break;

          case 13:
            if (!(t instanceof as ? e.Q_.Ke(t) : t instanceof ls ? e.Q_.He(t) : e.Q_.We(t), !n.isEqual(Xt.min()))) {
              _context27.next = 29;
              break;
            }

            _context27.prev = 14;
            _context27.next = 17;
            return regeneratorRuntime.awrap(Eo(e.localStore));

          case 17:
            _t28 = _context27.sent;
            _context27.t1 = n.compareTo(_t28) >= 0;

            if (!_context27.t1) {
              _context27.next = 22;
              break;
            }

            _context27.next = 22;
            return regeneratorRuntime.awrap(function (e, t) {
              var n = e.Q_.rt(t);
              return n.targetChanges.forEach(function (n, r) {
                if (n.resumeToken.approximateByteSize() > 0) {
                  var _i64 = e.N_.get(r);

                  _i64 && e.N_.set(r, _i64.withResumeToken(n.resumeToken, t));
                }
              }), n.targetMismatches.forEach(function (t, n) {
                var r = e.N_.get(t);
                if (!r) return;
                e.N_.set(t, r.withResumeToken(xn.EMPTY_BYTE_STRING, r.snapshotVersion)), Zo(e, t);
                var i = new Ks(r.target, t, n, r.sequenceNumber);
                Jo(e, i);
              }), e.remoteSyncer.applyRemoteEvent(n);
            }(e, n));

          case 22:
            _context27.next = 29;
            break;

          case 24:
            _context27.prev = 24;
            _context27.t2 = _context27["catch"](14);
            Ct("RemoteStore", "Failed to raise snapshot:", _context27.t2);
            _context27.next = 29;
            return regeneratorRuntime.awrap(la(e, _context27.t2));

          case 29:
          case "end":
            return _context27.stop();
        }
      }
    }, null, null, [[1, 6], [14, 24]]);
  }

  function la(e, t, n) {
    return regeneratorRuntime.async(function la$(_context29) {
      while (1) {
        switch (_context29.prev = _context29.next) {
          case 0:
            if (fn(t)) {
              _context29.next = 2;
              break;
            }

            throw t;

          case 2:
            e.L_.add(1);
            _context29.next = 5;
            return regeneratorRuntime.awrap(Qo(e));

          case 5:
            e.q_.set("Offline");
            n || (n = function n() {
              return Eo(e.localStore);
            });
            e.asyncQueue.enqueueRetryable(function _callee7() {
              return regeneratorRuntime.async(function _callee7$(_context28) {
                while (1) {
                  switch (_context28.prev = _context28.next) {
                    case 0:
                      Ct("RemoteStore", "Retrying IndexedDB access");
                      _context28.next = 3;
                      return regeneratorRuntime.awrap(n());

                    case 3:
                      e.L_["delete"](1);
                      _context28.next = 6;
                      return regeneratorRuntime.awrap(Go(e));

                    case 6:
                    case "end":
                      return _context28.stop();
                  }
                }
              });
            });

          case 8:
          case "end":
            return _context29.stop();
        }
      }
    });
  }

  function ua(e, t) {
    return t()["catch"](function (n) {
      return la(e, n, t);
    });
  }

  function ca(e) {
    var t, n, r, _e49;

    return regeneratorRuntime.async(function ca$(_context30) {
      while (1) {
        switch (_context30.prev = _context30.next) {
          case 0:
            t = Dt(e), n = Ea(t);
            r = t.O_.length > 0 ? t.O_[t.O_.length - 1].batchId : -1;

          case 2:
            if (!ha(t)) {
              _context30.next = 19;
              break;
            }

            _context30.prev = 3;
            _context30.next = 6;
            return regeneratorRuntime.awrap(ko(t.localStore, r));

          case 6:
            _e49 = _context30.sent;

            if (!(null === _e49)) {
              _context30.next = 10;
              break;
            }

            0 === t.O_.length && n.o_();
            return _context30.abrupt("break", 19);

          case 10:
            r = _e49.batchId, da(t, _e49);
            _context30.next = 17;
            break;

          case 13:
            _context30.prev = 13;
            _context30.t0 = _context30["catch"](3);
            _context30.next = 17;
            return regeneratorRuntime.awrap(la(t, _context30.t0));

          case 17:
            _context30.next = 2;
            break;

          case 19:
            fa(t) && pa(t);

          case 20:
          case "end":
            return _context30.stop();
        }
      }
    }, null, null, [[3, 13]]);
  }

  function ha(e) {
    return na(e) && e.O_.length < 10;
  }

  function da(e, t) {
    e.O_.push(t);
    var n = Ea(e);
    n.r_() && n.V_ && n.m_(t.mutations);
  }

  function fa(e) {
    return na(e) && !Ea(e).n_() && e.O_.length > 0;
  }

  function pa(e) {
    Ea(e).start();
  }

  function ga(e) {
    return regeneratorRuntime.async(function ga$(_context31) {
      while (1) {
        switch (_context31.prev = _context31.next) {
          case 0:
            Ea(e).p_();

          case 1:
          case "end":
            return _context31.stop();
        }
      }
    });
  }

  function ma(e) {
    var t, _iteratorNormalCompletion50, _didIteratorError50, _iteratorError50, _iterator50, _step50, n;

    return regeneratorRuntime.async(function ma$(_context32) {
      while (1) {
        switch (_context32.prev = _context32.next) {
          case 0:
            t = Ea(e);
            _iteratorNormalCompletion50 = true;
            _didIteratorError50 = false;
            _iteratorError50 = undefined;
            _context32.prev = 4;

            for (_iterator50 = e.O_[Symbol.iterator](); !(_iteratorNormalCompletion50 = (_step50 = _iterator50.next()).done); _iteratorNormalCompletion50 = true) {
              n = _step50.value;
              t.m_(n.mutations);
            }

            _context32.next = 12;
            break;

          case 8:
            _context32.prev = 8;
            _context32.t0 = _context32["catch"](4);
            _didIteratorError50 = true;
            _iteratorError50 = _context32.t0;

          case 12:
            _context32.prev = 12;
            _context32.prev = 13;

            if (!_iteratorNormalCompletion50 && _iterator50["return"] != null) {
              _iterator50["return"]();
            }

          case 15:
            _context32.prev = 15;

            if (!_didIteratorError50) {
              _context32.next = 18;
              break;
            }

            throw _iteratorError50;

          case 18:
            return _context32.finish(15);

          case 19:
            return _context32.finish(12);

          case 20:
          case "end":
            return _context32.stop();
        }
      }
    }, null, null, [[4, 8, 12, 20], [13,, 15, 19]]);
  }

  function va(e, t, n) {
    var r, i;
    return regeneratorRuntime.async(function va$(_context33) {
      while (1) {
        switch (_context33.prev = _context33.next) {
          case 0:
            r = e.O_.shift(), i = Hi.from(r, t, n);
            _context33.next = 3;
            return regeneratorRuntime.awrap(ua(e, function () {
              return e.remoteSyncer.applySuccessfulWrite(i);
            }));

          case 3:
            _context33.next = 5;
            return regeneratorRuntime.awrap(ca(e));

          case 5:
          case "end":
            return _context33.stop();
        }
      }
    });
  }

  function ya(e, t) {
    return regeneratorRuntime.async(function ya$(_context35) {
      while (1) {
        switch (_context35.prev = _context35.next) {
          case 0:
            _context35.t0 = t && Ea(e).V_;

            if (!_context35.t0) {
              _context35.next = 4;
              break;
            }

            _context35.next = 4;
            return regeneratorRuntime.awrap(function _callee8(e, t) {
              var n;
              return regeneratorRuntime.async(function _callee8$(_context34) {
                while (1) {
                  switch (_context34.prev = _context34.next) {
                    case 0:
                      if (!function (e) {
                        return Xi(e) && e !== Ot.ABORTED;
                      }(t.code)) {
                        _context34.next = 7;
                        break;
                      }

                      n = e.O_.shift();
                      Ea(e).s_();
                      _context34.next = 5;
                      return regeneratorRuntime.awrap(ua(e, function () {
                        return e.remoteSyncer.rejectFailedWrite(n.batchId, t);
                      }));

                    case 5:
                      _context34.next = 7;
                      return regeneratorRuntime.awrap(ca(e));

                    case 7:
                    case "end":
                      return _context34.stop();
                  }
                }
              });
            }(e, t));

          case 4:
            fa(e) && pa(e);

          case 5:
          case "end":
            return _context35.stop();
        }
      }
    });
  }

  function wa(e, t) {
    var n, r;
    return regeneratorRuntime.async(function wa$(_context36) {
      while (1) {
        switch (_context36.prev = _context36.next) {
          case 0:
            n = Dt(e);
            n.asyncQueue.verifyOperationInProgress(), Ct("RemoteStore", "RemoteStore received new credentials");
            r = na(n);
            n.L_.add(3);
            _context36.next = 6;
            return regeneratorRuntime.awrap(Qo(n));

          case 6:
            r && n.q_.set("Unknown");
            _context36.next = 9;
            return regeneratorRuntime.awrap(n.remoteSyncer.handleCredentialChange(t));

          case 9:
            n.L_["delete"](3);
            _context36.next = 12;
            return regeneratorRuntime.awrap(Go(n));

          case 12:
          case "end":
            return _context36.stop();
        }
      }
    });
  }

  function ba(e, t) {
    var n;
    return regeneratorRuntime.async(function ba$(_context37) {
      while (1) {
        switch (_context37.prev = _context37.next) {
          case 0:
            n = Dt(e);

            if (!t) {
              _context37.next = 7;
              break;
            }

            n.L_["delete"](2);
            _context37.next = 5;
            return regeneratorRuntime.awrap(Go(n));

          case 5:
            _context37.next = 13;
            break;

          case 7:
            _context37.t0 = t;

            if (_context37.t0) {
              _context37.next = 13;
              break;
            }

            n.L_.add(2);
            _context37.next = 12;
            return regeneratorRuntime.awrap(Qo(n));

          case 12:
            n.q_.set("Unknown");

          case 13:
          case "end":
            return _context37.stop();
        }
      }
    });
  }

  function _a(e) {
    return e.K_ || (e.K_ = function (e, t, n) {
      var r = Dt(e);
      return r.w_(), new $o(t, r.connection, r.authCredentials, r.appCheckCredentials, r.serializer, n);
    }(e.datastore, e.asyncQueue, {
      Eo: ia.bind(null, e),
      Ro: sa.bind(null, e),
      mo: oa.bind(null, e),
      d_: aa.bind(null, e)
    }), e.B_.push(function _callee9(t) {
      return regeneratorRuntime.async(function _callee9$(_context38) {
        while (1) {
          switch (_context38.prev = _context38.next) {
            case 0:
              if (!t) {
                _context38.next = 4;
                break;
              }

              e.K_.s_(), ta(e) ? ea(e) : e.q_.set("Unknown");
              _context38.next = 7;
              break;

            case 4:
              _context38.next = 6;
              return regeneratorRuntime.awrap(e.K_.stop());

            case 6:
              ra(e);

            case 7:
            case "end":
              return _context38.stop();
          }
        }
      });
    })), e.K_;
  }

  function Ea(e) {
    return e.U_ || (e.U_ = function (e, t, n) {
      var r = Dt(e);
      return r.w_(), new qo(t, r.connection, r.authCredentials, r.appCheckCredentials, r.serializer, n);
    }(e.datastore, e.asyncQueue, {
      Eo: function Eo() {
        return Promise.resolve();
      },
      Ro: ga.bind(null, e),
      mo: ya.bind(null, e),
      f_: ma.bind(null, e),
      g_: va.bind(null, e)
    }), e.B_.push(function _callee10(t) {
      return regeneratorRuntime.async(function _callee10$(_context39) {
        while (1) {
          switch (_context39.prev = _context39.next) {
            case 0:
              if (!t) {
                _context39.next = 6;
                break;
              }

              e.U_.s_();
              _context39.next = 4;
              return regeneratorRuntime.awrap(ca(e));

            case 4:
              _context39.next = 9;
              break;

            case 6:
              _context39.next = 8;
              return regeneratorRuntime.awrap(e.U_.stop());

            case 8:
              e.O_.length > 0 && (Ct("RemoteStore", "Stopping write stream with ".concat(e.O_.length, " pending writes")), e.O_ = []);

            case 9:
            case "end":
              return _context39.stop();
          }
        }
      });
    })), e.U_;
  }

  var Sa =
  /*#__PURE__*/
  function () {
    function Sa(e, t, n, r, i) {
      _classCallCheck(this, Sa);

      this.asyncQueue = e, this.timerId = t, this.targetTimeMs = n, this.op = r, this.removalCallback = i, this.deferred = new Mt(), this.then = this.deferred.promise.then.bind(this.deferred.promise), this.deferred.promise["catch"](function (e) {});
    }

    _createClass(Sa, [{
      key: "start",
      value: function start(e) {
        var _this99 = this;

        this.timerHandle = setTimeout(function () {
          return _this99.handleDelayElapsed();
        }, e);
      }
    }, {
      key: "skipDelay",
      value: function skipDelay() {
        return this.handleDelayElapsed();
      }
    }, {
      key: "cancel",
      value: function cancel(e) {
        null !== this.timerHandle && (this.clearTimeout(), this.deferred.reject(new Lt(Ot.CANCELLED, "Operation cancelled" + (e ? ": " + e : ""))));
      }
    }, {
      key: "handleDelayElapsed",
      value: function handleDelayElapsed() {
        var _this100 = this;

        this.asyncQueue.enqueueAndForget(function () {
          return null !== _this100.timerHandle ? (_this100.clearTimeout(), _this100.op().then(function (e) {
            return _this100.deferred.resolve(e);
          })) : Promise.resolve();
        });
      }
    }, {
      key: "clearTimeout",
      value: function (_clearTimeout) {
        function clearTimeout() {
          return _clearTimeout.apply(this, arguments);
        }

        clearTimeout.toString = function () {
          return _clearTimeout.toString();
        };

        return clearTimeout;
      }(function () {
        null !== this.timerHandle && (this.removalCallback(this), clearTimeout(this.timerHandle), this.timerHandle = null);
      })
    }, {
      key: "promise",
      get: function get() {
        return this.deferred.promise;
      }
    }], [{
      key: "createAndSchedule",
      value: function createAndSchedule(e, t, n, r, i) {
        var s = Date.now() + n,
            o = new Sa(e, t, s, r, i);
        return o.start(n), o;
      }
    }]);

    return Sa;
  }();

  function ka(e, t) {
    if (Nt("AsyncQueue", "".concat(t, ": ").concat(e)), fn(e)) return new Lt(Ot.UNAVAILABLE, "".concat(t, ": ").concat(e));
    throw e;
  }

  var Ta =
  /*#__PURE__*/
  function () {
    function Ta(e) {
      _classCallCheck(this, Ta);

      this.comparator = e ? function (t, n) {
        return e(t, n) || tn.comparator(t.key, n.key);
      } : function (e, t) {
        return tn.comparator(e.key, t.key);
      }, this.keyedMap = ri(), this.sortedSet = new Tn(this.comparator);
    }

    _createClass(Ta, [{
      key: "has",
      value: function has(e) {
        return null != this.keyedMap.get(e);
      }
    }, {
      key: "get",
      value: function get(e) {
        return this.keyedMap.get(e);
      }
    }, {
      key: "first",
      value: function first() {
        return this.sortedSet.minKey();
      }
    }, {
      key: "last",
      value: function last() {
        return this.sortedSet.maxKey();
      }
    }, {
      key: "isEmpty",
      value: function isEmpty() {
        return this.sortedSet.isEmpty();
      }
    }, {
      key: "indexOf",
      value: function indexOf(e) {
        var t = this.keyedMap.get(e);
        return t ? this.sortedSet.indexOf(t) : -1;
      }
    }, {
      key: "forEach",
      value: function forEach(e) {
        this.sortedSet.inorderTraversal(function (t, n) {
          return e(t), !1;
        });
      }
    }, {
      key: "add",
      value: function add(e) {
        var t = this["delete"](e.key);
        return t.copy(t.keyedMap.insert(e.key, e), t.sortedSet.insert(e, null));
      }
    }, {
      key: "delete",
      value: function _delete(e) {
        var t = this.get(e);
        return t ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(t)) : this;
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        if (!(e instanceof Ta)) return !1;
        if (this.size !== e.size) return !1;
        var t = this.sortedSet.getIterator(),
            n = e.sortedSet.getIterator();

        for (; t.hasNext();) {
          var _e50 = t.getNext().key,
              _r52 = n.getNext().key;
          if (!_e50.isEqual(_r52)) return !1;
        }

        return !0;
      }
    }, {
      key: "toString",
      value: function toString() {
        var e = [];
        return this.forEach(function (t) {
          e.push(t.toString());
        }), 0 === e.length ? "DocumentSet ()" : "DocumentSet (\n  " + e.join("  \n") + "\n)";
      }
    }, {
      key: "copy",
      value: function copy(e, t) {
        var n = new Ta();
        return n.comparator = this.comparator, n.keyedMap = e, n.sortedSet = t, n;
      }
    }, {
      key: "size",
      get: function get() {
        return this.sortedSet.size;
      }
    }], [{
      key: "emptySet",
      value: function emptySet(e) {
        return new Ta(e.comparator);
      }
    }]);

    return Ta;
  }();

  var Ia =
  /*#__PURE__*/
  function () {
    function Ia() {
      _classCallCheck(this, Ia);

      this.W_ = new Tn(tn.comparator);
    }

    _createClass(Ia, [{
      key: "track",
      value: function track(e) {
        var t = e.doc.key,
            n = this.W_.get(t);
        n ? 0 !== e.type && 3 === n.type ? this.W_ = this.W_.insert(t, e) : 3 === e.type && 1 !== n.type ? this.W_ = this.W_.insert(t, {
          type: n.type,
          doc: e.doc
        }) : 2 === e.type && 2 === n.type ? this.W_ = this.W_.insert(t, {
          type: 2,
          doc: e.doc
        }) : 2 === e.type && 0 === n.type ? this.W_ = this.W_.insert(t, {
          type: 0,
          doc: e.doc
        }) : 1 === e.type && 0 === n.type ? this.W_ = this.W_.remove(t) : 1 === e.type && 2 === n.type ? this.W_ = this.W_.insert(t, {
          type: 1,
          doc: n.doc
        }) : 0 === e.type && 1 === n.type ? this.W_ = this.W_.insert(t, {
          type: 2,
          doc: e.doc
        }) : Pt() : this.W_ = this.W_.insert(t, e);
      }
    }, {
      key: "G_",
      value: function G_() {
        var e = [];
        return this.W_.inorderTraversal(function (t, n) {
          e.push(n);
        }), e;
      }
    }]);

    return Ia;
  }();

  var Ca =
  /*#__PURE__*/
  function () {
    function Ca(e, t, n, r, i, s, o, a, l) {
      _classCallCheck(this, Ca);

      this.query = e, this.docs = t, this.oldDocs = n, this.docChanges = r, this.mutatedKeys = i, this.fromCache = s, this.syncStateChanged = o, this.excludesMetadataChanges = a, this.hasCachedResults = l;
    }

    _createClass(Ca, [{
      key: "isEqual",
      value: function isEqual(e) {
        if (!(this.fromCache === e.fromCache && this.hasCachedResults === e.hasCachedResults && this.syncStateChanged === e.syncStateChanged && this.mutatedKeys.isEqual(e.mutatedKeys) && Kr(this.query, e.query) && this.docs.isEqual(e.docs) && this.oldDocs.isEqual(e.oldDocs))) return !1;
        var t = this.docChanges,
            n = e.docChanges;
        if (t.length !== n.length) return !1;

        for (var _r53 = 0; _r53 < t.length; _r53++) {
          if (t[_r53].type !== n[_r53].type || !t[_r53].doc.isEqual(n[_r53].doc)) return !1;
        }

        return !0;
      }
    }, {
      key: "hasPendingWrites",
      get: function get() {
        return !this.mutatedKeys.isEmpty();
      }
    }], [{
      key: "fromInitialDocuments",
      value: function fromInitialDocuments(e, t, n, r, i) {
        var s = [];
        return t.forEach(function (e) {
          s.push({
            type: 0,
            doc: e
          });
        }), new Ca(e, t, Ta.emptySet(t), s, n, r, !0, !1, i);
      }
    }]);

    return Ca;
  }();

  var Na =
  /*#__PURE__*/
  function () {
    function Na() {
      _classCallCheck(this, Na);

      this.z_ = void 0, this.j_ = [];
    }

    _createClass(Na, [{
      key: "H_",
      value: function H_() {
        return this.j_.some(function (e) {
          return e.J_();
        });
      }
    }]);

    return Na;
  }();

  var Aa =
  /*#__PURE__*/
  function () {
    function Aa() {
      _classCallCheck(this, Aa);

      this.queries = Ra(), this.onlineState = "Unknown", this.Y_ = new Set();
    }

    _createClass(Aa, [{
      key: "terminate",
      value: function terminate() {
        !function (e, t) {
          var n = Dt(e),
              r = n.queries;
          n.queries = Ra(), r.forEach(function (e, n) {
            var _iteratorNormalCompletion51 = true;
            var _didIteratorError51 = false;
            var _iteratorError51 = undefined;

            try {
              for (var _iterator51 = n.j_[Symbol.iterator](), _step51; !(_iteratorNormalCompletion51 = (_step51 = _iterator51.next()).done); _iteratorNormalCompletion51 = true) {
                var _r54 = _step51.value;

                _r54.onError(t);
              }
            } catch (err) {
              _didIteratorError51 = true;
              _iteratorError51 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion51 && _iterator51["return"] != null) {
                  _iterator51["return"]();
                }
              } finally {
                if (_didIteratorError51) {
                  throw _iteratorError51;
                }
              }
            }
          });
        }(this, new Lt(Ot.ABORTED, "Firestore shutting down"));
      }
    }]);

    return Aa;
  }();

  function Ra() {
    return new Zr(function (e) {
      return Wr(e);
    }, Kr);
  }

  function Pa(e, t) {
    var n, r, i, s, _n34;

    return regeneratorRuntime.async(function Pa$(_context40) {
      while (1) {
        switch (_context40.prev = _context40.next) {
          case 0:
            n = Dt(e);
            r = 3;
            i = t.query;
            s = n.queries.get(i);
            s ? !s.H_() && t.J_() && (r = 2) : (s = new Na(), r = t.J_() ? 0 : 1);
            _context40.prev = 5;
            _context40.t0 = r;
            _context40.next = _context40.t0 === 0 ? 9 : _context40.t0 === 1 ? 13 : _context40.t0 === 2 ? 17 : 19;
            break;

          case 9:
            _context40.next = 11;
            return regeneratorRuntime.awrap(n.onListen(i, !0));

          case 11:
            s.z_ = _context40.sent;
            return _context40.abrupt("break", 19);

          case 13:
            _context40.next = 15;
            return regeneratorRuntime.awrap(n.onListen(i, !1));

          case 15:
            s.z_ = _context40.sent;
            return _context40.abrupt("break", 19);

          case 17:
            _context40.next = 19;
            return regeneratorRuntime.awrap(n.onFirstRemoteStoreListen(i));

          case 19:
            _context40.next = 25;
            break;

          case 21:
            _context40.prev = 21;
            _context40.t1 = _context40["catch"](5);
            _n34 = ka(_context40.t1, "Initialization of query '".concat(Gr(t.query), "' failed"));
            return _context40.abrupt("return", void t.onError(_n34));

          case 25:
            n.queries.set(i, s), s.j_.push(t), t.Z_(n.onlineState), s.z_ && t.X_(s.z_) && La(n);

          case 26:
          case "end":
            return _context40.stop();
        }
      }
    }, null, null, [[5, 21]]);
  }

  function xa(e, t) {
    var n, r, i, s, _e51;

    return regeneratorRuntime.async(function xa$(_context41) {
      while (1) {
        switch (_context41.prev = _context41.next) {
          case 0:
            n = Dt(e), r = t.query;
            i = 3;
            s = n.queries.get(r);

            if (s) {
              _e51 = s.j_.indexOf(t);
              _e51 >= 0 && (s.j_.splice(_e51, 1), 0 === s.j_.length ? i = t.J_() ? 0 : 1 : !s.H_() && t.J_() && (i = 2));
            }

            _context41.t0 = i;
            _context41.next = _context41.t0 === 0 ? 7 : _context41.t0 === 1 ? 8 : _context41.t0 === 2 ? 9 : 10;
            break;

          case 7:
            return _context41.abrupt("return", (n.queries["delete"](r), n.onUnlisten(r, !0)));

          case 8:
            return _context41.abrupt("return", (n.queries["delete"](r), n.onUnlisten(r, !1)));

          case 9:
            return _context41.abrupt("return", n.onLastRemoteStoreUnlisten(r));

          case 10:
            return _context41.abrupt("return");

          case 11:
          case "end":
            return _context41.stop();
        }
      }
    });
  }

  function Da(e, t) {
    var n = Dt(e);
    var r = !1;
    var _iteratorNormalCompletion52 = true;
    var _didIteratorError52 = false;
    var _iteratorError52 = undefined;

    try {
      for (var _iterator52 = t[Symbol.iterator](), _step52; !(_iteratorNormalCompletion52 = (_step52 = _iterator52.next()).done); _iteratorNormalCompletion52 = true) {
        var _i65 = _step52.value;

        var _e52 = _i65.query,
            _t29 = n.queries.get(_e52);

        if (_t29) {
          var _iteratorNormalCompletion53 = true;
          var _didIteratorError53 = false;
          var _iteratorError53 = undefined;

          try {
            for (var _iterator53 = _t29.j_[Symbol.iterator](), _step53; !(_iteratorNormalCompletion53 = (_step53 = _iterator53.next()).done); _iteratorNormalCompletion53 = true) {
              var _e53 = _step53.value;
              _e53.X_(_i65) && (r = !0);
            }
          } catch (err) {
            _didIteratorError53 = true;
            _iteratorError53 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion53 && _iterator53["return"] != null) {
                _iterator53["return"]();
              }
            } finally {
              if (_didIteratorError53) {
                throw _iteratorError53;
              }
            }
          }

          _t29.z_ = _i65;
        }
      }
    } catch (err) {
      _didIteratorError52 = true;
      _iteratorError52 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion52 && _iterator52["return"] != null) {
          _iterator52["return"]();
        }
      } finally {
        if (_didIteratorError52) {
          throw _iteratorError52;
        }
      }
    }

    r && La(n);
  }

  function Oa(e, t, n) {
    var r = Dt(e),
        i = r.queries.get(t);

    if (i) {
      var _iteratorNormalCompletion54 = true;
      var _didIteratorError54 = false;
      var _iteratorError54 = undefined;

      try {
        for (var _iterator54 = i.j_[Symbol.iterator](), _step54; !(_iteratorNormalCompletion54 = (_step54 = _iterator54.next()).done); _iteratorNormalCompletion54 = true) {
          var _s25 = _step54.value;

          _s25.onError(n);
        }
      } catch (err) {
        _didIteratorError54 = true;
        _iteratorError54 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion54 && _iterator54["return"] != null) {
            _iterator54["return"]();
          }
        } finally {
          if (_didIteratorError54) {
            throw _iteratorError54;
          }
        }
      }
    }

    r.queries["delete"](t);
  }

  function La(e) {
    e.Y_.forEach(function (e) {
      e.next();
    });
  }

  var Ma, Fa;
  (Fa = Ma || (Ma = {})).ea = "default", Fa.Cache = "cache";

  var Ua =
  /*#__PURE__*/
  function () {
    function Ua(e, t, n) {
      _classCallCheck(this, Ua);

      this.query = e, this.ta = t, this.na = !1, this.ra = null, this.onlineState = "Unknown", this.options = n || {};
    }

    _createClass(Ua, [{
      key: "X_",
      value: function X_(e) {
        if (!this.options.includeMetadataChanges) {
          var _t30 = [];
          var _iteratorNormalCompletion55 = true;
          var _didIteratorError55 = false;
          var _iteratorError55 = undefined;

          try {
            for (var _iterator55 = e.docChanges[Symbol.iterator](), _step55; !(_iteratorNormalCompletion55 = (_step55 = _iterator55.next()).done); _iteratorNormalCompletion55 = true) {
              var n = _step55.value;
              3 !== n.type && _t30.push(n);
            }
          } catch (err) {
            _didIteratorError55 = true;
            _iteratorError55 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion55 && _iterator55["return"] != null) {
                _iterator55["return"]();
              }
            } finally {
              if (_didIteratorError55) {
                throw _iteratorError55;
              }
            }
          }

          e = new Ca(e.query, e.docs, e.oldDocs, _t30, e.mutatedKeys, e.fromCache, e.syncStateChanged, !0, e.hasCachedResults);
        }

        var t = !1;
        return this.na ? this.ia(e) && (this.ta.next(e), t = !0) : this.sa(e, this.onlineState) && (this.oa(e), t = !0), this.ra = e, t;
      }
    }, {
      key: "onError",
      value: function onError(e) {
        this.ta.error(e);
      }
    }, {
      key: "Z_",
      value: function Z_(e) {
        this.onlineState = e;
        var t = !1;
        return this.ra && !this.na && this.sa(this.ra, e) && (this.oa(this.ra), t = !0), t;
      }
    }, {
      key: "sa",
      value: function sa(e, t) {
        if (!e.fromCache) return !0;
        if (!this.J_()) return !0;
        var n = "Offline" !== t;
        return (!this.options._a || !n) && (!e.docs.isEmpty() || e.hasCachedResults || "Offline" === t);
      }
    }, {
      key: "ia",
      value: function ia(e) {
        if (e.docChanges.length > 0) return !0;
        var t = this.ra && this.ra.hasPendingWrites !== e.hasPendingWrites;
        return !(!e.syncStateChanged && !t) && !0 === this.options.includeMetadataChanges;
      }
    }, {
      key: "oa",
      value: function oa(e) {
        e = Ca.fromInitialDocuments(e.query, e.docs, e.mutatedKeys, e.fromCache, e.hasCachedResults), this.na = !0, this.ta.next(e);
      }
    }, {
      key: "J_",
      value: function J_() {
        return this.options.source !== Ma.Cache;
      }
    }]);

    return Ua;
  }();

  var Va = function Va(e) {
    _classCallCheck(this, Va);

    this.key = e;
  };

  var za = function za(e) {
    _classCallCheck(this, za);

    this.key = e;
  };

  var ja =
  /*#__PURE__*/
  function () {
    function ja(e, t) {
      _classCallCheck(this, ja);

      this.query = e, this.Ta = t, this.Ea = null, this.hasCachedResults = !1, this.current = !1, this.da = ci(), this.mutatedKeys = ci(), this.Aa = Yr(e), this.Ra = new Ta(this.Aa);
    }

    _createClass(ja, [{
      key: "ma",
      value: function ma(e, t) {
        var _this101 = this;

        var n = t ? t.fa : new Ia(),
            r = t ? t.Ra : this.Ra;
        var i = t ? t.mutatedKeys : this.mutatedKeys,
            s = r,
            o = !1;
        var a = "F" === this.query.limitType && r.size === this.query.limit ? r.last() : null,
            l = "L" === this.query.limitType && r.size === this.query.limit ? r.first() : null;
        if (e.inorderTraversal(function (e, t) {
          var u = r.get(e),
              c = Qr(_this101.query, t) ? t : null,
              h = !!u && _this101.mutatedKeys.has(u.key),
              d = !!c && (c.hasLocalMutations || _this101.mutatedKeys.has(c.key) && c.hasCommittedMutations);

          var f = !1;
          u && c ? u.data.isEqual(c.data) ? h !== d && (n.track({
            type: 3,
            doc: c
          }), f = !0) : _this101.ga(u, c) || (n.track({
            type: 2,
            doc: c
          }), f = !0, (a && _this101.Aa(c, a) > 0 || l && _this101.Aa(c, l) < 0) && (o = !0)) : !u && c ? (n.track({
            type: 0,
            doc: c
          }), f = !0) : u && !c && (n.track({
            type: 1,
            doc: u
          }), f = !0, (a || l) && (o = !0)), f && (c ? (s = s.add(c), i = d ? i.add(e) : i["delete"](e)) : (s = s["delete"](e), i = i["delete"](e)));
        }), null !== this.query.limit) for (; s.size > this.query.limit;) {
          var _e54 = "F" === this.query.limitType ? s.last() : s.first();

          s = s["delete"](_e54.key), i = i["delete"](_e54.key), n.track({
            type: 1,
            doc: _e54
          });
        }
        return {
          Ra: s,
          fa: n,
          ns: o,
          mutatedKeys: i
        };
      }
    }, {
      key: "ga",
      value: function ga(e, t) {
        return e.hasLocalMutations && t.hasCommittedMutations && !t.hasLocalMutations;
      }
    }, {
      key: "applyChanges",
      value: function applyChanges(e, t, n, r) {
        var _this102 = this;

        var i = this.Ra;
        this.Ra = e.Ra, this.mutatedKeys = e.mutatedKeys;
        var s = e.fa.G_();
        s.sort(function (e, t) {
          return function (e, t) {
            var n = function n(e) {
              switch (e) {
                case 0:
                  return 1;

                case 2:
                case 3:
                  return 2;

                case 1:
                  return 0;

                default:
                  return Pt();
              }
            };

            return n(e) - n(t);
          }(e.type, t.type) || _this102.Aa(e.doc, t.doc);
        }), this.pa(n), r = null != r && r;
        var o = t && !r ? this.ya() : [],
            a = 0 === this.da.size && this.current && !r ? 1 : 0,
            l = a !== this.Ea;
        return this.Ea = a, 0 !== s.length || l ? {
          snapshot: new Ca(this.query, e.Ra, i, s, e.mutatedKeys, 0 === a, l, !1, !!n && n.resumeToken.approximateByteSize() > 0),
          wa: o
        } : {
          wa: o
        };
      }
    }, {
      key: "Z_",
      value: function Z_(e) {
        return this.current && "Offline" === e ? (this.current = !1, this.applyChanges({
          Ra: this.Ra,
          fa: new Ia(),
          mutatedKeys: this.mutatedKeys,
          ns: !1
        }, !1)) : {
          wa: []
        };
      }
    }, {
      key: "Sa",
      value: function Sa(e) {
        return !this.Ta.has(e) && !!this.Ra.has(e) && !this.Ra.get(e).hasLocalMutations;
      }
    }, {
      key: "pa",
      value: function pa(e) {
        var _this103 = this;

        e && (e.addedDocuments.forEach(function (e) {
          return _this103.Ta = _this103.Ta.add(e);
        }), e.modifiedDocuments.forEach(function (e) {}), e.removedDocuments.forEach(function (e) {
          return _this103.Ta = _this103.Ta["delete"](e);
        }), this.current = e.current);
      }
    }, {
      key: "ya",
      value: function ya() {
        var _this104 = this;

        if (!this.current) return [];
        var e = this.da;
        this.da = ci(), this.Ra.forEach(function (e) {
          _this104.Sa(e.key) && (_this104.da = _this104.da.add(e.key));
        });
        var t = [];
        return e.forEach(function (e) {
          _this104.da.has(e) || t.push(new za(e));
        }), this.da.forEach(function (n) {
          e.has(n) || t.push(new Va(n));
        }), t;
      }
    }, {
      key: "ba",
      value: function ba(e) {
        this.Ta = e.Ts, this.da = ci();
        var t = this.ma(e.documents);
        return this.applyChanges(t, !0);
      }
    }, {
      key: "Da",
      value: function Da() {
        return Ca.fromInitialDocuments(this.query, this.Ra, this.mutatedKeys, 0 === this.Ea, this.hasCachedResults);
      }
    }, {
      key: "Va",
      get: function get() {
        return this.Ta;
      }
    }]);

    return ja;
  }();

  var Ba = function Ba(e, t, n) {
    _classCallCheck(this, Ba);

    this.query = e, this.targetId = t, this.view = n;
  };

  var $a = function $a(e) {
    _classCallCheck(this, $a);

    this.key = e, this.va = !1;
  };

  var qa =
  /*#__PURE__*/
  function () {
    function qa(e, t, n, r, i, s) {
      _classCallCheck(this, qa);

      this.localStore = e, this.remoteStore = t, this.eventManager = n, this.sharedClientState = r, this.currentUser = i, this.maxConcurrentLimboResolutions = s, this.Ca = {}, this.Fa = new Zr(function (e) {
        return Wr(e);
      }, Kr), this.Ma = new Map(), this.xa = new Set(), this.Oa = new Tn(tn.comparator), this.Na = new Map(), this.La = new oo(), this.Ba = {}, this.ka = new Map(), this.qa = Zs.kn(), this.onlineState = "Unknown", this.Qa = void 0;
    }

    _createClass(qa, [{
      key: "isPrimaryClient",
      get: function get() {
        return !0 === this.Qa;
      }
    }]);

    return qa;
  }();

  function Ha(e, t) {
    var n,
        r,
        i,
        s,
        _args42 = arguments;
    return regeneratorRuntime.async(function Ha$(_context42) {
      while (1) {
        switch (_context42.prev = _context42.next) {
          case 0:
            n = !(_args42.length > 2 && void 0 !== _args42[2]) || _args42[2];
            r = dl(e);
            s = r.Fa.get(t);

            if (!s) {
              _context42.next = 7;
              break;
            }

            r.sharedClientState.addLocalQueryTarget(s.targetId), i = s.view.Da();
            _context42.next = 10;
            break;

          case 7:
            _context42.next = 9;
            return regeneratorRuntime.awrap(Wa(r, t, n, !0));

          case 9:
            i = _context42.sent;

          case 10:
            return _context42.abrupt("return", i);

          case 11:
          case "end":
            return _context42.stop();
        }
      }
    });
  }

  function Ka(e, t) {
    var n;
    return regeneratorRuntime.async(function Ka$(_context43) {
      while (1) {
        switch (_context43.prev = _context43.next) {
          case 0:
            n = dl(e);
            _context43.next = 3;
            return regeneratorRuntime.awrap(Wa(n, t, !0, !1));

          case 3:
          case "end":
            return _context43.stop();
        }
      }
    });
  }

  function Wa(e, t, n, r) {
    var i, s, o, a;
    return regeneratorRuntime.async(function Wa$(_context44) {
      while (1) {
        switch (_context44.prev = _context44.next) {
          case 0:
            _context44.next = 2;
            return regeneratorRuntime.awrap(To(e.localStore, Br(t)));

          case 2:
            i = _context44.sent;
            s = i.targetId;
            o = n ? e.sharedClientState.addLocalQueryTarget(s) : "not-current";
            _context44.t0 = r;

            if (!_context44.t0) {
              _context44.next = 10;
              break;
            }

            _context44.next = 9;
            return regeneratorRuntime.awrap(Ga(e, t, s, "current" === o, i.resumeToken));

          case 9:
            a = _context44.sent;

          case 10:
            e.isPrimaryClient && n && Xo(e.remoteStore, i);
            return _context44.abrupt("return", a);

          case 12:
          case "end":
            return _context44.stop();
        }
      }
    });
  }

  function Ga(e, t, n, r, i) {
    var s, o, a, l, u, c;
    return regeneratorRuntime.async(function Ga$(_context46) {
      while (1) {
        switch (_context46.prev = _context46.next) {
          case 0:
            e.Ka = function (t, n, r) {
              return function _callee11(e, t, n, r) {
                var i, s, o, a;
                return regeneratorRuntime.async(function _callee11$(_context45) {
                  while (1) {
                    switch (_context45.prev = _context45.next) {
                      case 0:
                        i = t.view.ma(n);
                        _context45.t0 = i.ns;

                        if (!_context45.t0) {
                          _context45.next = 6;
                          break;
                        }

                        _context45.next = 5;
                        return regeneratorRuntime.awrap(Co(e.localStore, t.query, !1).then(function (e) {
                          var n = e.documents;
                          return t.view.ma(n, i);
                        }));

                      case 5:
                        i = _context45.sent;

                      case 6:
                        s = r && r.targetChanges.get(t.targetId), o = r && null != r.targetMismatches.get(t.targetId), a = t.view.applyChanges(i, e.isPrimaryClient, s, o);
                        return _context45.abrupt("return", (ol(e, t.targetId, a.wa), a.snapshot));

                      case 8:
                      case "end":
                        return _context45.stop();
                    }
                  }
                });
              }(e, t, n, r);
            };

            _context46.next = 3;
            return regeneratorRuntime.awrap(Co(e.localStore, t, !0));

          case 3:
            s = _context46.sent;
            o = new ja(t, s.Ts);
            a = o.ma(s.documents);
            l = os.createSynthesizedTargetChangeForCurrentChange(n, r && "Offline" !== e.onlineState, i);
            u = o.applyChanges(a, e.isPrimaryClient, l);
            ol(e, n, u.wa);
            c = new Ba(t, n, o);
            return _context46.abrupt("return", (e.Fa.set(t, c), e.Ma.has(n) ? e.Ma.get(n).push(t) : e.Ma.set(n, [t]), u.snapshot));

          case 11:
          case "end":
            return _context46.stop();
        }
      }
    });
  }

  function Qa(e, t, n) {
    var r, i, s;
    return regeneratorRuntime.async(function Qa$(_context47) {
      while (1) {
        switch (_context47.prev = _context47.next) {
          case 0:
            r = Dt(e), i = r.Fa.get(t), s = r.Ma.get(i.targetId);

            if (!(s.length > 1)) {
              _context47.next = 3;
              break;
            }

            return _context47.abrupt("return", (r.Ma.set(i.targetId, s.filter(function (e) {
              return !Kr(e, t);
            })), void r.Fa["delete"](t)));

          case 3:
            if (!r.isPrimaryClient) {
              _context47.next = 11;
              break;
            }

            r.sharedClientState.removeLocalQueryTarget(i.targetId);
            _context47.t0 = r.sharedClientState.isActiveQueryTarget(i.targetId);

            if (_context47.t0) {
              _context47.next = 9;
              break;
            }

            _context47.next = 9;
            return regeneratorRuntime.awrap(Io(r.localStore, i.targetId, !1).then(function () {
              r.sharedClientState.clearQueryState(i.targetId), n && Yo(r.remoteStore, i.targetId), il(r, i.targetId);
            })["catch"](cn));

          case 9:
            _context47.next = 14;
            break;

          case 11:
            il(r, i.targetId);
            _context47.next = 14;
            return regeneratorRuntime.awrap(Io(r.localStore, i.targetId, !0));

          case 14:
          case "end":
            return _context47.stop();
        }
      }
    });
  }

  function Xa(e, t) {
    var n, r, i;
    return regeneratorRuntime.async(function Xa$(_context48) {
      while (1) {
        switch (_context48.prev = _context48.next) {
          case 0:
            n = Dt(e), r = n.Fa.get(t), i = n.Ma.get(r.targetId);
            n.isPrimaryClient && 1 === i.length && (n.sharedClientState.removeLocalQueryTarget(r.targetId), Yo(n.remoteStore, r.targetId));

          case 2:
          case "end":
            return _context48.stop();
        }
      }
    });
  }

  function Ya(e, t) {
    var n, _e55;

    return regeneratorRuntime.async(function Ya$(_context49) {
      while (1) {
        switch (_context49.prev = _context49.next) {
          case 0:
            n = Dt(e);
            _context49.prev = 1;
            _context49.next = 4;
            return regeneratorRuntime.awrap(function (e, t) {
              var n = Dt(e),
                  r = t.snapshotVersion;
              var i = n.os;
              return n.persistence.runTransaction("Apply remote event", "readwrite-primary", function (e) {
                var s = n.cs.newChangeBuffer({
                  trackRemovals: !0
                });
                i = n.os;
                var o = [];
                t.targetChanges.forEach(function (s, a) {
                  var l = i.get(a);
                  if (!l) return;
                  o.push(n.Ur.removeMatchingKeys(e, s.removedDocuments, a).next(function () {
                    return n.Ur.addMatchingKeys(e, s.addedDocuments, a);
                  }));
                  var u = l.withSequenceNumber(e.currentSequenceNumber);
                  null !== t.targetMismatches.get(a) ? u = u.withResumeToken(xn.EMPTY_BYTE_STRING, Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()) : s.resumeToken.approximateByteSize() > 0 && (u = u.withResumeToken(s.resumeToken, r)), i = i.insert(a, u), function (e, t, n) {
                    return 0 === e.resumeToken.approximateByteSize() || t.snapshotVersion.toMicroseconds() - e.snapshotVersion.toMicroseconds() >= 3e8 || n.addedDocuments.size + n.modifiedDocuments.size + n.removedDocuments.size > 0;
                  }(l, u, s) && o.push(n.Ur.updateTargetData(e, u));
                });
                var a = ti(),
                    l = ci();

                if (t.documentUpdates.forEach(function (r) {
                  t.resolvedLimboDocuments.has(r) && o.push(n.persistence.referenceDelegate.updateLimboDocument(e, r));
                }), o.push(So(e, s, t.documentUpdates).next(function (e) {
                  a = e.Ps, l = e.Is;
                })), !r.isEqual(Xt.min())) {
                  var _t31 = n.Ur.getLastRemoteSnapshotVersion(e).next(function (t) {
                    return n.Ur.setTargetsMetadata(e, e.currentSequenceNumber, r);
                  });

                  o.push(_t31);
                }

                return hn.waitFor(o).next(function () {
                  return s.apply(e);
                }).next(function () {
                  return n.localDocuments.getLocalViewOfDocuments(e, a, l);
                }).next(function () {
                  return a;
                });
              }).then(function (e) {
                return n.os = i, e;
              });
            }(n.localStore, t));

          case 4:
            _e55 = _context49.sent;
            t.targetChanges.forEach(function (e, t) {
              var r = n.Na.get(t);
              r && (xt(e.addedDocuments.size + e.modifiedDocuments.size + e.removedDocuments.size <= 1), e.addedDocuments.size > 0 ? r.va = !0 : e.modifiedDocuments.size > 0 ? xt(r.va) : e.removedDocuments.size > 0 && (xt(r.va), r.va = !1));
            });
            _context49.next = 8;
            return regeneratorRuntime.awrap(ul(n, _e55, t));

          case 8:
            _context49.next = 14;
            break;

          case 10:
            _context49.prev = 10;
            _context49.t0 = _context49["catch"](1);
            _context49.next = 14;
            return regeneratorRuntime.awrap(cn(_context49.t0));

          case 14:
          case "end":
            return _context49.stop();
        }
      }
    }, null, null, [[1, 10]]);
  }

  function Ja(e, t, n) {
    var r = Dt(e);

    if (r.isPrimaryClient && 0 === n || !r.isPrimaryClient && 1 === n) {
      var _e56 = [];
      r.Fa.forEach(function (n, r) {
        var i = r.view.Z_(t);
        i.snapshot && _e56.push(i.snapshot);
      }), function (e, t) {
        var n = Dt(e);
        n.onlineState = t;
        var r = !1;
        n.queries.forEach(function (e, n) {
          var _iteratorNormalCompletion56 = true;
          var _didIteratorError56 = false;
          var _iteratorError56 = undefined;

          try {
            for (var _iterator56 = n.j_[Symbol.iterator](), _step56; !(_iteratorNormalCompletion56 = (_step56 = _iterator56.next()).done); _iteratorNormalCompletion56 = true) {
              var i = _step56.value;
              i.Z_(t) && (r = !0);
            }
          } catch (err) {
            _didIteratorError56 = true;
            _iteratorError56 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion56 && _iterator56["return"] != null) {
                _iterator56["return"]();
              }
            } finally {
              if (_didIteratorError56) {
                throw _iteratorError56;
              }
            }
          }
        }), r && La(n);
      }(r.eventManager, t), _e56.length && r.Ca.d_(_e56), r.onlineState = t, r.isPrimaryClient && r.sharedClientState.setOnlineState(t);
    }
  }

  function Za(e, t, n) {
    var r, i, s, _e57, _n35, _i66;

    return regeneratorRuntime.async(function Za$(_context50) {
      while (1) {
        switch (_context50.prev = _context50.next) {
          case 0:
            r = Dt(e);
            r.sharedClientState.updateQueryState(t, "rejected", n);
            i = r.Na.get(t), s = i && i.key;

            if (!s) {
              _context50.next = 14;
              break;
            }

            _e57 = new Tn(tn.comparator);
            _e57 = _e57.insert(s, lr.newNoDocument(s, Xt.min()));
            _n35 = ci().add(s), _i66 = new ss(Xt.min(), new Map(), new Tn(Wt), _e57, _n35);
            _context50.next = 9;
            return regeneratorRuntime.awrap(Ya(r, _i66));

          case 9:
            r.Oa = r.Oa.remove(s);
            r.Na["delete"](t);
            ll(r);
            _context50.next = 16;
            break;

          case 14:
            _context50.next = 16;
            return regeneratorRuntime.awrap(Io(r.localStore, t, !1).then(function () {
              return il(r, t, n);
            })["catch"](cn));

          case 16:
          case "end":
            return _context50.stop();
        }
      }
    });
  }

  function el(e, t) {
    var n, r, _e58;

    return regeneratorRuntime.async(function el$(_context51) {
      while (1) {
        switch (_context51.prev = _context51.next) {
          case 0:
            n = Dt(e), r = t.batch.batchId;
            _context51.prev = 1;
            _context51.next = 4;
            return regeneratorRuntime.awrap(function (e, t) {
              var n = Dt(e);
              return n.persistence.runTransaction("Acknowledge batch", "readwrite-primary", function (e) {
                var r = t.batch.keys(),
                    i = n.cs.newChangeBuffer({
                  trackRemovals: !0
                });
                return function (e, t, n, r) {
                  var i = n.batch,
                      s = i.keys();
                  var o = hn.resolve();
                  return s.forEach(function (e) {
                    o = o.next(function () {
                      return r.getEntry(t, e);
                    }).next(function (t) {
                      var s = n.docVersions.get(e);
                      xt(null !== s), t.version.compareTo(s) < 0 && (i.applyToRemoteDocument(t, n), t.isValidDocument() && (t.setReadTime(n.commitVersion), r.addEntry(t)));
                    });
                  }), o.next(function () {
                    return e.mutationQueue.removeMutationBatch(t, i);
                  });
                }(n, e, t, i).next(function () {
                  return i.apply(e);
                }).next(function () {
                  return n.mutationQueue.performConsistencyCheck(e);
                }).next(function () {
                  return n.documentOverlayCache.removeOverlaysForBatchId(e, r, t.batch.batchId);
                }).next(function () {
                  return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e, function (e) {
                    var t = ci();

                    for (var _n36 = 0; _n36 < e.mutationResults.length; ++_n36) {
                      e.mutationResults[_n36].transformResults.length > 0 && (t = t.add(e.batch.mutations[_n36].key));
                    }

                    return t;
                  }(t));
                }).next(function () {
                  return n.localDocuments.getDocuments(e, r);
                });
              });
            }(n.localStore, t));

          case 4:
            _e58 = _context51.sent;
            rl(n, r, null);
            nl(n, r);
            n.sharedClientState.updateMutationState(r, "acknowledged");
            _context51.next = 10;
            return regeneratorRuntime.awrap(ul(n, _e58));

          case 10:
            _context51.next = 16;
            break;

          case 12:
            _context51.prev = 12;
            _context51.t0 = _context51["catch"](1);
            _context51.next = 16;
            return regeneratorRuntime.awrap(cn(_context51.t0));

          case 16:
          case "end":
            return _context51.stop();
        }
      }
    }, null, null, [[1, 12]]);
  }

  function tl(e, t, n) {
    var r, _e59;

    return regeneratorRuntime.async(function tl$(_context52) {
      while (1) {
        switch (_context52.prev = _context52.next) {
          case 0:
            r = Dt(e);
            _context52.prev = 1;
            _context52.next = 4;
            return regeneratorRuntime.awrap(function (e, t) {
              var n = Dt(e);
              return n.persistence.runTransaction("Reject batch", "readwrite-primary", function (e) {
                var r;
                return n.mutationQueue.lookupMutationBatch(e, t).next(function (t) {
                  return xt(null !== t), r = t.keys(), n.mutationQueue.removeMutationBatch(e, t);
                }).next(function () {
                  return n.mutationQueue.performConsistencyCheck(e);
                }).next(function () {
                  return n.documentOverlayCache.removeOverlaysForBatchId(e, r, t);
                }).next(function () {
                  return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e, r);
                }).next(function () {
                  return n.localDocuments.getDocuments(e, r);
                });
              });
            }(r.localStore, t));

          case 4:
            _e59 = _context52.sent;
            rl(r, t, n);
            nl(r, t);
            r.sharedClientState.updateMutationState(t, "rejected", n);
            _context52.next = 10;
            return regeneratorRuntime.awrap(ul(r, _e59));

          case 10:
            _context52.next = 16;
            break;

          case 12:
            _context52.prev = 12;
            _context52.t0 = _context52["catch"](1);
            _context52.next = 16;
            return regeneratorRuntime.awrap(cn(_context52.t0));

          case 16:
          case "end":
            return _context52.stop();
        }
      }
    }, null, null, [[1, 12]]);
  }

  function nl(e, t) {
    (e.ka.get(t) || []).forEach(function (e) {
      e.resolve();
    }), e.ka["delete"](t);
  }

  function rl(e, t, n) {
    var r = Dt(e);
    var i = r.Ba[r.currentUser.toKey()];

    if (i) {
      var _e60 = i.get(t);

      _e60 && (n ? _e60.reject(n) : _e60.resolve(), i = i.remove(t)), r.Ba[r.currentUser.toKey()] = i;
    }
  }

  function il(e, t) {
    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
    e.sharedClientState.removeLocalQueryTarget(t);
    var _iteratorNormalCompletion57 = true;
    var _didIteratorError57 = false;
    var _iteratorError57 = undefined;

    try {
      for (var _iterator57 = e.Ma.get(t)[Symbol.iterator](), _step57; !(_iteratorNormalCompletion57 = (_step57 = _iterator57.next()).done); _iteratorNormalCompletion57 = true) {
        var _r55 = _step57.value;
        e.Fa["delete"](_r55), n && e.Ca.$a(_r55, n);
      }
    } catch (err) {
      _didIteratorError57 = true;
      _iteratorError57 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion57 && _iterator57["return"] != null) {
          _iterator57["return"]();
        }
      } finally {
        if (_didIteratorError57) {
          throw _iteratorError57;
        }
      }
    }

    e.Ma["delete"](t), e.isPrimaryClient && e.La.gr(t).forEach(function (t) {
      e.La.containsKey(t) || sl(e, t);
    });
  }

  function sl(e, t) {
    e.xa["delete"](t.path.canonicalString());
    var n = e.Oa.get(t);
    null !== n && (Yo(e.remoteStore, n), e.Oa = e.Oa.remove(t), e.Na["delete"](n), ll(e));
  }

  function ol(e, t, n) {
    var _iteratorNormalCompletion58 = true;
    var _didIteratorError58 = false;
    var _iteratorError58 = undefined;

    try {
      for (var _iterator58 = n[Symbol.iterator](), _step58; !(_iteratorNormalCompletion58 = (_step58 = _iterator58.next()).done); _iteratorNormalCompletion58 = true) {
        var _r56 = _step58.value;
        _r56 instanceof Va ? (e.La.addReference(_r56.key, t), al(e, _r56)) : _r56 instanceof za ? (Ct("SyncEngine", "Document no longer in limbo: " + _r56.key), e.La.removeReference(_r56.key, t), e.La.containsKey(_r56.key) || sl(e, _r56.key)) : Pt();
      }
    } catch (err) {
      _didIteratorError58 = true;
      _iteratorError58 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion58 && _iterator58["return"] != null) {
          _iterator58["return"]();
        }
      } finally {
        if (_didIteratorError58) {
          throw _iteratorError58;
        }
      }
    }
  }

  function al(e, t) {
    var n = t.key,
        r = n.path.canonicalString();
    e.Oa.get(n) || e.xa.has(r) || (Ct("SyncEngine", "New document in limbo: " + n), e.xa.add(r), ll(e));
  }

  function ll(e) {
    for (; e.xa.size > 0 && e.Oa.size < e.maxConcurrentLimboResolutions;) {
      var t = e.xa.values().next().value;
      e.xa["delete"](t);

      var n = new tn(Jt.fromString(t)),
          _r57 = e.qa.next();

      e.Na.set(_r57, new $a(n)), e.Oa = e.Oa.insert(n, _r57), Xo(e.remoteStore, new Ks(Br(Ur(n.path)), _r57, "TargetPurposeLimboResolution", pn.oe));
    }
  }

  function ul(e, t, n) {
    var r, i, s, o;
    return regeneratorRuntime.async(function ul$(_context54) {
      while (1) {
        switch (_context54.prev = _context54.next) {
          case 0:
            r = Dt(e), i = [], s = [], o = [];
            _context54.t0 = r.Fa.isEmpty();

            if (_context54.t0) {
              _context54.next = 9;
              break;
            }

            r.Fa.forEach(function (e, a) {
              o.push(r.Ka(a, t, n).then(function (e) {
                var t;

                if ((e || n) && r.isPrimaryClient) {
                  var _i67 = e ? !e.fromCache : null === (t = null == n ? void 0 : n.targetChanges.get(a.targetId)) || void 0 === t ? void 0 : t.current;

                  r.sharedClientState.updateQueryState(a.targetId, _i67 ? "current" : "not-current");
                }

                if (e) {
                  i.push(e);

                  var _t32 = mo.Wi(a.targetId, e);

                  s.push(_t32);
                }
              }));
            });
            _context54.next = 6;
            return regeneratorRuntime.awrap(Promise.all(o));

          case 6:
            r.Ca.d_(i);
            _context54.next = 9;
            return regeneratorRuntime.awrap(function _callee12(e, t) {
              var n, _iteratorNormalCompletion59, _didIteratorError59, _iteratorError59, _iterator59, _step59, _r58, _e61, _t33, _r59, _i68;

              return regeneratorRuntime.async(function _callee12$(_context53) {
                while (1) {
                  switch (_context53.prev = _context53.next) {
                    case 0:
                      n = Dt(e);
                      _context53.prev = 1;
                      _context53.next = 4;
                      return regeneratorRuntime.awrap(n.persistence.runTransaction("notifyLocalViewChanges", "readwrite", function (e) {
                        return hn.forEach(t, function (t) {
                          return hn.forEach(t.$i, function (r) {
                            return n.persistence.referenceDelegate.addReference(e, t.targetId, r);
                          }).next(function () {
                            return hn.forEach(t.Ui, function (r) {
                              return n.persistence.referenceDelegate.removeReference(e, t.targetId, r);
                            });
                          });
                        });
                      }));

                    case 4:
                      _context53.next = 11;
                      break;

                    case 6:
                      _context53.prev = 6;
                      _context53.t0 = _context53["catch"](1);

                      if (fn(_context53.t0)) {
                        _context53.next = 10;
                        break;
                      }

                      throw _context53.t0;

                    case 10:
                      Ct("LocalStore", "Failed to update sequence numbers: " + _context53.t0);

                    case 11:
                      _iteratorNormalCompletion59 = true;
                      _didIteratorError59 = false;
                      _iteratorError59 = undefined;
                      _context53.prev = 14;

                      for (_iterator59 = t[Symbol.iterator](); !(_iteratorNormalCompletion59 = (_step59 = _iterator59.next()).done); _iteratorNormalCompletion59 = true) {
                        _r58 = _step59.value;
                        _e61 = _r58.targetId;

                        if (!_r58.fromCache) {
                          _t33 = n.os.get(_e61), _r59 = _t33.snapshotVersion, _i68 = _t33.withLastLimboFreeSnapshotVersion(_r59);
                          n.os = n.os.insert(_e61, _i68);
                        }
                      }

                      _context53.next = 22;
                      break;

                    case 18:
                      _context53.prev = 18;
                      _context53.t1 = _context53["catch"](14);
                      _didIteratorError59 = true;
                      _iteratorError59 = _context53.t1;

                    case 22:
                      _context53.prev = 22;
                      _context53.prev = 23;

                      if (!_iteratorNormalCompletion59 && _iterator59["return"] != null) {
                        _iterator59["return"]();
                      }

                    case 25:
                      _context53.prev = 25;

                      if (!_didIteratorError59) {
                        _context53.next = 28;
                        break;
                      }

                      throw _iteratorError59;

                    case 28:
                      return _context53.finish(25);

                    case 29:
                      return _context53.finish(22);

                    case 30:
                    case "end":
                      return _context53.stop();
                  }
                }
              }, null, null, [[1, 6], [14, 18, 22, 30], [23,, 25, 29]]);
            }(r.localStore, s));

          case 9:
          case "end":
            return _context54.stop();
        }
      }
    });
  }

  function cl(e, t) {
    var n, _e62;

    return regeneratorRuntime.async(function cl$(_context55) {
      while (1) {
        switch (_context55.prev = _context55.next) {
          case 0:
            n = Dt(e);

            if (n.currentUser.isEqual(t)) {
              _context55.next = 11;
              break;
            }

            Ct("SyncEngine", "User change. New user:", t.toKey());
            _context55.next = 5;
            return regeneratorRuntime.awrap(_o(n.localStore, t));

          case 5:
            _e62 = _context55.sent;
            n.currentUser = t;

            (function (e, t) {
              e.ka.forEach(function (e) {
                e.forEach(function (e) {
                  e.reject(new Lt(Ot.CANCELLED, t));
                });
              }), e.ka.clear();
            })(n, "'waitForPendingWrites' promise is rejected due to a user change.");

            n.sharedClientState.handleUserChange(t, _e62.removedBatchIds, _e62.addedBatchIds);
            _context55.next = 11;
            return regeneratorRuntime.awrap(ul(n, _e62.hs));

          case 11:
          case "end":
            return _context55.stop();
        }
      }
    });
  }

  function hl(e, t) {
    var n = Dt(e),
        r = n.Na.get(t);
    if (r && r.va) return ci().add(r.key);
    {
      var _e63 = ci();

      var _r60 = n.Ma.get(t);

      if (!_r60) return _e63;
      var _iteratorNormalCompletion60 = true;
      var _didIteratorError60 = false;
      var _iteratorError60 = undefined;

      try {
        for (var _iterator60 = _r60[Symbol.iterator](), _step60; !(_iteratorNormalCompletion60 = (_step60 = _iterator60.next()).done); _iteratorNormalCompletion60 = true) {
          var _t34 = _step60.value;

          var _r61 = n.Fa.get(_t34);

          _e63 = _e63.unionWith(_r61.view.Va);
        }
      } catch (err) {
        _didIteratorError60 = true;
        _iteratorError60 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion60 && _iterator60["return"] != null) {
            _iterator60["return"]();
          }
        } finally {
          if (_didIteratorError60) {
            throw _iteratorError60;
          }
        }
      }

      return _e63;
    }
  }

  function dl(e) {
    var t = Dt(e);
    return t.remoteStore.remoteSyncer.applyRemoteEvent = Ya.bind(null, t), t.remoteStore.remoteSyncer.getRemoteKeysForTarget = hl.bind(null, t), t.remoteStore.remoteSyncer.rejectListen = Za.bind(null, t), t.Ca.d_ = Da.bind(null, t.eventManager), t.Ca.$a = Oa.bind(null, t.eventManager), t;
  }

  function fl(e) {
    var t = Dt(e);
    return t.remoteStore.remoteSyncer.applySuccessfulWrite = el.bind(null, t), t.remoteStore.remoteSyncer.rejectFailedWrite = tl.bind(null, t), t;
  }

  var pl =
  /*#__PURE__*/
  function () {
    function pl() {
      _classCallCheck(this, pl);

      this.synchronizeTabs = !1;
    }

    _createClass(pl, [{
      key: "initialize",
      value: function initialize(e) {
        return regeneratorRuntime.async(function initialize$(_context56) {
          while (1) {
            switch (_context56.prev = _context56.next) {
              case 0:
                this.serializer = zo(e.databaseInfo.databaseId);
                this.sharedClientState = this.createSharedClientState(e);
                this.persistence = this.createPersistence(e);
                _context56.next = 5;
                return regeneratorRuntime.awrap(this.persistence.start());

              case 5:
                this.localStore = this.createLocalStore(e);
                this.gcScheduler = this.createGarbageCollectionScheduler(e, this.localStore);
                this.indexBackfillerScheduler = this.createIndexBackfillerScheduler(e, this.localStore);

              case 8:
              case "end":
                return _context56.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "createGarbageCollectionScheduler",
      value: function createGarbageCollectionScheduler(e, t) {
        return null;
      }
    }, {
      key: "createIndexBackfillerScheduler",
      value: function createIndexBackfillerScheduler(e, t) {
        return null;
      }
    }, {
      key: "createLocalStore",
      value: function createLocalStore(e) {
        return bo(this.persistence, new yo(), e.initialUser, this.serializer);
      }
    }, {
      key: "createPersistence",
      value: function createPersistence(e) {
        return new fo(go.Zr, this.serializer);
      }
    }, {
      key: "createSharedClientState",
      value: function createSharedClientState(e) {
        return new Ro();
      }
    }, {
      key: "terminate",
      value: function terminate() {
        var e, t;
        return regeneratorRuntime.async(function terminate$(_context57) {
          while (1) {
            switch (_context57.prev = _context57.next) {
              case 0:
                null === (e = this.gcScheduler) || void 0 === e || e.stop();
                null === (t = this.indexBackfillerScheduler) || void 0 === t || t.stop();
                this.sharedClientState.shutdown();
                _context57.next = 5;
                return regeneratorRuntime.awrap(this.persistence.shutdown());

              case 5:
              case "end":
                return _context57.stop();
            }
          }
        }, null, this);
      }
    }]);

    return pl;
  }();

  var gl =
  /*#__PURE__*/
  function () {
    function gl() {
      _classCallCheck(this, gl);
    }

    _createClass(gl, [{
      key: "initialize",
      value: function initialize(e, t) {
        var _this105 = this;

        return regeneratorRuntime.async(function initialize$(_context58) {
          while (1) {
            switch (_context58.prev = _context58.next) {
              case 0:
                _context58.t0 = this.localStore;

                if (_context58.t0) {
                  _context58.next = 12;
                  break;
                }

                this.localStore = e.localStore;
                this.sharedClientState = e.sharedClientState;
                this.datastore = this.createDatastore(t);
                this.remoteStore = this.createRemoteStore(t);
                this.eventManager = this.createEventManager(t);
                this.syncEngine = this.createSyncEngine(t, !e.synchronizeTabs);

                this.sharedClientState.onlineStateHandler = function (e) {
                  return Ja(_this105.syncEngine, e, 1);
                };

                this.remoteStore.remoteSyncer.handleCredentialChange = cl.bind(null, this.syncEngine);
                _context58.next = 12;
                return regeneratorRuntime.awrap(ba(this.remoteStore, this.syncEngine.isPrimaryClient));

              case 12:
              case "end":
                return _context58.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "createEventManager",
      value: function createEventManager(e) {
        return new Aa();
      }
    }, {
      key: "createDatastore",
      value: function createDatastore(e) {
        var t = zo(e.databaseInfo.databaseId),
            n = function (e) {
          return new Uo(e);
        }(e.databaseInfo);

        return function (e, t, n, r) {
          return new Ho(e, t, n, r);
        }(e.authCredentials, e.appCheckCredentials, n, t);
      }
    }, {
      key: "createRemoteStore",
      value: function createRemoteStore(e) {
        var _this106 = this;

        return function (e, t, n, r, i) {
          return new Wo(e, t, n, r, i);
        }(this.localStore, this.datastore, e.asyncQueue, function (e) {
          return Ja(_this106.syncEngine, e, 0);
        }, xo.D() ? new xo() : new Po());
      }
    }, {
      key: "createSyncEngine",
      value: function createSyncEngine(e, t) {
        return function (e, t, n, r, i, s, o) {
          var a = new qa(e, t, n, r, i, s);
          return o && (a.Qa = !0), a;
        }(this.localStore, this.remoteStore, this.eventManager, this.sharedClientState, e.initialUser, e.maxConcurrentLimboResolutions, t);
      }
    }, {
      key: "terminate",
      value: function terminate() {
        var e, t;
        return regeneratorRuntime.async(function terminate$(_context60) {
          while (1) {
            switch (_context60.prev = _context60.next) {
              case 0:
                _context60.next = 2;
                return regeneratorRuntime.awrap(function _callee13(e) {
                  var t;
                  return regeneratorRuntime.async(function _callee13$(_context59) {
                    while (1) {
                      switch (_context59.prev = _context59.next) {
                        case 0:
                          t = Dt(e);
                          Ct("RemoteStore", "RemoteStore shutting down.");
                          t.L_.add(5);
                          _context59.next = 5;
                          return regeneratorRuntime.awrap(Qo(t));

                        case 5:
                          t.k_.shutdown();
                          t.q_.set("Unknown");

                        case 7:
                        case "end":
                          return _context59.stop();
                      }
                    }
                  });
                }(this.remoteStore));

              case 2:
                null === (e = this.datastore) || void 0 === e || e.terminate();
                null === (t = this.eventManager) || void 0 === t || t.terminate();

              case 4:
              case "end":
                return _context60.stop();
            }
          }
        }, null, this);
      }
    }]);

    return gl;
  }();

  var ml =
  /*#__PURE__*/
  function () {
    function ml(e) {
      _classCallCheck(this, ml);

      this.observer = e, this.muted = !1;
    }

    _createClass(ml, [{
      key: "next",
      value: function next(e) {
        this.observer.next && this.Ga(this.observer.next, e);
      }
    }, {
      key: "error",
      value: function error(e) {
        this.observer.error ? this.Ga(this.observer.error, e) : Nt("Uncaught Error in snapshot listener:", e.toString());
      }
    }, {
      key: "za",
      value: function za() {
        this.muted = !0;
      }
    }, {
      key: "Ga",
      value: function Ga(e, t) {
        var _this107 = this;

        this.muted || setTimeout(function () {
          _this107.muted || e(t);
        }, 0);
      }
    }]);

    return ml;
  }();

  var vl =
  /*#__PURE__*/
  function () {
    function vl(e, t, n, r) {
      var _this108 = this;

      _classCallCheck(this, vl);

      this.authCredentials = e, this.appCheckCredentials = t, this.asyncQueue = n, this.databaseInfo = r, this.user = St.UNAUTHENTICATED, this.clientId = Kt.newId(), this.authCredentialListener = function () {
        return Promise.resolve();
      }, this.appCheckCredentialListener = function () {
        return Promise.resolve();
      }, this.authCredentials.start(n, function _callee14(e) {
        return regeneratorRuntime.async(function _callee14$(_context61) {
          while (1) {
            switch (_context61.prev = _context61.next) {
              case 0:
                Ct("FirestoreClient", "Received user=", e.uid);
                _context61.next = 3;
                return regeneratorRuntime.awrap(_this108.authCredentialListener(e));

              case 3:
                _this108.user = e;

              case 4:
              case "end":
                return _context61.stop();
            }
          }
        });
      }), this.appCheckCredentials.start(n, function (e) {
        return Ct("FirestoreClient", "Received new app check token=", e), _this108.appCheckCredentialListener(e, _this108.user);
      });
    }

    _createClass(vl, [{
      key: "setCredentialChangeListener",
      value: function setCredentialChangeListener(e) {
        this.authCredentialListener = e;
      }
    }, {
      key: "setAppCheckTokenChangeListener",
      value: function setAppCheckTokenChangeListener(e) {
        this.appCheckCredentialListener = e;
      }
    }, {
      key: "verifyNotTerminated",
      value: function verifyNotTerminated() {
        if (this.asyncQueue.isShuttingDown) throw new Lt(Ot.FAILED_PRECONDITION, "The client has already been terminated.");
      }
    }, {
      key: "terminate",
      value: function terminate() {
        var _this109 = this;

        this.asyncQueue.enterRestrictedMode();
        var e = new Mt();
        return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function _callee15() {
          var n;
          return regeneratorRuntime.async(function _callee15$(_context62) {
            while (1) {
              switch (_context62.prev = _context62.next) {
                case 0:
                  _context62.prev = 0;
                  _context62.t0 = _this109._onlineComponents;

                  if (!_context62.t0) {
                    _context62.next = 5;
                    break;
                  }

                  _context62.next = 5;
                  return regeneratorRuntime.awrap(_this109._onlineComponents.terminate());

                case 5:
                  _context62.t1 = _this109._offlineComponents;

                  if (!_context62.t1) {
                    _context62.next = 9;
                    break;
                  }

                  _context62.next = 9;
                  return regeneratorRuntime.awrap(_this109._offlineComponents.terminate());

                case 9:
                  _this109.authCredentials.shutdown();

                  _this109.appCheckCredentials.shutdown();

                  e.resolve();
                  _context62.next = 18;
                  break;

                case 14:
                  _context62.prev = 14;
                  _context62.t2 = _context62["catch"](0);
                  n = ka(_context62.t2, "Failed to shutdown persistence");
                  e.reject(n);

                case 18:
                case "end":
                  return _context62.stop();
              }
            }
          }, null, null, [[0, 14]]);
        }), e.promise;
      }
    }, {
      key: "configuration",
      get: function get() {
        return {
          asyncQueue: this.asyncQueue,
          databaseInfo: this.databaseInfo,
          clientId: this.clientId,
          authCredentials: this.authCredentials,
          appCheckCredentials: this.appCheckCredentials,
          initialUser: this.user,
          maxConcurrentLimboResolutions: 100
        };
      }
    }]);

    return vl;
  }();

  function yl(e, t) {
    var n, r;
    return regeneratorRuntime.async(function yl$(_context64) {
      while (1) {
        switch (_context64.prev = _context64.next) {
          case 0:
            e.asyncQueue.verifyOperationInProgress(), Ct("FirestoreClient", "Initializing OfflineComponentProvider");
            n = e.configuration;
            _context64.next = 4;
            return regeneratorRuntime.awrap(t.initialize(n));

          case 4:
            r = n.initialUser;
            e.setCredentialChangeListener(function _callee16(e) {
              return regeneratorRuntime.async(function _callee16$(_context63) {
                while (1) {
                  switch (_context63.prev = _context63.next) {
                    case 0:
                      _context63.t0 = r.isEqual(e);

                      if (_context63.t0) {
                        _context63.next = 5;
                        break;
                      }

                      _context63.next = 4;
                      return regeneratorRuntime.awrap(_o(t.localStore, e));

                    case 4:
                      r = e;

                    case 5:
                    case "end":
                      return _context63.stop();
                  }
                }
              });
            }), t.persistence.setDatabaseDeletedListener(function () {
              return e.terminate();
            }), e._offlineComponents = t;

          case 6:
          case "end":
            return _context64.stop();
        }
      }
    });
  }

  function wl(e, t) {
    var n;
    return regeneratorRuntime.async(function wl$(_context65) {
      while (1) {
        switch (_context65.prev = _context65.next) {
          case 0:
            e.asyncQueue.verifyOperationInProgress();
            _context65.next = 3;
            return regeneratorRuntime.awrap(_l(e));

          case 3:
            n = _context65.sent;
            Ct("FirestoreClient", "Initializing OnlineComponentProvider");
            _context65.next = 7;
            return regeneratorRuntime.awrap(t.initialize(n, e.configuration));

          case 7:
            e.setCredentialChangeListener(function (e) {
              return wa(t.remoteStore, e);
            });
            e.setAppCheckTokenChangeListener(function (e, n) {
              return wa(t.remoteStore, n);
            });
            e._onlineComponents = t;

          case 10:
          case "end":
            return _context65.stop();
        }
      }
    });
  }

  function bl(e) {
    return "FirebaseError" === e.name ? e.code === Ot.FAILED_PRECONDITION || e.code === Ot.UNIMPLEMENTED : !("undefined" != typeof DOMException && e instanceof DOMException) || 22 === e.code || 20 === e.code || 11 === e.code;
  }

  function _l(e) {
    var n;
    return regeneratorRuntime.async(function _l$(_context66) {
      while (1) {
        switch (_context66.prev = _context66.next) {
          case 0:
            if (e._offlineComponents) {
              _context66.next = 21;
              break;
            }

            if (!e._uninitializedComponentsProvider) {
              _context66.next = 18;
              break;
            }

            Ct("FirestoreClient", "Using user provided OfflineComponentProvider");
            _context66.prev = 3;
            _context66.next = 6;
            return regeneratorRuntime.awrap(yl(e, e._uninitializedComponentsProvider._offline));

          case 6:
            _context66.next = 16;
            break;

          case 8:
            _context66.prev = 8;
            _context66.t0 = _context66["catch"](3);
            n = _context66.t0;

            if (bl(n)) {
              _context66.next = 13;
              break;
            }

            throw n;

          case 13:
            At("Error using user provided cache. Falling back to memory cache: " + n);
            _context66.next = 16;
            return regeneratorRuntime.awrap(yl(e, new pl()));

          case 16:
            _context66.next = 21;
            break;

          case 18:
            Ct("FirestoreClient", "Using default OfflineComponentProvider");
            _context66.next = 21;
            return regeneratorRuntime.awrap(yl(e, new pl()));

          case 21:
            return _context66.abrupt("return", e._offlineComponents);

          case 22:
          case "end":
            return _context66.stop();
        }
      }
    }, null, null, [[3, 8]]);
  }

  function El(e) {
    return regeneratorRuntime.async(function El$(_context67) {
      while (1) {
        switch (_context67.prev = _context67.next) {
          case 0:
            _context67.t0 = e._onlineComponents;

            if (_context67.t0) {
              _context67.next = 11;
              break;
            }

            if (!e._uninitializedComponentsProvider) {
              _context67.next = 8;
              break;
            }

            Ct("FirestoreClient", "Using user provided OnlineComponentProvider");
            _context67.next = 6;
            return regeneratorRuntime.awrap(wl(e, e._uninitializedComponentsProvider._online));

          case 6:
            _context67.next = 11;
            break;

          case 8:
            Ct("FirestoreClient", "Using default OnlineComponentProvider");
            _context67.next = 11;
            return regeneratorRuntime.awrap(wl(e, new gl()));

          case 11:
            return _context67.abrupt("return", e._onlineComponents);

          case 12:
          case "end":
            return _context67.stop();
        }
      }
    });
  }

  function Sl(e) {
    return El(e).then(function (e) {
      return e.syncEngine;
    });
  }

  function kl(e) {
    var t, n;
    return regeneratorRuntime.async(function kl$(_context68) {
      while (1) {
        switch (_context68.prev = _context68.next) {
          case 0:
            _context68.next = 2;
            return regeneratorRuntime.awrap(El(e));

          case 2:
            t = _context68.sent;
            n = t.eventManager;
            return _context68.abrupt("return", (n.onListen = Ha.bind(null, t.syncEngine), n.onUnlisten = Qa.bind(null, t.syncEngine), n.onFirstRemoteStoreListen = Ka.bind(null, t.syncEngine), n.onLastRemoteStoreUnlisten = Xa.bind(null, t.syncEngine), n));

          case 5:
          case "end":
            return _context68.stop();
        }
      }
    });
  }

  function Tl(e) {
    var t = {};
    return void 0 !== e.timeoutSeconds && (t.timeoutSeconds = e.timeoutSeconds), t;
  }

  var Il = new Map();

  function Cl(e, t, n) {
    if (!n) throw new Lt(Ot.INVALID_ARGUMENT, "Function ".concat(e, "() cannot be called with an empty ").concat(t, "."));
  }

  function Nl(e) {
    if (!tn.isDocumentKey(e)) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid document reference. Document references must have an even number of segments, but ".concat(e, " has ").concat(e.length, "."));
  }

  function Al(e) {
    if (tn.isDocumentKey(e)) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e, " has ").concat(e.length, "."));
  }

  function Rl(e) {
    if (void 0 === e) return "undefined";
    if (null === e) return "null";
    if ("string" == typeof e) return e.length > 20 && (e = "".concat(e.substring(0, 20), "...")), JSON.stringify(e);
    if ("number" == typeof e || "boolean" == typeof e) return "" + e;

    if ("object" == _typeof(e)) {
      if (e instanceof Array) return "an array";
      {
        var t = function (e) {
          return e.constructor ? e.constructor.name : null;
        }(e);

        return t ? "a custom ".concat(t, " object") : "an object";
      }
    }

    return "function" == typeof e ? "a function" : Pt();
  }

  function Pl(e, t) {
    if ("_delegate" in e && (e = e._delegate), !(e instanceof t)) {
      if (t.name === e.constructor.name) throw new Lt(Ot.INVALID_ARGUMENT, "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");
      {
        var n = Rl(e);
        throw new Lt(Ot.INVALID_ARGUMENT, "Expected type '".concat(t.name, "', but it was: ").concat(n));
      }
    }

    return e;
  }

  var xl =
  /*#__PURE__*/
  function () {
    function xl(e) {
      _classCallCheck(this, xl);

      var t, n;

      if (void 0 === e.host) {
        if (void 0 !== e.ssl) throw new Lt(Ot.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set");
        this.host = "firestore.googleapis.com", this.ssl = !0;
      } else this.host = e.host, this.ssl = null === (t = e.ssl) || void 0 === t || t;

      if (this.credentials = e.credentials, this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties, this.localCache = e.localCache, void 0 === e.cacheSizeBytes) this.cacheSizeBytes = 41943040;else {
        if (-1 !== e.cacheSizeBytes && e.cacheSizeBytes < 1048576) throw new Lt(Ot.INVALID_ARGUMENT, "cacheSizeBytes must be at least 1048576");
        this.cacheSizeBytes = e.cacheSizeBytes;
      }
      (function (e, t, n, r) {
        if (!0 === t && !0 === r) throw new Lt(Ot.INVALID_ARGUMENT, "".concat(e, " and ").concat(n, " cannot be used together."));
      })("experimentalForceLongPolling", e.experimentalForceLongPolling, "experimentalAutoDetectLongPolling", e.experimentalAutoDetectLongPolling), this.experimentalForceLongPolling = !!e.experimentalForceLongPolling, this.experimentalForceLongPolling ? this.experimentalAutoDetectLongPolling = !1 : void 0 === e.experimentalAutoDetectLongPolling ? this.experimentalAutoDetectLongPolling = !0 : this.experimentalAutoDetectLongPolling = !!e.experimentalAutoDetectLongPolling, this.experimentalLongPollingOptions = Tl(null !== (n = e.experimentalLongPollingOptions) && void 0 !== n ? n : {}), function (e) {
        if (void 0 !== e.timeoutSeconds) {
          if (isNaN(e.timeoutSeconds)) throw new Lt(Ot.INVALID_ARGUMENT, "invalid long polling timeout: ".concat(e.timeoutSeconds, " (must not be NaN)"));
          if (e.timeoutSeconds < 5) throw new Lt(Ot.INVALID_ARGUMENT, "invalid long polling timeout: ".concat(e.timeoutSeconds, " (minimum allowed value is 5)"));
          if (e.timeoutSeconds > 30) throw new Lt(Ot.INVALID_ARGUMENT, "invalid long polling timeout: ".concat(e.timeoutSeconds, " (maximum allowed value is 30)"));
        }
      }(this.experimentalLongPollingOptions), this.useFetchStreams = !!e.useFetchStreams;
    }

    _createClass(xl, [{
      key: "isEqual",
      value: function isEqual(e) {
        return this.host === e.host && this.ssl === e.ssl && this.credentials === e.credentials && this.cacheSizeBytes === e.cacheSizeBytes && this.experimentalForceLongPolling === e.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === e.experimentalAutoDetectLongPolling && function (e, t) {
          return e.timeoutSeconds === t.timeoutSeconds;
        }(this.experimentalLongPollingOptions, e.experimentalLongPollingOptions) && this.ignoreUndefinedProperties === e.ignoreUndefinedProperties && this.useFetchStreams === e.useFetchStreams;
      }
    }]);

    return xl;
  }();

  var Dl =
  /*#__PURE__*/
  function () {
    function Dl(e, t, n, r) {
      _classCallCheck(this, Dl);

      this._authCredentials = e, this._appCheckCredentials = t, this._databaseId = n, this._app = r, this.type = "firestore-lite", this._persistenceKey = "(lite)", this._settings = new xl({}), this._settingsFrozen = !1;
    }

    _createClass(Dl, [{
      key: "_setSettings",
      value: function _setSettings(e) {
        if (this._settingsFrozen) throw new Lt(Ot.FAILED_PRECONDITION, "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");
        this._settings = new xl(e), void 0 !== e.credentials && (this._authCredentials = function (e) {
          if (!e) return new Ut();

          switch (e.type) {
            case "firstParty":
              return new Bt(e.sessionIndex || "0", e.iamToken || null, e.authTokenFactory || null);

            case "provider":
              return e.client;

            default:
              throw new Lt(Ot.INVALID_ARGUMENT, "makeAuthCredentialsProvider failed due to invalid credential type");
          }
        }(e.credentials));
      }
    }, {
      key: "_getSettings",
      value: function _getSettings() {
        return this._settings;
      }
    }, {
      key: "_freezeSettings",
      value: function _freezeSettings() {
        return this._settingsFrozen = !0, this._settings;
      }
    }, {
      key: "_delete",
      value: function _delete() {
        return this._terminateTask || (this._terminateTask = this._terminate()), this._terminateTask;
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          app: this._app,
          databaseId: this._databaseId,
          settings: this._settings
        };
      }
    }, {
      key: "_terminate",
      value: function _terminate() {
        return function (e) {
          var t = Il.get(e);
          t && (Ct("ComponentProvider", "Removing Datastore"), Il["delete"](e), t.terminate());
        }(this), Promise.resolve();
      }
    }, {
      key: "app",
      get: function get() {
        if (!this._app) throw new Lt(Ot.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available");
        return this._app;
      }
    }, {
      key: "_initialized",
      get: function get() {
        return this._settingsFrozen;
      }
    }, {
      key: "_terminated",
      get: function get() {
        return void 0 !== this._terminateTask;
      }
    }]);

    return Dl;
  }();

  function Ol(e, t, n) {
    var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
    var i;

    var s = (e = Pl(e, Dl))._getSettings(),
        o = "".concat(t, ":").concat(n);

    if ("firestore.googleapis.com" !== s.host && s.host !== o && At("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."), e._setSettings(Object.assign(Object.assign({}, s), {
      host: o,
      ssl: !1
    })), r.mockUserToken) {
      var _t35, _n37;

      if ("string" == typeof r.mockUserToken) _t35 = r.mockUserToken, _n37 = St.MOCK_USER;else {
        _t35 = function (e, t) {
          if (e.uid) throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
          var n = t || "demo-project",
              r = e.iat || 0,
              i = e.sub || e.user_id;
          if (!i) throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
          var s = Object.assign({
            iss: "https://securetoken.google.com/".concat(n),
            aud: n,
            iat: r,
            exp: r + 3600,
            auth_time: r,
            sub: i,
            user_id: i,
            firebase: {
              sign_in_provider: "custom",
              identities: {}
            }
          }, e);
          return [l(JSON.stringify({
            alg: "none",
            type: "JWT"
          })), l(JSON.stringify(s)), ""].join(".");
        }(r.mockUserToken, null === (i = e._app) || void 0 === i ? void 0 : i.options.projectId);

        var _s26 = r.mockUserToken.sub || r.mockUserToken.user_id;

        if (!_s26) throw new Lt(Ot.INVALID_ARGUMENT, "mockUserToken must contain 'sub' or 'user_id' field!");
        _n37 = new St(_s26);
      }
      e._authCredentials = new Vt(new Ft(_t35, _n37));
    }
  }

  var Ll =
  /*#__PURE__*/
  function () {
    function Ll(e, t, n) {
      _classCallCheck(this, Ll);

      this.converter = t, this._query = n, this.type = "query", this.firestore = e;
    }

    _createClass(Ll, [{
      key: "withConverter",
      value: function withConverter(e) {
        return new Ll(this.firestore, e, this._query);
      }
    }]);

    return Ll;
  }();

  var Ml =
  /*#__PURE__*/
  function () {
    function Ml(e, t, n) {
      _classCallCheck(this, Ml);

      this.converter = t, this._key = n, this.type = "document", this.firestore = e;
    }

    _createClass(Ml, [{
      key: "withConverter",
      value: function withConverter(e) {
        return new Ml(this.firestore, e, this._key);
      }
    }, {
      key: "_path",
      get: function get() {
        return this._key.path;
      }
    }, {
      key: "id",
      get: function get() {
        return this._key.path.lastSegment();
      }
    }, {
      key: "path",
      get: function get() {
        return this._key.path.canonicalString();
      }
    }, {
      key: "parent",
      get: function get() {
        return new Fl(this.firestore, this.converter, this._key.path.popLast());
      }
    }]);

    return Ml;
  }();

  var Fl =
  /*#__PURE__*/
  function (_Ll) {
    _inherits(Fl, _Ll);

    function Fl(e, t, n) {
      var _this110;

      _classCallCheck(this, Fl);

      _this110 = _possibleConstructorReturn(this, _getPrototypeOf(Fl).call(this, e, t, Ur(n))), _this110._path = n, _this110.type = "collection";
      return _this110;
    }

    _createClass(Fl, [{
      key: "withConverter",
      value: function withConverter(e) {
        return new Fl(this.firestore, e, this._path);
      }
    }, {
      key: "id",
      get: function get() {
        return this._query.path.lastSegment();
      }
    }, {
      key: "path",
      get: function get() {
        return this._query.path.canonicalString();
      }
    }, {
      key: "parent",
      get: function get() {
        var e = this._path.popLast();

        return e.isEmpty() ? null : new Ml(this.firestore, null, new tn(e));
      }
    }]);

    return Fl;
  }(Ll);

  function Ul(e, t) {
    for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++) {
      r[i - 2] = arguments[i];
    }

    if (e = R(e), 1 === arguments.length && (t = Kt.newId()), Cl("doc", "path", t), e instanceof Dl) {
      var _n38 = Jt.fromString.apply(Jt, [t].concat(r));

      return Nl(_n38), new Ml(e, null, new tn(_n38));
    }

    {
      if (!(e instanceof Ml || e instanceof Fl)) throw new Lt(Ot.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");

      var _n39 = e._path.child(Jt.fromString.apply(Jt, [t].concat(r)));

      return Nl(_n39), new Ml(e.firestore, e instanceof Fl ? e.converter : null, new tn(_n39));
    }
  }

  function Vl(e, t) {
    return e = R(e), t = R(t), e instanceof Ll && t instanceof Ll && e.firestore === t.firestore && Kr(e._query, t._query) && e.converter === t.converter;
  }

  var zl =
  /*#__PURE__*/
  function () {
    function zl() {
      var _this111 = this;

      _classCallCheck(this, zl);

      this.au = Promise.resolve(), this.uu = [], this.cu = !1, this.lu = [], this.hu = null, this.Pu = !1, this.Iu = !1, this.Tu = [], this.t_ = new jo(this, "async_queue_retry"), this.Eu = function () {
        var e = Vo();
        e && Ct("AsyncQueue", "Visibility state changed to " + e.visibilityState), _this111.t_.jo();
      };
      var e = Vo();
      e && "function" == typeof e.addEventListener && e.addEventListener("visibilitychange", this.Eu);
    }

    _createClass(zl, [{
      key: "enqueueAndForget",
      value: function enqueueAndForget(e) {
        this.enqueue(e);
      }
    }, {
      key: "enqueueAndForgetEvenWhileRestricted",
      value: function enqueueAndForgetEvenWhileRestricted(e) {
        this.du(), this.Au(e);
      }
    }, {
      key: "enterRestrictedMode",
      value: function enterRestrictedMode(e) {
        if (!this.cu) {
          this.cu = !0, this.Iu = e || !1;
          var t = Vo();
          t && "function" == typeof t.removeEventListener && t.removeEventListener("visibilitychange", this.Eu);
        }
      }
    }, {
      key: "enqueue",
      value: function enqueue(e) {
        var _this112 = this;

        if (this.du(), this.cu) return new Promise(function () {});
        var t = new Mt();
        return this.Au(function () {
          return _this112.cu && _this112.Iu ? Promise.resolve() : (e().then(t.resolve, t.reject), t.promise);
        }).then(function () {
          return t.promise;
        });
      }
    }, {
      key: "enqueueRetryable",
      value: function enqueueRetryable(e) {
        var _this113 = this;

        this.enqueueAndForget(function () {
          return _this113.uu.push(e), _this113.Ru();
        });
      }
    }, {
      key: "Ru",
      value: function Ru() {
        var _this114 = this;

        return regeneratorRuntime.async(function Ru$(_context69) {
          while (1) {
            switch (_context69.prev = _context69.next) {
              case 0:
                if (!(0 !== this.uu.length)) {
                  _context69.next = 14;
                  break;
                }

                _context69.prev = 1;
                _context69.next = 4;
                return regeneratorRuntime.awrap(this.uu[0]());

              case 4:
                this.uu.shift();
                this.t_.reset();
                _context69.next = 13;
                break;

              case 8:
                _context69.prev = 8;
                _context69.t0 = _context69["catch"](1);

                if (fn(_context69.t0)) {
                  _context69.next = 12;
                  break;
                }

                throw _context69.t0;

              case 12:
                Ct("AsyncQueue", "Operation failed with retryable error: " + _context69.t0);

              case 13:
                this.uu.length > 0 && this.t_.Go(function () {
                  return _this114.Ru();
                });

              case 14:
              case "end":
                return _context69.stop();
            }
          }
        }, null, this, [[1, 8]]);
      }
    }, {
      key: "Au",
      value: function Au(e) {
        var _this115 = this;

        var t = this.au.then(function () {
          return _this115.Pu = !0, e()["catch"](function (e) {
            _this115.hu = e, _this115.Pu = !1;

            var t = function (e) {
              var t = e.message || "";
              return e.stack && (t = e.stack.includes(e.message) ? e.stack : e.message + "\n" + e.stack), t;
            }(e);

            throw Nt("INTERNAL UNHANDLED ERROR: ", t), e;
          }).then(function (e) {
            return _this115.Pu = !1, e;
          });
        });
        return this.au = t, t;
      }
    }, {
      key: "enqueueAfterDelay",
      value: function enqueueAfterDelay(e, t, n) {
        var _this116 = this;

        this.du(), this.Tu.indexOf(e) > -1 && (t = 0);
        var r = Sa.createAndSchedule(this, e, t, n, function (e) {
          return _this116.Vu(e);
        });
        return this.lu.push(r), r;
      }
    }, {
      key: "du",
      value: function du() {
        this.hu && Pt();
      }
    }, {
      key: "verifyOperationInProgress",
      value: function verifyOperationInProgress() {}
    }, {
      key: "mu",
      value: function mu() {
        var e;
        return regeneratorRuntime.async(function mu$(_context70) {
          while (1) {
            switch (_context70.prev = _context70.next) {
              case 0:
                e = this.au;
                _context70.next = 3;
                return regeneratorRuntime.awrap(e);

              case 3:
                if (e !== this.au) {
                  _context70.next = 0;
                  break;
                }

              case 4:
              case "end":
                return _context70.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "fu",
      value: function fu(e) {
        var _iteratorNormalCompletion61 = true;
        var _didIteratorError61 = false;
        var _iteratorError61 = undefined;

        try {
          for (var _iterator61 = this.lu[Symbol.iterator](), _step61; !(_iteratorNormalCompletion61 = (_step61 = _iterator61.next()).done); _iteratorNormalCompletion61 = true) {
            var t = _step61.value;
            if (t.timerId === e) return !0;
          }
        } catch (err) {
          _didIteratorError61 = true;
          _iteratorError61 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion61 && _iterator61["return"] != null) {
              _iterator61["return"]();
            }
          } finally {
            if (_didIteratorError61) {
              throw _iteratorError61;
            }
          }
        }

        return !1;
      }
    }, {
      key: "gu",
      value: function gu(e) {
        var _this117 = this;

        return this.mu().then(function () {
          _this117.lu.sort(function (e, t) {
            return e.targetTimeMs - t.targetTimeMs;
          });

          var _iteratorNormalCompletion62 = true;
          var _didIteratorError62 = false;
          var _iteratorError62 = undefined;

          try {
            for (var _iterator62 = _this117.lu[Symbol.iterator](), _step62; !(_iteratorNormalCompletion62 = (_step62 = _iterator62.next()).done); _iteratorNormalCompletion62 = true) {
              var t = _step62.value;
              if (t.skipDelay(), "all" !== e && t.timerId === e) break;
            }
          } catch (err) {
            _didIteratorError62 = true;
            _iteratorError62 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion62 && _iterator62["return"] != null) {
                _iterator62["return"]();
              }
            } finally {
              if (_didIteratorError62) {
                throw _iteratorError62;
              }
            }
          }

          return _this117.mu();
        });
      }
    }, {
      key: "pu",
      value: function pu(e) {
        this.Tu.push(e);
      }
    }, {
      key: "Vu",
      value: function Vu(e) {
        var t = this.lu.indexOf(e);
        this.lu.splice(t, 1);
      }
    }, {
      key: "isShuttingDown",
      get: function get() {
        return this.cu;
      }
    }]);

    return zl;
  }();

  function jl(e) {
    return function (e, t) {
      if ("object" != _typeof(e) || null === e) return !1;
      var n = e;
      var _iteratorNormalCompletion63 = true;
      var _didIteratorError63 = false;
      var _iteratorError63 = undefined;

      try {
        for (var _iterator63 = t[Symbol.iterator](), _step63; !(_iteratorNormalCompletion63 = (_step63 = _iterator63.next()).done); _iteratorNormalCompletion63 = true) {
          var _r62 = _step63.value;
          if (_r62 in n && "function" == typeof n[_r62]) return !0;
        }
      } catch (err) {
        _didIteratorError63 = true;
        _iteratorError63 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion63 && _iterator63["return"] != null) {
            _iterator63["return"]();
          }
        } finally {
          if (_didIteratorError63) {
            throw _iteratorError63;
          }
        }
      }

      return !1;
    }(e, ["next", "error", "complete"]);
  }

  var Bl =
  /*#__PURE__*/
  function (_Dl) {
    _inherits(Bl, _Dl);

    function Bl(e, t, n, r) {
      var _this118;

      _classCallCheck(this, Bl);

      _this118 = _possibleConstructorReturn(this, _getPrototypeOf(Bl).call(this, e, t, n, r)), _this118.type = "firestore", _this118._queue = new zl(), _this118._persistenceKey = (null == r ? void 0 : r.name) || "[DEFAULT]";
      return _this118;
    }

    _createClass(Bl, [{
      key: "_terminate",
      value: function _terminate() {
        return this._firestoreClient || Hl(this), this._firestoreClient.terminate();
      }
    }]);

    return Bl;
  }(Dl);

  function $l(e, t) {
    var n = "string" == typeof e ? e : t || "(default)",
        r = je("object" == _typeof(e) ? e : We(), "firestore").getImmediate({
      identifier: n
    });

    if (!r._initialized) {
      var _e64 = f("firestore");

      _e64 && Ol.apply(void 0, [r].concat(_toConsumableArray(_e64)));
    }

    return r;
  }

  function ql(e) {
    return e._firestoreClient || Hl(e), e._firestoreClient.verifyNotTerminated(), e._firestoreClient;
  }

  function Hl(e) {
    var t, n, r;

    var i = e._freezeSettings(),
        s = function (e, t, n, r) {
      return new zn(e, t, n, r.host, r.ssl, r.experimentalForceLongPolling, r.experimentalAutoDetectLongPolling, Tl(r.experimentalLongPollingOptions), r.useFetchStreams);
    }(e._databaseId, (null === (t = e._app) || void 0 === t ? void 0 : t.options.appId) || "", e._persistenceKey, i);

    e._firestoreClient = new vl(e._authCredentials, e._appCheckCredentials, e._queue, s), (null === (n = i.localCache) || void 0 === n ? void 0 : n._offlineComponentProvider) && (null === (r = i.localCache) || void 0 === r ? void 0 : r._onlineComponentProvider) && (e._firestoreClient._uninitializedComponentsProvider = {
      _offlineKind: i.localCache.kind,
      _offline: i.localCache._offlineComponentProvider,
      _online: i.localCache._onlineComponentProvider
    });
  }

  var Kl =
  /*#__PURE__*/
  function () {
    function Kl(e) {
      _classCallCheck(this, Kl);

      this._byteString = e;
    }

    _createClass(Kl, [{
      key: "toBase64",
      value: function toBase64() {
        return this._byteString.toBase64();
      }
    }, {
      key: "toUint8Array",
      value: function toUint8Array() {
        return this._byteString.toUint8Array();
      }
    }, {
      key: "toString",
      value: function toString() {
        return "Bytes(base64: " + this.toBase64() + ")";
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return this._byteString.isEqual(e._byteString);
      }
    }], [{
      key: "fromBase64String",
      value: function fromBase64String(e) {
        try {
          return new Kl(xn.fromBase64String(e));
        } catch (e) {
          throw new Lt(Ot.INVALID_ARGUMENT, "Failed to construct data from Base64 string: " + e);
        }
      }
    }, {
      key: "fromUint8Array",
      value: function fromUint8Array(e) {
        return new Kl(xn.fromUint8Array(e));
      }
    }]);

    return Kl;
  }();

  var Wl =
  /*#__PURE__*/
  function () {
    function Wl() {
      _classCallCheck(this, Wl);

      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
        t[n] = arguments[n];
      }

      for (var _r63 = 0; _r63 < t.length; ++_r63) {
        if (0 === t[_r63].length) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid field name at argument $(i + 1). Field names must not be empty.");
      }

      this._internalPath = new en(t);
    }

    _createClass(Wl, [{
      key: "isEqual",
      value: function isEqual(e) {
        return this._internalPath.isEqual(e._internalPath);
      }
    }]);

    return Wl;
  }();

  var Gl = function Gl(e) {
    _classCallCheck(this, Gl);

    this._methodName = e;
  };

  var Ql =
  /*#__PURE__*/
  function () {
    function Ql(e, t) {
      _classCallCheck(this, Ql);

      if (!isFinite(e) || e < -90 || e > 90) throw new Lt(Ot.INVALID_ARGUMENT, "Latitude must be a number between -90 and 90, but was: " + e);
      if (!isFinite(t) || t < -180 || t > 180) throw new Lt(Ot.INVALID_ARGUMENT, "Longitude must be a number between -180 and 180, but was: " + t);
      this._lat = e, this._long = t;
    }

    _createClass(Ql, [{
      key: "isEqual",
      value: function isEqual(e) {
        return this._lat === e._lat && this._long === e._long;
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          latitude: this._lat,
          longitude: this._long
        };
      }
    }, {
      key: "_compareTo",
      value: function _compareTo(e) {
        return Wt(this._lat, e._lat) || Wt(this._long, e._long);
      }
    }, {
      key: "latitude",
      get: function get() {
        return this._lat;
      }
    }, {
      key: "longitude",
      get: function get() {
        return this._long;
      }
    }]);

    return Ql;
  }();

  var Xl =
  /*#__PURE__*/
  function () {
    function Xl(e) {
      _classCallCheck(this, Xl);

      this._values = (e || []).map(function (e) {
        return e;
      });
    }

    _createClass(Xl, [{
      key: "toArray",
      value: function toArray() {
        return this._values.map(function (e) {
          return e;
        });
      }
    }, {
      key: "isEqual",
      value: function isEqual(e) {
        return function (e, t) {
          if (e.length !== t.length) return !1;

          for (var n = 0; n < e.length; ++n) {
            if (e[n] !== t[n]) return !1;
          }

          return !0;
        }(this._values, e._values);
      }
    }]);

    return Xl;
  }();

  var Yl = /^__.*__$/;

  var Jl =
  /*#__PURE__*/
  function () {
    function Jl(e, t, n) {
      _classCallCheck(this, Jl);

      this.data = e, this.fieldMask = t, this.fieldTransforms = n;
    }

    _createClass(Jl, [{
      key: "toMutation",
      value: function toMutation(e, t) {
        return null !== this.fieldMask ? new Ui(e, this.data, this.fieldMask, t, this.fieldTransforms) : new Fi(e, this.data, t, this.fieldTransforms);
      }
    }]);

    return Jl;
  }();

  function Zl(e) {
    switch (e) {
      case 0:
      case 2:
      case 1:
        return !0;

      case 3:
      case 4:
        return !1;

      default:
        throw Pt();
    }
  }

  var eu =
  /*#__PURE__*/
  function () {
    function eu(e, t, n, r, i, s) {
      _classCallCheck(this, eu);

      this.settings = e, this.databaseId = t, this.serializer = n, this.ignoreUndefinedProperties = r, void 0 === i && this.yu(), this.fieldTransforms = i || [], this.fieldMask = s || [];
    }

    _createClass(eu, [{
      key: "Su",
      value: function Su(e) {
        return new eu(Object.assign(Object.assign({}, this.settings), e), this.databaseId, this.serializer, this.ignoreUndefinedProperties, this.fieldTransforms, this.fieldMask);
      }
    }, {
      key: "bu",
      value: function bu(e) {
        var t;
        var n = null === (t = this.path) || void 0 === t ? void 0 : t.child(e),
            r = this.Su({
          path: n,
          Du: !1
        });
        return r.vu(e), r;
      }
    }, {
      key: "Cu",
      value: function Cu(e) {
        var t;
        var n = null === (t = this.path) || void 0 === t ? void 0 : t.child(e),
            r = this.Su({
          path: n,
          Du: !1
        });
        return r.yu(), r;
      }
    }, {
      key: "Fu",
      value: function Fu(e) {
        return this.Su({
          path: void 0,
          Du: !0
        });
      }
    }, {
      key: "Mu",
      value: function Mu(e) {
        return du(e, this.settings.methodName, this.settings.xu || !1, this.path, this.settings.Ou);
      }
    }, {
      key: "contains",
      value: function contains(e) {
        return void 0 !== this.fieldMask.find(function (t) {
          return e.isPrefixOf(t);
        }) || void 0 !== this.fieldTransforms.find(function (t) {
          return e.isPrefixOf(t.field);
        });
      }
    }, {
      key: "yu",
      value: function yu() {
        if (this.path) for (var e = 0; e < this.path.length; e++) {
          this.vu(this.path.get(e));
        }
      }
    }, {
      key: "vu",
      value: function vu(e) {
        if (0 === e.length) throw this.Mu("Document fields must not be empty");
        if (Zl(this.wu) && Yl.test(e)) throw this.Mu('Document fields cannot begin and end with "__"');
      }
    }, {
      key: "path",
      get: function get() {
        return this.settings.path;
      }
    }, {
      key: "wu",
      get: function get() {
        return this.settings.wu;
      }
    }]);

    return eu;
  }();

  var tu =
  /*#__PURE__*/
  function () {
    function tu(e, t, n) {
      _classCallCheck(this, tu);

      this.databaseId = e, this.ignoreUndefinedProperties = t, this.serializer = n || zo(e);
    }

    _createClass(tu, [{
      key: "Nu",
      value: function Nu(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
        return new eu({
          wu: e,
          methodName: t,
          Ou: n,
          path: en.emptyPath(),
          Du: !1,
          xu: r
        }, this.databaseId, this.serializer, this.ignoreUndefinedProperties);
      }
    }]);

    return tu;
  }();

  function nu(e) {
    var t = e._freezeSettings(),
        n = zo(e._databaseId);

    return new tu(e._databaseId, !!t.ignoreUndefinedProperties, n);
  }

  function ru(e, t, n, r, i) {
    var s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {};
    var o = e.Nu(s.merge || s.mergeFields ? 2 : 0, t, n, i);
    lu("Data must be an object, but it was:", o, r);
    var a = ou(r, o);
    var l, u;
    if (s.merge) l = new Rn(o.fieldMask), u = o.fieldTransforms;else if (s.mergeFields) {
      var _e65 = [];
      var _iteratorNormalCompletion64 = true;
      var _didIteratorError64 = false;
      var _iteratorError64 = undefined;

      try {
        for (var _iterator64 = s.mergeFields[Symbol.iterator](), _step64; !(_iteratorNormalCompletion64 = (_step64 = _iterator64.next()).done); _iteratorNormalCompletion64 = true) {
          var _r64 = _step64.value;

          var _i69 = uu(t, _r64, n);

          if (!o.contains(_i69)) throw new Lt(Ot.INVALID_ARGUMENT, "Field '".concat(_i69, "' is specified in your field mask but missing from your input data."));
          fu(_e65, _i69) || _e65.push(_i69);
        }
      } catch (err) {
        _didIteratorError64 = true;
        _iteratorError64 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion64 && _iterator64["return"] != null) {
            _iterator64["return"]();
          }
        } finally {
          if (_didIteratorError64) {
            throw _iteratorError64;
          }
        }
      }

      l = new Rn(_e65), u = o.fieldTransforms.filter(function (e) {
        return l.covers(e.field);
      });
    } else l = null, u = o.fieldTransforms;
    return new Jl(new or(a), l, u);
  }

  function iu(e, t, n) {
    var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
    return su(n, e.Nu(r ? 4 : 3, t));
  }

  function su(e, t) {
    if (au(e = R(e))) return lu("Unsupported field value:", t, e), ou(e, t);
    if (e instanceof Gl) return function (e, t) {
      if (!Zl(t.wu)) throw t.Mu("".concat(e._methodName, "() can only be used with update() and set()"));
      if (!t.path) throw t.Mu("".concat(e._methodName, "() is not currently supported inside arrays"));

      var n = e._toFieldTransform(t);

      n && t.fieldTransforms.push(n);
    }(e, t), null;
    if (void 0 === e && t.ignoreUndefinedProperties) return null;

    if (t.path && t.fieldMask.push(t.path), e instanceof Array) {
      if (t.settings.Du && 4 !== t.wu) throw t.Mu("Nested arrays are not supported");
      return function (e, t) {
        var n = [];
        var r = 0;
        var _iteratorNormalCompletion65 = true;
        var _didIteratorError65 = false;
        var _iteratorError65 = undefined;

        try {
          for (var _iterator65 = e[Symbol.iterator](), _step65; !(_iteratorNormalCompletion65 = (_step65 = _iterator65.next()).done); _iteratorNormalCompletion65 = true) {
            var i = _step65.value;

            var _e66 = su(i, t.Fu(r));

            null == _e66 && (_e66 = {
              nullValue: "NULL_VALUE"
            }), n.push(_e66), r++;
          }
        } catch (err) {
          _didIteratorError65 = true;
          _iteratorError65 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion65 && _iterator65["return"] != null) {
              _iterator65["return"]();
            }
          } finally {
            if (_didIteratorError65) {
              throw _iteratorError65;
            }
          }
        }

        return {
          arrayValue: {
            values: n
          }
        };
      }(e, t);
    }

    return function (e, t) {
      if (null === (e = R(e))) return {
        nullValue: "NULL_VALUE"
      };
      if ("number" == typeof e) return gi(t.serializer, e);
      if ("boolean" == typeof e) return {
        booleanValue: e
      };
      if ("string" == typeof e) return {
        stringValue: e
      };

      if (e instanceof Date) {
        var n = Qt.fromDate(e);
        return {
          timestampValue: ws(t.serializer, n)
        };
      }

      if (e instanceof Qt) {
        var _n40 = new Qt(e.seconds, 1e3 * Math.floor(e.nanoseconds / 1e3));

        return {
          timestampValue: ws(t.serializer, _n40)
        };
      }

      if (e instanceof Ql) return {
        geoPointValue: {
          latitude: e.latitude,
          longitude: e.longitude
        }
      };
      if (e instanceof Kl) return {
        bytesValue: bs(t.serializer, e._byteString)
      };

      if (e instanceof Ml) {
        var _n41 = t.databaseId,
            _r65 = e.firestore._databaseId;
        if (!_r65.isEqual(_n41)) throw t.Mu("Document reference is for database ".concat(_r65.projectId, "/").concat(_r65.database, " but should be for database ").concat(_n41.projectId, "/").concat(_n41.database));
        return {
          referenceValue: Ss(e.firestore._databaseId || t.databaseId, e._key.path)
        };
      }

      if (e instanceof Xl) return function (e, t) {
        return {
          mapValue: {
            fields: {
              __type__: {
                stringValue: "__vector__"
              },
              value: {
                arrayValue: {
                  values: e.toArray().map(function (e) {
                    if ("number" != typeof e) throw t.Mu("VectorValues must only contain numeric values.");
                    return fi(t.serializer, e);
                  })
                }
              }
            }
          }
        };
      }(e, t);
      throw t.Mu("Unsupported field value: ".concat(Rl(e)));
    }(e, t);
  }

  function ou(e, t) {
    var n = {};
    return kn(e) ? t.path && t.path.length > 0 && t.fieldMask.push(t.path) : Sn(e, function (e, r) {
      var i = su(r, t.bu(e));
      null != i && (n[e] = i);
    }), {
      mapValue: {
        fields: n
      }
    };
  }

  function au(e) {
    return !("object" != _typeof(e) || null === e || e instanceof Array || e instanceof Date || e instanceof Qt || e instanceof Ql || e instanceof Kl || e instanceof Ml || e instanceof Gl || e instanceof Xl);
  }

  function lu(e, t, n) {
    if (!au(n) || !function (e) {
      return "object" == _typeof(e) && null !== e && (Object.getPrototypeOf(e) === Object.prototype || null === Object.getPrototypeOf(e));
    }(n)) {
      var _r66 = Rl(n);

      throw "an object" === _r66 ? t.Mu(e + " a custom object") : t.Mu(e + " " + _r66);
    }
  }

  function uu(e, t, n) {
    if ((t = R(t)) instanceof Wl) return t._internalPath;
    if ("string" == typeof t) return hu(e, t);
    throw du("Field path arguments must be of type string or ", e, !1, void 0, n);
  }

  var cu = new RegExp("[~\\*/\\[\\]]");

  function hu(e, t, n) {
    if (t.search(cu) >= 0) throw du("Invalid field path (".concat(t, "). Paths must not contain '~', '*', '/', '[', or ']'"), e, !1, void 0, n);

    try {
      return _construct(Wl, _toConsumableArray(t.split(".")))._internalPath;
    } catch (r) {
      throw du("Invalid field path (".concat(t, "). Paths must not be empty, begin with '.', end with '.', or contain '..'"), e, !1, void 0, n);
    }
  }

  function du(e, t, n, r, i) {
    var s = r && !r.isEmpty(),
        o = void 0 !== i;
    var a = "Function ".concat(t, "() called with invalid data");
    n && (a += " (via `toFirestore()`)"), a += ". ";
    var l = "";
    return (s || o) && (l += " (found", s && (l += " in field ".concat(r)), o && (l += " in document ".concat(i)), l += ")"), new Lt(Ot.INVALID_ARGUMENT, a + e + l);
  }

  function fu(e, t) {
    return e.some(function (e) {
      return e.isEqual(t);
    });
  }

  var pu =
  /*#__PURE__*/
  function () {
    function pu(e, t, n, r, i) {
      _classCallCheck(this, pu);

      this._firestore = e, this._userDataWriter = t, this._key = n, this._document = r, this._converter = i;
    }

    _createClass(pu, [{
      key: "exists",
      value: function exists() {
        return null !== this._document;
      }
    }, {
      key: "data",
      value: function data() {
        if (this._document) {
          if (this._converter) {
            var e = new gu(this._firestore, this._userDataWriter, this._key, this._document, null);
            return this._converter.fromFirestore(e);
          }

          return this._userDataWriter.convertValue(this._document.data.value);
        }
      }
    }, {
      key: "get",
      value: function get(e) {
        if (this._document) {
          var t = this._document.data.field(mu("DocumentSnapshot.get", e));

          if (null !== t) return this._userDataWriter.convertValue(t);
        }
      }
    }, {
      key: "id",
      get: function get() {
        return this._key.path.lastSegment();
      }
    }, {
      key: "ref",
      get: function get() {
        return new Ml(this._firestore, this._converter, this._key);
      }
    }]);

    return pu;
  }();

  var gu =
  /*#__PURE__*/
  function (_pu) {
    _inherits(gu, _pu);

    function gu() {
      _classCallCheck(this, gu);

      return _possibleConstructorReturn(this, _getPrototypeOf(gu).apply(this, arguments));
    }

    _createClass(gu, [{
      key: "data",
      value: function data() {
        return _get(_getPrototypeOf(gu.prototype), "data", this).call(this);
      }
    }]);

    return gu;
  }(pu);

  function mu(e, t) {
    return "string" == typeof t ? hu(e, t) : t instanceof Wl ? t._internalPath : t._delegate._internalPath;
  }

  function vu(e) {
    if ("L" === e.limitType && 0 === e.explicitOrderBy.length) throw new Lt(Ot.UNIMPLEMENTED, "limitToLast() queries require specifying at least one orderBy() clause");
  }

  var yu = function yu() {
    _classCallCheck(this, yu);
  };

  var wu =
  /*#__PURE__*/
  function (_yu) {
    _inherits(wu, _yu);

    function wu() {
      _classCallCheck(this, wu);

      return _possibleConstructorReturn(this, _getPrototypeOf(wu).apply(this, arguments));
    }

    return wu;
  }(yu);

  var bu =
  /*#__PURE__*/
  function (_wu) {
    _inherits(bu, _wu);

    function bu(e, t, n) {
      var _this119;

      _classCallCheck(this, bu);

      _this119 = _possibleConstructorReturn(this, _getPrototypeOf(bu).call(this)), _this119._field = e, _this119._op = t, _this119._value = n, _this119.type = "where";
      return _this119;
    }

    _createClass(bu, [{
      key: "_apply",
      value: function _apply(e) {
        var t = this._parse(e);

        return ku(e._query, t), new Ll(e.firestore, e.converter, qr(e._query, t));
      }
    }, {
      key: "_parse",
      value: function _parse(e) {
        var t = nu(e.firestore),
            n = function (e, t, n, r, i, s, o) {
          var a;

          if (i.isKeyField()) {
            if ("array-contains" === s || "array-contains-any" === s) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid Query. You can't perform '".concat(s, "' queries on documentId()."));

            if ("in" === s || "not-in" === s) {
              Su(o, s);
              var _t36 = [];
              var _iteratorNormalCompletion66 = true;
              var _didIteratorError66 = false;
              var _iteratorError66 = undefined;

              try {
                for (var _iterator66 = o[Symbol.iterator](), _step66; !(_iteratorNormalCompletion66 = (_step66 = _iterator66.next()).done); _iteratorNormalCompletion66 = true) {
                  var _n42 = _step66.value;

                  _t36.push(Eu(r, e, _n42));
                }
              } catch (err) {
                _didIteratorError66 = true;
                _iteratorError66 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion66 && _iterator66["return"] != null) {
                    _iterator66["return"]();
                  }
                } finally {
                  if (_didIteratorError66) {
                    throw _iteratorError66;
                  }
                }
              }

              a = {
                arrayValue: {
                  values: _t36
                }
              };
            } else a = Eu(r, e, o);
          } else "in" !== s && "not-in" !== s && "array-contains-any" !== s || Su(o, s), a = iu(n, t, o, "in" === s || "not-in" === s);

          return gr.create(i, s, a);
        }(e._query, "where", t, e.firestore._databaseId, this._field, this._op, this._value);

        return n;
      }
    }], [{
      key: "_create",
      value: function _create(e, t, n) {
        return new bu(e, t, n);
      }
    }]);

    return bu;
  }(wu);

  var _u =
  /*#__PURE__*/
  function (_yu2) {
    _inherits(_u, _yu2);

    function _u(e, t) {
      var _this120;

      _classCallCheck(this, _u);

      _this120 = _possibleConstructorReturn(this, _getPrototypeOf(_u).call(this)), _this120.type = e, _this120._queryConstraints = t;
      return _this120;
    }

    _createClass(_u, [{
      key: "_parse",
      value: function _parse(e) {
        var t = this._queryConstraints.map(function (t) {
          return t._parse(e);
        }).filter(function (e) {
          return e.getFilters().length > 0;
        });

        return 1 === t.length ? t[0] : mr.create(t, this._getOperator());
      }
    }, {
      key: "_apply",
      value: function _apply(e) {
        var t = this._parse(e);

        return 0 === t.getFilters().length ? e : (function (e, t) {
          var n = e;
          var r = t.getFlattenedFilters();
          var _iteratorNormalCompletion67 = true;
          var _didIteratorError67 = false;
          var _iteratorError67 = undefined;

          try {
            for (var _iterator67 = r[Symbol.iterator](), _step67; !(_iteratorNormalCompletion67 = (_step67 = _iterator67.next()).done); _iteratorNormalCompletion67 = true) {
              var i = _step67.value;
              ku(n, i), n = qr(n, i);
            }
          } catch (err) {
            _didIteratorError67 = true;
            _iteratorError67 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion67 && _iterator67["return"] != null) {
                _iterator67["return"]();
              }
            } finally {
              if (_didIteratorError67) {
                throw _iteratorError67;
              }
            }
          }
        }(e._query, t), new Ll(e.firestore, e.converter, qr(e._query, t)));
      }
    }, {
      key: "_getQueryConstraints",
      value: function _getQueryConstraints() {
        return this._queryConstraints;
      }
    }, {
      key: "_getOperator",
      value: function _getOperator() {
        return "and" === this.type ? "and" : "or";
      }
    }], [{
      key: "_create",
      value: function _create(e, t) {
        return new _u(e, t);
      }
    }]);

    return _u;
  }(yu);

  function Eu(e, t, n) {
    if ("string" == typeof (n = R(n))) {
      if ("" === n) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");
      if (!zr(t) && -1 !== n.indexOf("/")) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n, "' contains a '/' character."));

      var _r67 = t.path.child(Jt.fromString(n));

      if (!tn.isDocumentKey(_r67)) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(_r67, "' is not because it has an odd number of segments (").concat(_r67.length, ")."));
      return Yn(e, new tn(_r67));
    }

    if (n instanceof Ml) return Yn(e, n._key);
    throw new Lt(Ot.INVALID_ARGUMENT, "Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rl(n), "."));
  }

  function Su(e, t) {
    if (!Array.isArray(e) || 0 === e.length) throw new Lt(Ot.INVALID_ARGUMENT, "Invalid Query. A non-empty array is required for '".concat(t.toString(), "' filters."));
  }

  function ku(e, t) {
    var n = function (e, t) {
      var _iteratorNormalCompletion68 = true;
      var _didIteratorError68 = false;
      var _iteratorError68 = undefined;

      try {
        for (var _iterator68 = e[Symbol.iterator](), _step68; !(_iteratorNormalCompletion68 = (_step68 = _iterator68.next()).done); _iteratorNormalCompletion68 = true) {
          var _n43 = _step68.value;
          var _iteratorNormalCompletion69 = true;
          var _didIteratorError69 = false;
          var _iteratorError69 = undefined;

          try {
            for (var _iterator69 = _n43.getFlattenedFilters()[Symbol.iterator](), _step69; !(_iteratorNormalCompletion69 = (_step69 = _iterator69.next()).done); _iteratorNormalCompletion69 = true) {
              var _e67 = _step69.value;
              if (t.indexOf(_e67.op) >= 0) return _e67.op;
            }
          } catch (err) {
            _didIteratorError69 = true;
            _iteratorError69 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion69 && _iterator69["return"] != null) {
                _iterator69["return"]();
              }
            } finally {
              if (_didIteratorError69) {
                throw _iteratorError69;
              }
            }
          }
        }
      } catch (err) {
        _didIteratorError68 = true;
        _iteratorError68 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion68 && _iterator68["return"] != null) {
            _iterator68["return"]();
          }
        } finally {
          if (_didIteratorError68) {
            throw _iteratorError68;
          }
        }
      }

      return null;
    }(e.filters, function (e) {
      switch (e) {
        case "!=":
          return ["!=", "not-in"];

        case "array-contains-any":
        case "in":
          return ["not-in"];

        case "not-in":
          return ["array-contains-any", "in", "not-in", "!="];

        default:
          return [];
      }
    }(t.op));

    if (null !== n) throw n === t.op ? new Lt(Ot.INVALID_ARGUMENT, "Invalid query. You cannot use more than one '".concat(t.op.toString(), "' filter.")) : new Lt(Ot.INVALID_ARGUMENT, "Invalid query. You cannot use '".concat(t.op.toString(), "' filters with '").concat(n.toString(), "' filters."));
  }

  var Tu =
  /*#__PURE__*/
  function () {
    function Tu() {
      _classCallCheck(this, Tu);
    }

    _createClass(Tu, [{
      key: "convertValue",
      value: function convertValue(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "none";

        switch ($n(e)) {
          case 0:
            return null;

          case 1:
            return e.booleanValue;

          case 2:
            return Ln(e.integerValue || e.doubleValue);

          case 3:
            return this.convertTimestamp(e.timestampValue);

          case 4:
            return this.convertServerTimestamp(e, t);

          case 5:
            return e.stringValue;

          case 6:
            return this.convertBytes(Mn(e.bytesValue));

          case 7:
            return this.convertReference(e.referenceValue);

          case 8:
            return this.convertGeoPoint(e.geoPointValue);

          case 9:
            return this.convertArray(e.arrayValue, t);

          case 11:
            return this.convertObject(e.mapValue, t);

          case 10:
            return this.convertVectorValue(e.mapValue);

          default:
            throw Pt();
        }
      }
    }, {
      key: "convertObject",
      value: function convertObject(e, t) {
        return this.convertObjectMap(e.fields, t);
      }
    }, {
      key: "convertObjectMap",
      value: function convertObjectMap(e) {
        var _this121 = this;

        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "none";
        var n = {};
        return Sn(e, function (e, r) {
          n[e] = _this121.convertValue(r, t);
        }), n;
      }
    }, {
      key: "convertVectorValue",
      value: function convertVectorValue(e) {
        var t, n, r;
        var i = null === (r = null === (n = null === (t = e.fields) || void 0 === t ? void 0 : t.value.arrayValue) || void 0 === n ? void 0 : n.values) || void 0 === r ? void 0 : r.map(function (e) {
          return Ln(e.doubleValue);
        });
        return new Xl(i);
      }
    }, {
      key: "convertGeoPoint",
      value: function convertGeoPoint(e) {
        return new Ql(Ln(e.latitude), Ln(e.longitude));
      }
    }, {
      key: "convertArray",
      value: function convertArray(e, t) {
        var _this122 = this;

        return (e.values || []).map(function (e) {
          return _this122.convertValue(e, t);
        });
      }
    }, {
      key: "convertServerTimestamp",
      value: function convertServerTimestamp(e, t) {
        switch (t) {
          case "previous":
            var n = Un(e);
            return null == n ? null : this.convertValue(n, t);

          case "estimate":
            return this.convertTimestamp(Vn(e));

          default:
            return null;
        }
      }
    }, {
      key: "convertTimestamp",
      value: function convertTimestamp(e) {
        var t = On(e);
        return new Qt(t.seconds, t.nanos);
      }
    }, {
      key: "convertDocumentKey",
      value: function convertDocumentKey(e, t) {
        var n = Jt.fromString(e);
        xt(Hs(n));
        var r = new jn(n.get(1), n.get(3)),
            i = new tn(n.popFirst(5));
        return r.isEqual(t) || Nt("Document ".concat(i, " contains a document reference within a different database (").concat(r.projectId, "/").concat(r.database, ") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId, "/").concat(t.database, ") instead.")), i;
      }
    }]);

    return Tu;
  }();

  function Iu(e, t, n) {
    var r;
    return r = e ? n && (n.merge || n.mergeFields) ? e.toFirestore(t, n) : e.toFirestore(t) : t, r;
  }

  var Cu =
  /*#__PURE__*/
  function () {
    function Cu(e, t) {
      _classCallCheck(this, Cu);

      this.hasPendingWrites = e, this.fromCache = t;
    }

    _createClass(Cu, [{
      key: "isEqual",
      value: function isEqual(e) {
        return this.hasPendingWrites === e.hasPendingWrites && this.fromCache === e.fromCache;
      }
    }]);

    return Cu;
  }();

  var Nu =
  /*#__PURE__*/
  function (_pu2) {
    _inherits(Nu, _pu2);

    function Nu(e, t, n, r, i, s) {
      var _this123;

      _classCallCheck(this, Nu);

      _this123 = _possibleConstructorReturn(this, _getPrototypeOf(Nu).call(this, e, t, n, r, s)), _this123._firestore = e, _this123._firestoreImpl = e, _this123.metadata = i;
      return _this123;
    }

    _createClass(Nu, [{
      key: "exists",
      value: function exists() {
        return _get(_getPrototypeOf(Nu.prototype), "exists", this).call(this);
      }
    }, {
      key: "data",
      value: function data() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};

        if (this._document) {
          if (this._converter) {
            var t = new Au(this._firestore, this._userDataWriter, this._key, this._document, this.metadata, null);
            return this._converter.fromFirestore(t, e);
          }

          return this._userDataWriter.convertValue(this._document.data.value, e.serverTimestamps);
        }
      }
    }, {
      key: "get",
      value: function get(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};

        if (this._document) {
          var n = this._document.data.field(mu("DocumentSnapshot.get", e));

          if (null !== n) return this._userDataWriter.convertValue(n, t.serverTimestamps);
        }
      }
    }]);

    return Nu;
  }(pu);

  var Au =
  /*#__PURE__*/
  function (_Nu) {
    _inherits(Au, _Nu);

    function Au() {
      _classCallCheck(this, Au);

      return _possibleConstructorReturn(this, _getPrototypeOf(Au).apply(this, arguments));
    }

    _createClass(Au, [{
      key: "data",
      value: function data() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        return _get(_getPrototypeOf(Au.prototype), "data", this).call(this, e);
      }
    }]);

    return Au;
  }(Nu);

  var Ru =
  /*#__PURE__*/
  function () {
    function Ru(e, t, n, r) {
      _classCallCheck(this, Ru);

      this._firestore = e, this._userDataWriter = t, this._snapshot = r, this.metadata = new Cu(r.hasPendingWrites, r.fromCache), this.query = n;
    }

    _createClass(Ru, [{
      key: "forEach",
      value: function forEach(e, t) {
        var _this124 = this;

        this._snapshot.docs.forEach(function (n) {
          e.call(t, new Au(_this124._firestore, _this124._userDataWriter, n.key, n, new Cu(_this124._snapshot.mutatedKeys.has(n.key), _this124._snapshot.fromCache), _this124.query.converter));
        });
      }
    }, {
      key: "docChanges",
      value: function docChanges() {
        var e = !!(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).includeMetadataChanges;
        if (e && this._snapshot.excludesMetadataChanges) throw new Lt(Ot.INVALID_ARGUMENT, "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
        return this._cachedChanges && this._cachedChangesIncludeMetadataChanges === e || (this._cachedChanges = function (e, t) {
          if (e._snapshot.oldDocs.isEmpty()) {
            var _t37 = 0;
            return e._snapshot.docChanges.map(function (n) {
              var r = new Au(e._firestore, e._userDataWriter, n.doc.key, n.doc, new Cu(e._snapshot.mutatedKeys.has(n.doc.key), e._snapshot.fromCache), e.query.converter);
              return n.doc, {
                type: "added",
                doc: r,
                oldIndex: -1,
                newIndex: _t37++
              };
            });
          }

          {
            var n = e._snapshot.oldDocs;
            return e._snapshot.docChanges.filter(function (e) {
              return t || 3 !== e.type;
            }).map(function (t) {
              var r = new Au(e._firestore, e._userDataWriter, t.doc.key, t.doc, new Cu(e._snapshot.mutatedKeys.has(t.doc.key), e._snapshot.fromCache), e.query.converter);
              var i = -1,
                  s = -1;
              return 0 !== t.type && (i = n.indexOf(t.doc.key), n = n["delete"](t.doc.key)), 1 !== t.type && (n = n.add(t.doc), s = n.indexOf(t.doc.key)), {
                type: Pu(t.type),
                doc: r,
                oldIndex: i,
                newIndex: s
              };
            });
          }
        }(this, e), this._cachedChangesIncludeMetadataChanges = e), this._cachedChanges;
      }
    }, {
      key: "docs",
      get: function get() {
        var e = [];
        return this.forEach(function (t) {
          return e.push(t);
        }), e;
      }
    }, {
      key: "size",
      get: function get() {
        return this._snapshot.docs.size;
      }
    }, {
      key: "empty",
      get: function get() {
        return 0 === this.size;
      }
    }]);

    return Ru;
  }();

  function Pu(e) {
    switch (e) {
      case 0:
        return "added";

      case 2:
      case 3:
        return "modified";

      case 1:
        return "removed";

      default:
        return Pt();
    }
  }

  var xu =
  /*#__PURE__*/
  function (_Tu) {
    _inherits(xu, _Tu);

    function xu(e) {
      var _this125;

      _classCallCheck(this, xu);

      _this125 = _possibleConstructorReturn(this, _getPrototypeOf(xu).call(this)), _this125.firestore = e;
      return _this125;
    }

    _createClass(xu, [{
      key: "convertBytes",
      value: function convertBytes(e) {
        return new Kl(e);
      }
    }, {
      key: "convertReference",
      value: function convertReference(e) {
        var t = this.convertDocumentKey(e, this.firestore._databaseId);
        return new Ml(this.firestore, null, t);
      }
    }]);

    return xu;
  }(Tu);

  function Du(e) {
    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
      n[r - 1] = arguments[r];
    }

    var i, s, o;
    e = R(e);
    var a = {
      includeMetadataChanges: !1,
      source: "default"
    },
        l = 0;
    "object" != _typeof(n[l]) || jl(n[l]) || (a = n[l], l++);
    var u = {
      includeMetadataChanges: a.includeMetadataChanges,
      source: a.source
    };

    if (jl(n[l])) {
      var _e68 = n[l];
      n[l] = null === (i = _e68.next) || void 0 === i ? void 0 : i.bind(_e68), n[l + 1] = null === (s = _e68.error) || void 0 === s ? void 0 : s.bind(_e68), n[l + 2] = null === (o = _e68.complete) || void 0 === o ? void 0 : o.bind(_e68);
    }

    var c, h, d;
    if (e instanceof Ml) h = Pl(e.firestore, Bl), d = Ur(e._key.path), c = {
      next: function next(t) {
        n[l] && n[l](Lu(h, e, t));
      },
      error: n[l + 1],
      complete: n[l + 2]
    };else {
      var _t38 = Pl(e, Ll);

      h = Pl(_t38.firestore, Bl), d = _t38._query;

      var _r68 = new xu(h);

      c = {
        next: function next(e) {
          n[l] && n[l](new Ru(h, _r68, _t38, e));
        },
        error: n[l + 1],
        complete: n[l + 2]
      }, vu(e._query);
    }
    return function (e, t, n, r) {
      var i = new ml(r),
          s = new Ua(t, i, n);
      return e.asyncQueue.enqueueAndForget(function _callee17() {
        return regeneratorRuntime.async(function _callee17$(_context71) {
          while (1) {
            switch (_context71.prev = _context71.next) {
              case 0:
                _context71.t0 = Pa;
                _context71.next = 3;
                return regeneratorRuntime.awrap(kl(e));

              case 3:
                _context71.t1 = _context71.sent;
                _context71.t2 = s;
                return _context71.abrupt("return", (0, _context71.t0)(_context71.t1, _context71.t2));

              case 6:
              case "end":
                return _context71.stop();
            }
          }
        });
      }), function () {
        i.za(), e.asyncQueue.enqueueAndForget(function _callee18() {
          return regeneratorRuntime.async(function _callee18$(_context72) {
            while (1) {
              switch (_context72.prev = _context72.next) {
                case 0:
                  _context72.t0 = xa;
                  _context72.next = 3;
                  return regeneratorRuntime.awrap(kl(e));

                case 3:
                  _context72.t1 = _context72.sent;
                  _context72.t2 = s;
                  return _context72.abrupt("return", (0, _context72.t0)(_context72.t1, _context72.t2));

                case 6:
                case "end":
                  return _context72.stop();
              }
            }
          });
        });
      };
    }(ql(h), d, u, c);
  }

  function Ou(e, t) {
    return function (e, t) {
      var n = new Mt();
      return e.asyncQueue.enqueueAndForget(function _callee20() {
        return regeneratorRuntime.async(function _callee20$(_context74) {
          while (1) {
            switch (_context74.prev = _context74.next) {
              case 0:
                _context74.t0 = function _callee19(e, t, n) {
                  var r, _e69, _t40;

                  return regeneratorRuntime.async(function _callee19$(_context73) {
                    while (1) {
                      switch (_context73.prev = _context73.next) {
                        case 0:
                          r = fl(e);
                          _context73.prev = 1;
                          _context73.next = 4;
                          return regeneratorRuntime.awrap(function (e, t) {
                            var n = Dt(e),
                                r = Qt.now(),
                                i = t.reduce(function (e, t) {
                              return e.add(t.key);
                            }, ci());
                            var s, o;
                            return n.persistence.runTransaction("Locally write mutations", "readwrite", function (e) {
                              var a = ti(),
                                  l = ci();
                              return n.cs.getEntries(e, i).next(function (e) {
                                a = e, a.forEach(function (e, t) {
                                  t.isValidDocument() || (l = l.add(e));
                                });
                              }).next(function () {
                                return n.localDocuments.getOverlayedDocuments(e, a);
                              }).next(function (i) {
                                s = i;
                                var o = [];
                                var _iteratorNormalCompletion70 = true;
                                var _didIteratorError70 = false;
                                var _iteratorError70 = undefined;

                                try {
                                  for (var _iterator70 = t[Symbol.iterator](), _step70; !(_iteratorNormalCompletion70 = (_step70 = _iterator70.next()).done); _iteratorNormalCompletion70 = true) {
                                    var _e70 = _step70.value;

                                    var _t39 = Li(_e70, s.get(_e70.key).overlayedDocument);

                                    null != _t39 && o.push(new Ui(_e70.key, _t39, ar(_t39.value.mapValue), Ai.exists(!0)));
                                  }
                                } catch (err) {
                                  _didIteratorError70 = true;
                                  _iteratorError70 = err;
                                } finally {
                                  try {
                                    if (!_iteratorNormalCompletion70 && _iterator70["return"] != null) {
                                      _iterator70["return"]();
                                    }
                                  } finally {
                                    if (_didIteratorError70) {
                                      throw _iteratorError70;
                                    }
                                  }
                                }

                                return n.mutationQueue.addMutationBatch(e, r, o, t);
                              }).next(function (t) {
                                o = t;
                                var r = t.applyToLocalDocumentSet(s, l);
                                return n.documentOverlayCache.saveOverlays(e, t.batchId, r);
                              });
                            }).then(function () {
                              return {
                                batchId: o.batchId,
                                changes: ii(s)
                              };
                            });
                          }(r.localStore, t));

                        case 4:
                          _e69 = _context73.sent;
                          r.sharedClientState.addPendingMutation(_e69.batchId);

                          (function (e, t, n) {
                            var r = e.Ba[e.currentUser.toKey()];
                            r || (r = new Tn(Wt)), r = r.insert(t, n), e.Ba[e.currentUser.toKey()] = r;
                          })(r, _e69.batchId, n);

                          _context73.next = 9;
                          return regeneratorRuntime.awrap(ul(r, _e69.changes));

                        case 9:
                          _context73.next = 11;
                          return regeneratorRuntime.awrap(ca(r.remoteStore));

                        case 11:
                          _context73.next = 17;
                          break;

                        case 13:
                          _context73.prev = 13;
                          _context73.t0 = _context73["catch"](1);
                          _t40 = ka(_context73.t0, "Failed to persist write");
                          n.reject(_t40);

                        case 17:
                        case "end":
                          return _context73.stop();
                      }
                    }
                  }, null, null, [[1, 13]]);
                };

                _context74.next = 3;
                return regeneratorRuntime.awrap(Sl(e));

              case 3:
                _context74.t1 = _context74.sent;
                _context74.t2 = t;
                _context74.t3 = n;
                return _context74.abrupt("return", (0, _context74.t0)(_context74.t1, _context74.t2, _context74.t3));

              case 7:
              case "end":
                return _context74.stop();
            }
          }
        });
      }), n.promise;
    }(ql(e), t);
  }

  function Lu(e, t, n) {
    var r = n.docs.get(t._key),
        i = new xu(e);
    return new Nu(e, i, t._key, r, new Cu(n.hasPendingWrites, n.fromCache), t.converter);
  }

  new WeakMap();
  !function (e) {
    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
    !function (e) {
      kt = e;
    }(He), ze(new P("firestore", function (e, n) {
      var r = n.instanceIdentifier,
          i = n.options;
      var s = e.getProvider("app").getImmediate(),
          o = new Bl(new zt(e.getProvider("auth-internal")), new qt(e.getProvider("app-check-internal")), function (e, t) {
        if (!Object.prototype.hasOwnProperty.apply(e.options, ["projectId"])) throw new Lt(Ot.INVALID_ARGUMENT, '"projectId" not provided in firebase.initializeApp.');
        return new jn(e.options.projectId, t);
      }(s, r), s);
      return i = Object.assign({
        useFetchStreams: t
      }, i), o._setSettings(i), o;
    }, "PUBLIC").setMultipleInstances(!0)), Ge(Et, "4.7.0", e), Ge(Et, "4.7.0", "esm2017");
  }();

  function Mu(e, t) {
    var n = {};

    for (var r in e) {
      Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
    }

    if (null != e && "function" === typeof Object.getOwnPropertySymbols) {
      var i = 0;

      for (r = Object.getOwnPropertySymbols(e); i < r.length; i++) {
        t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);
      }
    }

    return n;
  }

  Object.create;
  Object.create;
  "function" === typeof SuppressedError && SuppressedError;

  function Fu() {
    return {
      "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."
    };
  }

  var Uu = Fu,
      Vu = new _("auth", "Firebase", {
    "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."
  }),
      zu = new j("@firebase/auth");

  function ju(e) {
    if (zu.logLevel <= M.ERROR) {
      for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
        n[r - 1] = arguments[r];
      }

      zu.error.apply(zu, ["Auth (".concat(He, "): ").concat(e)].concat(n));
    }
  }

  function Bu(e) {
    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
      n[r - 1] = arguments[r];
    }

    throw Wu.apply(void 0, [e].concat(n));
  }

  function $u(e) {
    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
      n[r - 1] = arguments[r];
    }

    return Wu.apply(void 0, [e].concat(n));
  }

  function qu(e, t, n) {
    var r = Object.assign(Object.assign({}, Uu()), _defineProperty({}, t, n));
    return new _("auth", "Firebase", r).create(t, {
      appName: e.name
    });
  }

  function Hu(e) {
    return qu(e, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp");
  }

  function Ku(e, t, n) {
    if (!(t instanceof n)) throw n.name !== t.constructor.name && Bu(e, "argument-error"), qu(e, "argument-error", "Type of ".concat(t.constructor.name, " does not match expected instance.Did you pass a reference from a different Auth SDK?"));
  }

  function Wu(e) {
    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
      n[r - 1] = arguments[r];
    }

    if ("string" !== typeof e) {
      var _e$_errorFactory;

      var _t41 = n[0],
          _r69 = _toConsumableArray(n.slice(1));

      return _r69[0] && (_r69[0].appName = e.name), (_e$_errorFactory = e._errorFactory).create.apply(_e$_errorFactory, [_t41].concat(_toConsumableArray(_r69)));
    }

    return Vu.create.apply(Vu, [e].concat(n));
  }

  function Gu(e, t) {
    if (!e) {
      for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++) {
        r[i - 2] = arguments[i];
      }

      throw Wu.apply(void 0, [t].concat(r));
    }
  }

  function Qu(e) {
    var t = "INTERNAL ASSERTION FAILED: " + e;
    throw ju(t), new Error(t);
  }

  function Xu(e, t) {
    e || Qu(t);
  }

  function Yu() {
    var e;
    return "undefined" !== typeof self && (null === (e = self.location) || void 0 === e ? void 0 : e.href) || "";
  }

  function Ju() {
    return "http:" === Zu() || "https:" === Zu();
  }

  function Zu() {
    var e;
    return "undefined" !== typeof self && (null === (e = self.location) || void 0 === e ? void 0 : e.protocol) || null;
  }

  function ec() {
    return !("undefined" !== typeof navigator && navigator && "onLine" in navigator && "boolean" === typeof navigator.onLine && (Ju() || function () {
      var e = "object" === (typeof chrome === "undefined" ? "undefined" : _typeof(chrome)) ? chrome.runtime : "object" === (typeof browser === "undefined" ? "undefined" : _typeof(browser)) ? browser.runtime : void 0;
      return "object" === _typeof(e) && void 0 !== e.id;
    }() || "connection" in navigator)) || navigator.onLine;
  }

  var tc =
  /*#__PURE__*/
  function () {
    function tc(e, t) {
      _classCallCheck(this, tc);

      this.shortDelay = e, this.longDelay = t, Xu(t > e, "Short delay should be less than long delay!"), this.isMobile = "undefined" !== typeof window && !!(window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v()) || "object" === (typeof navigator === "undefined" ? "undefined" : _typeof(navigator)) && "ReactNative" === navigator.product;
    }

    _createClass(tc, [{
      key: "get",
      value: function get() {
        return ec() ? this.isMobile ? this.longDelay : this.shortDelay : Math.min(5e3, this.shortDelay);
      }
    }]);

    return tc;
  }();

  function nc(e, t) {
    Xu(e.emulator, "Emulator should always be set here");
    var n = e.emulator.url;
    return t ? "".concat(n).concat(t.startsWith("/") ? t.slice(1) : t) : n;
  }

  var rc =
  /*#__PURE__*/
  function () {
    function rc() {
      _classCallCheck(this, rc);
    }

    _createClass(rc, null, [{
      key: "initialize",
      value: function initialize(e, t, n) {
        this.fetchImpl = e, t && (this.headersImpl = t), n && (this.responseImpl = n);
      }
    }, {
      key: "fetch",
      value: function (_fetch) {
        function fetch() {
          return _fetch.apply(this, arguments);
        }

        fetch.toString = function () {
          return _fetch.toString();
        };

        return fetch;
      }(function () {
        return this.fetchImpl ? this.fetchImpl : "undefined" !== typeof self && "fetch" in self ? self.fetch : "undefined" !== typeof globalThis && globalThis.fetch ? globalThis.fetch : "undefined" !== typeof fetch ? fetch : void Qu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      })
    }, {
      key: "headers",
      value: function headers() {
        return this.headersImpl ? this.headersImpl : "undefined" !== typeof self && "Headers" in self ? self.Headers : "undefined" !== typeof globalThis && globalThis.Headers ? globalThis.Headers : "undefined" !== typeof Headers ? Headers : void Qu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
    }, {
      key: "response",
      value: function response() {
        return this.responseImpl ? this.responseImpl : "undefined" !== typeof self && "Response" in self ? self.Response : "undefined" !== typeof globalThis && globalThis.Response ? globalThis.Response : "undefined" !== typeof Response ? Response : void Qu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
    }]);

    return rc;
  }();

  var ic = {
    CREDENTIAL_MISMATCH: "custom-token-mismatch",
    MISSING_CUSTOM_TOKEN: "internal-error",
    INVALID_IDENTIFIER: "invalid-email",
    MISSING_CONTINUE_URI: "internal-error",
    INVALID_PASSWORD: "wrong-password",
    MISSING_PASSWORD: "missing-password",
    INVALID_LOGIN_CREDENTIALS: "invalid-credential",
    EMAIL_EXISTS: "email-already-in-use",
    PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
    INVALID_IDP_RESPONSE: "invalid-credential",
    INVALID_PENDING_TOKEN: "invalid-credential",
    FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
    MISSING_REQ_TYPE: "internal-error",
    EMAIL_NOT_FOUND: "user-not-found",
    RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",
    EXPIRED_OOB_CODE: "expired-action-code",
    INVALID_OOB_CODE: "invalid-action-code",
    MISSING_OOB_CODE: "internal-error",
    CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
    INVALID_ID_TOKEN: "invalid-user-token",
    TOKEN_EXPIRED: "user-token-expired",
    USER_NOT_FOUND: "user-token-expired",
    TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
    PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements",
    INVALID_CODE: "invalid-verification-code",
    INVALID_SESSION_INFO: "invalid-verification-id",
    INVALID_TEMPORARY_PROOF: "invalid-credential",
    MISSING_SESSION_INFO: "missing-verification-id",
    SESSION_EXPIRED: "code-expired",
    MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
    UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
    INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
    ADMIN_ONLY_OPERATION: "admin-restricted-operation",
    INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",
    MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",
    MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",
    MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",
    SECOND_FACTOR_EXISTS: "second-factor-already-in-use",
    SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",
    BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error",
    RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled",
    MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token",
    INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token",
    INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action",
    MISSING_CLIENT_TYPE: "missing-client-type",
    MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version",
    INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version",
    INVALID_REQ_TYPE: "invalid-req-type"
  },
      sc = new tc(3e4, 6e4);

  function oc(e, t) {
    return e.tenantId && !t.tenantId ? Object.assign(Object.assign({}, t), {
      tenantId: e.tenantId
    }) : t;
  }

  function ac(e, t, n, r) {
    var _args76 = arguments;
    return regeneratorRuntime.async(function ac$(_context76) {
      while (1) {
        switch (_context76.prev = _context76.next) {
          case 0:
            return _context76.abrupt("return", lc(e, _args76.length > 4 && void 0 !== _args76[4] ? _args76[4] : {}, function _callee21() {
              var i, s, o, a;
              return regeneratorRuntime.async(function _callee21$(_context75) {
                while (1) {
                  switch (_context75.prev = _context75.next) {
                    case 0:
                      i = {}, s = {};
                      r && ("GET" === t ? s = r : i = {
                        body: JSON.stringify(r)
                      });
                      o = T(Object.assign({
                        key: e.config.apiKey
                      }, s)).slice(1);
                      _context75.next = 5;
                      return regeneratorRuntime.awrap(e._getAdditionalHeaders());

                    case 5:
                      a = _context75.sent;
                      return _context75.abrupt("return", (a["Content-Type"] = "application/json", e.languageCode && (a["X-Firebase-Locale"] = e.languageCode), rc.fetch()(cc(e, e.config.apiHost, n, o), Object.assign({
                        method: t,
                        headers: a,
                        referrerPolicy: "no-referrer"
                      }, i))));

                    case 7:
                    case "end":
                      return _context75.stop();
                  }
                }
              });
            }));

          case 1:
          case "end":
            return _context76.stop();
        }
      }
    });
  }

  function lc(e, t, n) {
    var r, _t42, i, _s27, _t43, _t43$split, _t43$split2, _n44, _o17, a;

    return regeneratorRuntime.async(function lc$(_context77) {
      while (1) {
        switch (_context77.prev = _context77.next) {
          case 0:
            e._canInitEmulator = !1;
            r = Object.assign(Object.assign({}, ic), t);
            _context77.prev = 2;
            _t42 = new dc(e);
            _context77.next = 6;
            return regeneratorRuntime.awrap(Promise.race([n(), _t42.promise]));

          case 6:
            i = _context77.sent;

            _t42.clearNetworkTimeout();

            _context77.next = 10;
            return regeneratorRuntime.awrap(i.json());

          case 10:
            _s27 = _context77.sent;

            if (!("needConfirmation" in _s27)) {
              _context77.next = 13;
              break;
            }

            throw fc(e, "account-exists-with-different-credential", _s27);

          case 13:
            if (!(i.ok && !("errorMessage" in _s27))) {
              _context77.next = 15;
              break;
            }

            return _context77.abrupt("return", _s27);

          case 15:
            _t43 = i.ok ? _s27.errorMessage : _s27.error.message, _t43$split = _t43.split(" : "), _t43$split2 = _slicedToArray(_t43$split, 2), _n44 = _t43$split2[0], _o17 = _t43$split2[1];

            if (!("FEDERATED_USER_ID_ALREADY_LINKED" === _n44)) {
              _context77.next = 18;
              break;
            }

            throw fc(e, "credential-already-in-use", _s27);

          case 18:
            if (!("EMAIL_EXISTS" === _n44)) {
              _context77.next = 20;
              break;
            }

            throw fc(e, "email-already-in-use", _s27);

          case 20:
            if (!("USER_DISABLED" === _n44)) {
              _context77.next = 22;
              break;
            }

            throw fc(e, "user-disabled", _s27);

          case 22:
            a = r[_n44] || _n44.toLowerCase().replace(/[_\s]+/g, "-");

            if (!_o17) {
              _context77.next = 25;
              break;
            }

            throw qu(e, a, _o17);

          case 25:
            Bu(e, a);
            _context77.next = 33;
            break;

          case 28:
            _context77.prev = 28;
            _context77.t0 = _context77["catch"](2);

            if (!(_context77.t0 instanceof b)) {
              _context77.next = 32;
              break;
            }

            throw _context77.t0;

          case 32:
            Bu(e, "network-request-failed", {
              message: String(_context77.t0)
            });

          case 33:
          case "end":
            return _context77.stop();
        }
      }
    }, null, null, [[2, 28]]);
  }

  function uc(e, t, n, r) {
    var i,
        s,
        _args78 = arguments;
    return regeneratorRuntime.async(function uc$(_context78) {
      while (1) {
        switch (_context78.prev = _context78.next) {
          case 0:
            i = _args78.length > 4 && void 0 !== _args78[4] ? _args78[4] : {};
            _context78.next = 3;
            return regeneratorRuntime.awrap(ac(e, t, n, r, i));

          case 3:
            s = _context78.sent;
            return _context78.abrupt("return", ("mfaPendingCredential" in s && Bu(e, "multi-factor-auth-required", {
              _serverResponse: s
            }), s));

          case 5:
          case "end":
            return _context78.stop();
        }
      }
    });
  }

  function cc(e, t, n, r) {
    var i = "".concat(t).concat(n, "?").concat(r);
    return e.config.emulator ? nc(e.config, i) : "".concat(e.config.apiScheme, "://").concat(i);
  }

  function hc(e) {
    switch (e) {
      case "ENFORCE":
        return "ENFORCE";

      case "AUDIT":
        return "AUDIT";

      case "OFF":
        return "OFF";

      default:
        return "ENFORCEMENT_STATE_UNSPECIFIED";
    }
  }

  var dc =
  /*#__PURE__*/
  function () {
    function dc(e) {
      var _this126 = this;

      _classCallCheck(this, dc);

      this.auth = e, this.timer = null, this.promise = new Promise(function (e, t) {
        _this126.timer = setTimeout(function () {
          return t($u(_this126.auth, "network-request-failed"));
        }, sc.get());
      });
    }

    _createClass(dc, [{
      key: "clearNetworkTimeout",
      value: function clearNetworkTimeout() {
        clearTimeout(this.timer);
      }
    }]);

    return dc;
  }();

  function fc(e, t, n) {
    var r = {
      appName: e.name
    };
    n.email && (r.email = n.email), n.phoneNumber && (r.phoneNumber = n.phoneNumber);
    var i = $u(e, t, r);
    return i.customData._tokenResponse = n, i;
  }

  function pc(e) {
    return void 0 !== e && void 0 !== e.enterprise;
  }

  var gc =
  /*#__PURE__*/
  function () {
    function gc(e) {
      _classCallCheck(this, gc);

      if (this.siteKey = "", this.recaptchaEnforcementState = [], void 0 === e.recaptchaKey) throw new Error("recaptchaKey undefined");
      this.siteKey = e.recaptchaKey.split("/")[3], this.recaptchaEnforcementState = e.recaptchaEnforcementState;
    }

    _createClass(gc, [{
      key: "getProviderEnforcementState",
      value: function getProviderEnforcementState(e) {
        if (!this.recaptchaEnforcementState || 0 === this.recaptchaEnforcementState.length) return null;
        var _iteratorNormalCompletion71 = true;
        var _didIteratorError71 = false;
        var _iteratorError71 = undefined;

        try {
          for (var _iterator71 = this.recaptchaEnforcementState[Symbol.iterator](), _step71; !(_iteratorNormalCompletion71 = (_step71 = _iterator71.next()).done); _iteratorNormalCompletion71 = true) {
            var t = _step71.value;
            if (t.provider && t.provider === e) return hc(t.enforcementState);
          }
        } catch (err) {
          _didIteratorError71 = true;
          _iteratorError71 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion71 && _iterator71["return"] != null) {
              _iterator71["return"]();
            }
          } finally {
            if (_didIteratorError71) {
              throw _iteratorError71;
            }
          }
        }

        return null;
      }
    }, {
      key: "isProviderEnabled",
      value: function isProviderEnabled(e) {
        return "ENFORCE" === this.getProviderEnforcementState(e) || "AUDIT" === this.getProviderEnforcementState(e);
      }
    }]);

    return gc;
  }();

  function mc(e, t) {
    return regeneratorRuntime.async(function mc$(_context79) {
      while (1) {
        switch (_context79.prev = _context79.next) {
          case 0:
            return _context79.abrupt("return", ac(e, "GET", "/v2/recaptchaConfig", oc(e, t)));

          case 1:
          case "end":
            return _context79.stop();
        }
      }
    });
  }

  function vc(e, t) {
    return regeneratorRuntime.async(function vc$(_context80) {
      while (1) {
        switch (_context80.prev = _context80.next) {
          case 0:
            return _context80.abrupt("return", ac(e, "POST", "/v1/accounts:lookup", t));

          case 1:
          case "end":
            return _context80.stop();
        }
      }
    });
  }

  function yc(e) {
    if (e) try {
      var t = new Date(Number(e));
      if (!isNaN(t.getTime())) return t.toUTCString();
    } catch (t) {}
  }

  function wc(e) {
    return 1e3 * Number(e);
  }

  function bc(e) {
    var _e$split3 = e.split("."),
        _e$split4 = _slicedToArray(_e$split3, 3),
        t = _e$split4[0],
        n = _e$split4[1],
        r = _e$split4[2];

    if (void 0 === t || void 0 === n || void 0 === r) return ju("JWT malformed, contained fewer than 3 sections"), null;

    try {
      var _e71 = u(n);

      return _e71 ? JSON.parse(_e71) : (ju("Failed to decode base64 JWT payload"), null);
    } catch (i) {
      return ju("Caught error parsing JWT payload as JSON", null === i || void 0 === i ? void 0 : i.toString()), null;
    }
  }

  function _c(e) {
    var t = bc(e);
    return Gu(t, "internal-error"), Gu("undefined" !== typeof t.exp, "internal-error"), Gu("undefined" !== typeof t.iat, "internal-error"), Number(t.exp) - Number(t.iat);
  }

  function Ec(e, t) {
    var _args81 = arguments;
    return regeneratorRuntime.async(function Ec$(_context81) {
      while (1) {
        switch (_context81.prev = _context81.next) {
          case 0:
            if (!(_args81.length > 2 && void 0 !== _args81[2] && _args81[2])) {
              _context81.next = 2;
              break;
            }

            return _context81.abrupt("return", t);

          case 2:
            _context81.prev = 2;
            _context81.next = 5;
            return regeneratorRuntime.awrap(t);

          case 5:
            return _context81.abrupt("return", _context81.sent);

          case 8:
            _context81.prev = 8;
            _context81.t0 = _context81["catch"](2);

            _context81.t1 = _context81.t0 instanceof b && function (e) {
              var t = e.code;
              return "auth/user-disabled" === t || "auth/user-token-expired" === t;
            }(_context81.t0) && e.auth.currentUser === e;

            if (!_context81.t1) {
              _context81.next = 14;
              break;
            }

            _context81.next = 14;
            return regeneratorRuntime.awrap(e.auth.signOut());

          case 14:
            throw _context81.t0;

          case 15:
          case "end":
            return _context81.stop();
        }
      }
    }, null, null, [[2, 8]]);
  }

  var Sc =
  /*#__PURE__*/
  function () {
    function Sc(e) {
      _classCallCheck(this, Sc);

      this.user = e, this.isRunning = !1, this.timerId = null, this.errorBackoff = 3e4;
    }

    _createClass(Sc, [{
      key: "_start",
      value: function _start() {
        this.isRunning || (this.isRunning = !0, this.schedule());
      }
    }, {
      key: "_stop",
      value: function _stop() {
        this.isRunning && (this.isRunning = !1, null !== this.timerId && clearTimeout(this.timerId));
      }
    }, {
      key: "getInterval",
      value: function getInterval(e) {
        var t;

        if (e) {
          var _e72 = this.errorBackoff;
          return this.errorBackoff = Math.min(2 * this.errorBackoff, 96e4), _e72;
        }

        {
          this.errorBackoff = 3e4;

          var _e73 = (null !== (t = this.user.stsTokenManager.expirationTime) && void 0 !== t ? t : 0) - Date.now() - 3e5;

          return Math.max(0, _e73);
        }
      }
    }, {
      key: "schedule",
      value: function schedule() {
        var _this127 = this;

        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        if (!this.isRunning) return;
        var t = this.getInterval(e);
        this.timerId = setTimeout(function _callee22() {
          return regeneratorRuntime.async(function _callee22$(_context82) {
            while (1) {
              switch (_context82.prev = _context82.next) {
                case 0:
                  _context82.next = 2;
                  return regeneratorRuntime.awrap(_this127.iteration());

                case 2:
                case "end":
                  return _context82.stop();
              }
            }
          });
        }, t);
      }
    }, {
      key: "iteration",
      value: function iteration() {
        return regeneratorRuntime.async(function iteration$(_context83) {
          while (1) {
            switch (_context83.prev = _context83.next) {
              case 0:
                _context83.prev = 0;
                _context83.next = 3;
                return regeneratorRuntime.awrap(this.user.getIdToken(!0));

              case 3:
                _context83.next = 8;
                break;

              case 5:
                _context83.prev = 5;
                _context83.t0 = _context83["catch"](0);
                return _context83.abrupt("return", void ("auth/network-request-failed" === (null === _context83.t0 || void 0 === _context83.t0 ? void 0 : _context83.t0.code) && this.schedule(!0)));

              case 8:
                this.schedule();

              case 9:
              case "end":
                return _context83.stop();
            }
          }
        }, null, this, [[0, 5]]);
      }
    }]);

    return Sc;
  }();

  var kc =
  /*#__PURE__*/
  function () {
    function kc(e, t) {
      _classCallCheck(this, kc);

      this.createdAt = e, this.lastLoginAt = t, this._initializeTime();
    }

    _createClass(kc, [{
      key: "_initializeTime",
      value: function _initializeTime() {
        this.lastSignInTime = yc(this.lastLoginAt), this.creationTime = yc(this.createdAt);
      }
    }, {
      key: "_copy",
      value: function _copy(e) {
        this.createdAt = e.createdAt, this.lastLoginAt = e.lastLoginAt, this._initializeTime();
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          createdAt: this.createdAt,
          lastLoginAt: this.lastLoginAt
        };
      }
    }]);

    return kc;
  }();

  function Tc(e) {
    var t, n, r, i, s, o, a, l, u, c, h, d, f;
    return regeneratorRuntime.async(function Tc$(_context84) {
      while (1) {
        switch (_context84.prev = _context84.next) {
          case 0:
            n = e.auth;
            _context84.next = 3;
            return regeneratorRuntime.awrap(e.getIdToken());

          case 3:
            r = _context84.sent;
            _context84.next = 6;
            return regeneratorRuntime.awrap(Ec(e, vc(n, {
              idToken: r
            })));

          case 6:
            i = _context84.sent;
            Gu(null === i || void 0 === i ? void 0 : i.users.length, n, "internal-error");
            s = i.users[0];

            e._notifyReloadListener(s);

            o = (null === (t = s.providerUserInfo) || void 0 === t ? void 0 : t.length) ? Ic(s.providerUserInfo) : [], a = (l = e.providerData, u = o, [].concat(_toConsumableArray(l.filter(function (e) {
              return !u.some(function (t) {
                return t.providerId === e.providerId;
              });
            })), _toConsumableArray(u)));
            c = e.isAnonymous, h = !(e.email && s.passwordHash) && !(null === a || void 0 === a ? void 0 : a.length), d = !!c && h, f = {
              uid: s.localId,
              displayName: s.displayName || null,
              photoURL: s.photoUrl || null,
              email: s.email || null,
              emailVerified: s.emailVerified || !1,
              phoneNumber: s.phoneNumber || null,
              tenantId: s.tenantId || null,
              providerData: a,
              metadata: new kc(s.createdAt, s.lastLoginAt),
              isAnonymous: d
            };
            Object.assign(e, f);

          case 13:
          case "end":
            return _context84.stop();
        }
      }
    });
  }

  function Ic(e) {
    return e.map(function (e) {
      var t = e.providerId,
          n = Mu(e, ["providerId"]);
      return {
        providerId: t,
        uid: n.rawId || "",
        displayName: n.displayName || null,
        email: n.email || null,
        phoneNumber: n.phoneNumber || null,
        photoURL: n.photoUrl || null
      };
    });
  }

  var Cc =
  /*#__PURE__*/
  function () {
    function Cc() {
      _classCallCheck(this, Cc);

      this.refreshToken = null, this.accessToken = null, this.expirationTime = null;
    }

    _createClass(Cc, [{
      key: "updateFromServerResponse",
      value: function updateFromServerResponse(e) {
        Gu(e.idToken, "internal-error"), Gu("undefined" !== typeof e.idToken, "internal-error"), Gu("undefined" !== typeof e.refreshToken, "internal-error");
        var t = "expiresIn" in e && "undefined" !== typeof e.expiresIn ? Number(e.expiresIn) : _c(e.idToken);
        this.updateTokensAndExpiration(e.idToken, e.refreshToken, t);
      }
    }, {
      key: "updateFromIdToken",
      value: function updateFromIdToken(e) {
        Gu(0 !== e.length, "internal-error");

        var t = _c(e);

        this.updateTokensAndExpiration(e, null, t);
      }
    }, {
      key: "getToken",
      value: function getToken(e) {
        var _args85 = arguments;
        return regeneratorRuntime.async(function getToken$(_context85) {
          while (1) {
            switch (_context85.prev = _context85.next) {
              case 0:
                if (!(_args85.length > 1 && void 0 !== _args85[1] && _args85[1] || !this.accessToken || this.isExpired)) {
                  _context85.next = 12;
                  break;
                }

                Gu(this.refreshToken, e, "user-token-expired");

                if (!this.refreshToken) {
                  _context85.next = 8;
                  break;
                }

                _context85.next = 5;
                return regeneratorRuntime.awrap(this.refresh(e, this.refreshToken));

              case 5:
                _context85.t1 = this.accessToken;
                _context85.next = 9;
                break;

              case 8:
                _context85.t1 = null;

              case 9:
                _context85.t0 = _context85.t1;
                _context85.next = 13;
                break;

              case 12:
                _context85.t0 = this.accessToken;

              case 13:
                return _context85.abrupt("return", _context85.t0);

              case 14:
              case "end":
                return _context85.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "clearRefreshToken",
      value: function clearRefreshToken() {
        this.refreshToken = null;
      }
    }, {
      key: "refresh",
      value: function refresh(e, t) {
        var _ref5, n, r, i;

        return regeneratorRuntime.async(function refresh$(_context88) {
          while (1) {
            switch (_context88.prev = _context88.next) {
              case 0:
                _context88.next = 2;
                return regeneratorRuntime.awrap(function _callee24(e, t) {
                  var n;
                  return regeneratorRuntime.async(function _callee24$(_context87) {
                    while (1) {
                      switch (_context87.prev = _context87.next) {
                        case 0:
                          _context87.next = 2;
                          return regeneratorRuntime.awrap(lc(e, {}, function _callee23() {
                            var n, _e$config, r, i, s, o;

                            return regeneratorRuntime.async(function _callee23$(_context86) {
                              while (1) {
                                switch (_context86.prev = _context86.next) {
                                  case 0:
                                    n = T({
                                      grant_type: "refresh_token",
                                      refresh_token: t
                                    }).slice(1);
                                    _e$config = e.config;
                                    r = _e$config.tokenApiHost;
                                    i = _e$config.apiKey;
                                    s = cc(e, r, "/v1/token", "key=".concat(i));
                                    _context86.next = 7;
                                    return regeneratorRuntime.awrap(e._getAdditionalHeaders());

                                  case 7:
                                    o = _context86.sent;
                                    return _context86.abrupt("return", (o["Content-Type"] = "application/x-www-form-urlencoded", rc.fetch()(s, {
                                      method: "POST",
                                      headers: o,
                                      body: n
                                    })));

                                  case 9:
                                  case "end":
                                    return _context86.stop();
                                }
                              }
                            });
                          }));

                        case 2:
                          n = _context87.sent;
                          return _context87.abrupt("return", {
                            accessToken: n.access_token,
                            expiresIn: n.expires_in,
                            refreshToken: n.refresh_token
                          });

                        case 4:
                        case "end":
                          return _context87.stop();
                      }
                    }
                  });
                }(e, t));

              case 2:
                _ref5 = _context88.sent;
                n = _ref5.accessToken;
                r = _ref5.refreshToken;
                i = _ref5.expiresIn;
                this.updateTokensAndExpiration(n, r, Number(i));

              case 7:
              case "end":
                return _context88.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "updateTokensAndExpiration",
      value: function updateTokensAndExpiration(e, t, n) {
        this.refreshToken = t || null, this.accessToken = e || null, this.expirationTime = Date.now() + 1e3 * n;
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          refreshToken: this.refreshToken,
          accessToken: this.accessToken,
          expirationTime: this.expirationTime
        };
      }
    }, {
      key: "_assign",
      value: function _assign(e) {
        this.accessToken = e.accessToken, this.refreshToken = e.refreshToken, this.expirationTime = e.expirationTime;
      }
    }, {
      key: "_clone",
      value: function _clone() {
        return Object.assign(new Cc(), this.toJSON());
      }
    }, {
      key: "_performRefresh",
      value: function _performRefresh() {
        return Qu("not implemented");
      }
    }, {
      key: "isExpired",
      get: function get() {
        return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
      }
    }], [{
      key: "fromJSON",
      value: function fromJSON(e, t) {
        var n = t.refreshToken,
            r = t.accessToken,
            i = t.expirationTime,
            s = new Cc();
        return n && (Gu("string" === typeof n, "internal-error", {
          appName: e
        }), s.refreshToken = n), r && (Gu("string" === typeof r, "internal-error", {
          appName: e
        }), s.accessToken = r), i && (Gu("number" === typeof i, "internal-error", {
          appName: e
        }), s.expirationTime = i), s;
      }
    }]);

    return Cc;
  }();

  function Nc(e, t) {
    Gu("string" === typeof e || "undefined" === typeof e, "internal-error", {
      appName: t
    });
  }

  var Ac =
  /*#__PURE__*/
  function () {
    function Ac(e) {
      _classCallCheck(this, Ac);

      var t = e.uid,
          n = e.auth,
          r = e.stsTokenManager,
          i = Mu(e, ["uid", "auth", "stsTokenManager"]);
      this.providerId = "firebase", this.proactiveRefresh = new Sc(this), this.reloadUserInfo = null, this.reloadListener = null, this.uid = t, this.auth = n, this.stsTokenManager = r, this.accessToken = r.accessToken, this.displayName = i.displayName || null, this.email = i.email || null, this.emailVerified = i.emailVerified || !1, this.phoneNumber = i.phoneNumber || null, this.photoURL = i.photoURL || null, this.isAnonymous = i.isAnonymous || !1, this.tenantId = i.tenantId || null, this.providerData = i.providerData ? _toConsumableArray(i.providerData) : [], this.metadata = new kc(i.createdAt || void 0, i.lastLoginAt || void 0);
    }

    _createClass(Ac, [{
      key: "getIdToken",
      value: function getIdToken(e) {
        var t;
        return regeneratorRuntime.async(function getIdToken$(_context89) {
          while (1) {
            switch (_context89.prev = _context89.next) {
              case 0:
                _context89.next = 2;
                return regeneratorRuntime.awrap(Ec(this, this.stsTokenManager.getToken(this.auth, e)));

              case 2:
                t = _context89.sent;
                Gu(t, this.auth, "internal-error");
                _context89.t0 = this.accessToken !== t;

                if (!_context89.t0) {
                  _context89.next = 10;
                  break;
                }

                this.accessToken = t;
                _context89.next = 9;
                return regeneratorRuntime.awrap(this.auth._persistUserIfCurrent(this));

              case 9:
                this.auth._notifyListenersIfCurrent(this);

              case 10:
                return _context89.abrupt("return", t);

              case 11:
              case "end":
                return _context89.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "getIdTokenResult",
      value: function getIdTokenResult(e) {
        return function _callee25(e) {
          var t,
              n,
              r,
              i,
              s,
              o,
              _args90 = arguments;
          return regeneratorRuntime.async(function _callee25$(_context90) {
            while (1) {
              switch (_context90.prev = _context90.next) {
                case 0:
                  t = _args90.length > 1 && void 0 !== _args90[1] && _args90[1];
                  n = R(e);
                  _context90.next = 4;
                  return regeneratorRuntime.awrap(n.getIdToken(t));

                case 4:
                  r = _context90.sent;
                  i = bc(r);
                  Gu(i && i.exp && i.auth_time && i.iat, n.auth, "internal-error");
                  s = "object" === _typeof(i.firebase) ? i.firebase : void 0, o = null === s || void 0 === s ? void 0 : s.sign_in_provider;
                  return _context90.abrupt("return", {
                    claims: i,
                    token: r,
                    authTime: yc(wc(i.auth_time)),
                    issuedAtTime: yc(wc(i.iat)),
                    expirationTime: yc(wc(i.exp)),
                    signInProvider: o || null,
                    signInSecondFactor: (null === s || void 0 === s ? void 0 : s.sign_in_second_factor) || null
                  });

                case 9:
                case "end":
                  return _context90.stop();
              }
            }
          });
        }(this, e);
      }
    }, {
      key: "reload",
      value: function reload() {
        return function _callee26(e) {
          var t;
          return regeneratorRuntime.async(function _callee26$(_context91) {
            while (1) {
              switch (_context91.prev = _context91.next) {
                case 0:
                  t = R(e);
                  _context91.next = 3;
                  return regeneratorRuntime.awrap(Tc(t));

                case 3:
                  _context91.next = 5;
                  return regeneratorRuntime.awrap(t.auth._persistUserIfCurrent(t));

                case 5:
                  t.auth._notifyListenersIfCurrent(t);

                case 6:
                case "end":
                  return _context91.stop();
              }
            }
          });
        }(this);
      }
    }, {
      key: "_assign",
      value: function _assign(e) {
        this !== e && (Gu(this.uid === e.uid, this.auth, "internal-error"), this.displayName = e.displayName, this.photoURL = e.photoURL, this.email = e.email, this.emailVerified = e.emailVerified, this.phoneNumber = e.phoneNumber, this.isAnonymous = e.isAnonymous, this.tenantId = e.tenantId, this.providerData = e.providerData.map(function (e) {
          return Object.assign({}, e);
        }), this.metadata._copy(e.metadata), this.stsTokenManager._assign(e.stsTokenManager));
      }
    }, {
      key: "_clone",
      value: function _clone(e) {
        var t = new Ac(Object.assign(Object.assign({}, this), {
          auth: e,
          stsTokenManager: this.stsTokenManager._clone()
        }));
        return t.metadata._copy(this.metadata), t;
      }
    }, {
      key: "_onReload",
      value: function _onReload(e) {
        Gu(!this.reloadListener, this.auth, "internal-error"), this.reloadListener = e, this.reloadUserInfo && (this._notifyReloadListener(this.reloadUserInfo), this.reloadUserInfo = null);
      }
    }, {
      key: "_notifyReloadListener",
      value: function _notifyReloadListener(e) {
        this.reloadListener ? this.reloadListener(e) : this.reloadUserInfo = e;
      }
    }, {
      key: "_startProactiveRefresh",
      value: function _startProactiveRefresh() {
        this.proactiveRefresh._start();
      }
    }, {
      key: "_stopProactiveRefresh",
      value: function _stopProactiveRefresh() {
        this.proactiveRefresh._stop();
      }
    }, {
      key: "_updateTokensIfNecessary",
      value: function _updateTokensIfNecessary(e) {
        var t,
            n,
            _args92 = arguments;
        return regeneratorRuntime.async(function _updateTokensIfNecessary$(_context92) {
          while (1) {
            switch (_context92.prev = _context92.next) {
              case 0:
                t = _args92.length > 1 && void 0 !== _args92[1] && _args92[1], n = !1;
                e.idToken && e.idToken !== this.stsTokenManager.accessToken && (this.stsTokenManager.updateFromServerResponse(e), n = !0);
                _context92.t0 = t;

                if (!_context92.t0) {
                  _context92.next = 6;
                  break;
                }

                _context92.next = 6;
                return regeneratorRuntime.awrap(Tc(this));

              case 6:
                _context92.next = 8;
                return regeneratorRuntime.awrap(this.auth._persistUserIfCurrent(this));

              case 8:
                n && this.auth._notifyListenersIfCurrent(this);

              case 9:
              case "end":
                return _context92.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "delete",
      value: function _delete() {
        var e;
        return regeneratorRuntime.async(function _delete$(_context94) {
          while (1) {
            switch (_context94.prev = _context94.next) {
              case 0:
                if (!Be(this.auth.app)) {
                  _context94.next = 2;
                  break;
                }

                return _context94.abrupt("return", Promise.reject(Hu(this.auth)));

              case 2:
                _context94.next = 4;
                return regeneratorRuntime.awrap(this.getIdToken());

              case 4:
                e = _context94.sent;
                _context94.next = 7;
                return regeneratorRuntime.awrap(Ec(this, function _callee27(e, t) {
                  return regeneratorRuntime.async(function _callee27$(_context93) {
                    while (1) {
                      switch (_context93.prev = _context93.next) {
                        case 0:
                          return _context93.abrupt("return", ac(e, "POST", "/v1/accounts:delete", t));

                        case 1:
                        case "end":
                          return _context93.stop();
                      }
                    }
                  });
                }(this.auth, {
                  idToken: e
                })));

              case 7:
                this.stsTokenManager.clearRefreshToken();
                return _context94.abrupt("return", this.auth.signOut());

              case 9:
              case "end":
                return _context94.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return Object.assign(Object.assign({
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map(function (e) {
            return Object.assign({}, e);
          }),
          stsTokenManager: this.stsTokenManager.toJSON(),
          _redirectEventId: this._redirectEventId
        }, this.metadata.toJSON()), {
          apiKey: this.auth.config.apiKey,
          appName: this.auth.name
        });
      }
    }, {
      key: "refreshToken",
      get: function get() {
        return this.stsTokenManager.refreshToken || "";
      }
    }], [{
      key: "_fromJSON",
      value: function _fromJSON(e, t) {
        var n, r, i, s, o, a, l, u;
        var c = null !== (n = t.displayName) && void 0 !== n ? n : void 0,
            h = null !== (r = t.email) && void 0 !== r ? r : void 0,
            d = null !== (i = t.phoneNumber) && void 0 !== i ? i : void 0,
            f = null !== (s = t.photoURL) && void 0 !== s ? s : void 0,
            p = null !== (o = t.tenantId) && void 0 !== o ? o : void 0,
            g = null !== (a = t._redirectEventId) && void 0 !== a ? a : void 0,
            m = null !== (l = t.createdAt) && void 0 !== l ? l : void 0,
            v = null !== (u = t.lastLoginAt) && void 0 !== u ? u : void 0,
            y = t.uid,
            w = t.emailVerified,
            b = t.isAnonymous,
            _ = t.providerData,
            E = t.stsTokenManager;
        Gu(y && E, e, "internal-error");
        var S = Cc.fromJSON(this.name, E);
        Gu("string" === typeof y, e, "internal-error"), Nc(c, e.name), Nc(h, e.name), Gu("boolean" === typeof w, e, "internal-error"), Gu("boolean" === typeof b, e, "internal-error"), Nc(d, e.name), Nc(f, e.name), Nc(p, e.name), Nc(g, e.name), Nc(m, e.name), Nc(v, e.name);
        var k = new Ac({
          uid: y,
          auth: e,
          email: h,
          emailVerified: w,
          displayName: c,
          isAnonymous: b,
          photoURL: f,
          phoneNumber: d,
          tenantId: p,
          stsTokenManager: S,
          createdAt: m,
          lastLoginAt: v
        });
        return _ && Array.isArray(_) && (k.providerData = _.map(function (e) {
          return Object.assign({}, e);
        })), g && (k._redirectEventId = g), k;
      }
    }, {
      key: "_fromIdTokenResponse",
      value: function _fromIdTokenResponse(e, t) {
        var n,
            r,
            i,
            _args95 = arguments;
        return regeneratorRuntime.async(function _fromIdTokenResponse$(_context95) {
          while (1) {
            switch (_context95.prev = _context95.next) {
              case 0:
                n = _args95.length > 2 && void 0 !== _args95[2] && _args95[2];
                r = new Cc();
                r.updateFromServerResponse(t);
                i = new Ac({
                  uid: t.localId,
                  auth: e,
                  stsTokenManager: r,
                  isAnonymous: n
                });
                _context95.next = 6;
                return regeneratorRuntime.awrap(Tc(i));

              case 6:
                return _context95.abrupt("return", i);

              case 7:
              case "end":
                return _context95.stop();
            }
          }
        });
      }
    }, {
      key: "_fromGetAccountInfoResponse",
      value: function _fromGetAccountInfoResponse(e, t, n) {
        var r, i, s, o, a, l;
        return regeneratorRuntime.async(function _fromGetAccountInfoResponse$(_context96) {
          while (1) {
            switch (_context96.prev = _context96.next) {
              case 0:
                r = t.users[0];
                Gu(void 0 !== r.localId, "internal-error");
                i = void 0 !== r.providerUserInfo ? Ic(r.providerUserInfo) : [], s = !(r.email && r.passwordHash) && !(null === i || void 0 === i ? void 0 : i.length), o = new Cc();
                o.updateFromIdToken(n);
                a = new Ac({
                  uid: r.localId,
                  auth: e,
                  stsTokenManager: o,
                  isAnonymous: s
                }), l = {
                  uid: r.localId,
                  displayName: r.displayName || null,
                  photoURL: r.photoUrl || null,
                  email: r.email || null,
                  emailVerified: r.emailVerified || !1,
                  phoneNumber: r.phoneNumber || null,
                  tenantId: r.tenantId || null,
                  providerData: i,
                  metadata: new kc(r.createdAt, r.lastLoginAt),
                  isAnonymous: !(r.email && r.passwordHash) && !(null === i || void 0 === i ? void 0 : i.length)
                };
                return _context96.abrupt("return", (Object.assign(a, l), a));

              case 6:
              case "end":
                return _context96.stop();
            }
          }
        });
      }
    }]);

    return Ac;
  }();

  var Rc = new Map();

  function Pc(e) {
    Xu(e instanceof Function, "Expected a class definition");
    var t = Rc.get(e);
    return t ? (Xu(t instanceof e, "Instance stored in cache mismatched with class"), t) : (t = new e(), Rc.set(e, t), t);
  }

  var xc =
  /*#__PURE__*/
  function () {
    function xc() {
      _classCallCheck(this, xc);

      this.type = "NONE", this.storage = {};
    }

    _createClass(xc, [{
      key: "_isAvailable",
      value: function _isAvailable() {
        return regeneratorRuntime.async(function _isAvailable$(_context97) {
          while (1) {
            switch (_context97.prev = _context97.next) {
              case 0:
                return _context97.abrupt("return", !0);

              case 1:
              case "end":
                return _context97.stop();
            }
          }
        });
      }
    }, {
      key: "_set",
      value: function _set(e, t) {
        return regeneratorRuntime.async(function _set$(_context98) {
          while (1) {
            switch (_context98.prev = _context98.next) {
              case 0:
                this.storage[e] = t;

              case 1:
              case "end":
                return _context98.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_get",
      value: function _get(e) {
        var t;
        return regeneratorRuntime.async(function _get$(_context99) {
          while (1) {
            switch (_context99.prev = _context99.next) {
              case 0:
                t = this.storage[e];
                return _context99.abrupt("return", void 0 === t ? null : t);

              case 2:
              case "end":
                return _context99.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_remove",
      value: function _remove(e) {
        return regeneratorRuntime.async(function _remove$(_context100) {
          while (1) {
            switch (_context100.prev = _context100.next) {
              case 0:
                delete this.storage[e];

              case 1:
              case "end":
                return _context100.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_addListener",
      value: function _addListener(e, t) {}
    }, {
      key: "_removeListener",
      value: function _removeListener(e, t) {}
    }]);

    return xc;
  }();

  xc.type = "NONE";
  var Dc = xc;

  function Oc(e, t, n) {
    return "firebase:".concat(e, ":").concat(t, ":").concat(n);
  }

  var Lc =
  /*#__PURE__*/
  function () {
    function Lc(e, t, n) {
      _classCallCheck(this, Lc);

      this.persistence = e, this.auth = t, this.userKey = n;
      var _this$auth = this.auth,
          r = _this$auth.config,
          i = _this$auth.name;
      this.fullUserKey = Oc(this.userKey, r.apiKey, i), this.fullPersistenceKey = Oc("persistence", r.apiKey, i), this.boundEventHandler = t._onStorageEvent.bind(t), this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
    }

    _createClass(Lc, [{
      key: "setCurrentUser",
      value: function setCurrentUser(e) {
        return this.persistence._set(this.fullUserKey, e.toJSON());
      }
    }, {
      key: "getCurrentUser",
      value: function getCurrentUser() {
        var e;
        return regeneratorRuntime.async(function getCurrentUser$(_context101) {
          while (1) {
            switch (_context101.prev = _context101.next) {
              case 0:
                _context101.next = 2;
                return regeneratorRuntime.awrap(this.persistence._get(this.fullUserKey));

              case 2:
                e = _context101.sent;
                return _context101.abrupt("return", e ? Ac._fromJSON(this.auth, e) : null);

              case 4:
              case "end":
                return _context101.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "removeCurrentUser",
      value: function removeCurrentUser() {
        return this.persistence._remove(this.fullUserKey);
      }
    }, {
      key: "savePersistenceForRedirect",
      value: function savePersistenceForRedirect() {
        return this.persistence._set(this.fullPersistenceKey, this.persistence.type);
      }
    }, {
      key: "setPersistence",
      value: function setPersistence(e) {
        var t;
        return regeneratorRuntime.async(function setPersistence$(_context102) {
          while (1) {
            switch (_context102.prev = _context102.next) {
              case 0:
                if (!(this.persistence === e)) {
                  _context102.next = 2;
                  break;
                }

                return _context102.abrupt("return");

              case 2:
                _context102.next = 4;
                return regeneratorRuntime.awrap(this.getCurrentUser());

              case 4:
                t = _context102.sent;
                _context102.next = 7;
                return regeneratorRuntime.awrap(this.removeCurrentUser());

              case 7:
                this.persistence = e;
                return _context102.abrupt("return", t ? this.setCurrentUser(t) : void 0);

              case 9:
              case "end":
                return _context102.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "delete",
      value: function _delete() {
        this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
      }
    }], [{
      key: "create",
      value: function create(e, t) {
        var n,
            r,
            i,
            s,
            o,
            _iteratorNormalCompletion72,
            _didIteratorError72,
            _iteratorError72,
            _iterator72,
            _step72,
            u,
            _t44,
            _n45,
            a,
            _args105 = arguments;

        return regeneratorRuntime.async(function create$(_context105) {
          while (1) {
            switch (_context105.prev = _context105.next) {
              case 0:
                n = _args105.length > 2 && void 0 !== _args105[2] ? _args105[2] : "authUser";

                if (t.length) {
                  _context105.next = 3;
                  break;
                }

                return _context105.abrupt("return", new Lc(Pc(Dc), e, n));

              case 3:
                _context105.next = 5;
                return regeneratorRuntime.awrap(Promise.all(t.map(function _callee28(e) {
                  return regeneratorRuntime.async(function _callee28$(_context103) {
                    while (1) {
                      switch (_context103.prev = _context103.next) {
                        case 0:
                          _context103.next = 2;
                          return regeneratorRuntime.awrap(e._isAvailable());

                        case 2:
                          if (!_context103.sent) {
                            _context103.next = 4;
                            break;
                          }

                          return _context103.abrupt("return", e);

                        case 4:
                        case "end":
                          return _context103.stop();
                      }
                    }
                  });
                })));

              case 5:
                _context105.t0 = function (e) {
                  return e;
                };

                r = _context105.sent.filter(_context105.t0);
                i = r[0] || Pc(Dc);
                s = Oc(n, e.config.apiKey, e.name);
                o = null;
                _iteratorNormalCompletion72 = true;
                _didIteratorError72 = false;
                _iteratorError72 = undefined;
                _context105.prev = 13;
                _iterator72 = t[Symbol.iterator]();

              case 15:
                if (_iteratorNormalCompletion72 = (_step72 = _iterator72.next()).done) {
                  _context105.next = 32;
                  break;
                }

                u = _step72.value;
                _context105.prev = 17;
                _context105.next = 20;
                return regeneratorRuntime.awrap(u._get(s));

              case 20:
                _t44 = _context105.sent;

                if (!_t44) {
                  _context105.next = 25;
                  break;
                }

                _n45 = Ac._fromJSON(e, _t44);
                u !== i && (o = _n45), i = u;
                return _context105.abrupt("break", 32);

              case 25:
                _context105.next = 29;
                break;

              case 27:
                _context105.prev = 27;
                _context105.t1 = _context105["catch"](17);

              case 29:
                _iteratorNormalCompletion72 = true;
                _context105.next = 15;
                break;

              case 32:
                _context105.next = 38;
                break;

              case 34:
                _context105.prev = 34;
                _context105.t2 = _context105["catch"](13);
                _didIteratorError72 = true;
                _iteratorError72 = _context105.t2;

              case 38:
                _context105.prev = 38;
                _context105.prev = 39;

                if (!_iteratorNormalCompletion72 && _iterator72["return"] != null) {
                  _iterator72["return"]();
                }

              case 41:
                _context105.prev = 41;

                if (!_didIteratorError72) {
                  _context105.next = 44;
                  break;
                }

                throw _iteratorError72;

              case 44:
                return _context105.finish(41);

              case 45:
                return _context105.finish(38);

              case 46:
                a = r.filter(function (e) {
                  return e._shouldAllowMigration;
                });

                if (!(i._shouldAllowMigration && a.length)) {
                  _context105.next = 58;
                  break;
                }

                i = a[0];
                _context105.t4 = o;

                if (!_context105.t4) {
                  _context105.next = 53;
                  break;
                }

                _context105.next = 53;
                return regeneratorRuntime.awrap(i._set(s, o.toJSON()));

              case 53:
                _context105.next = 55;
                return regeneratorRuntime.awrap(Promise.all(t.map(function _callee29(e) {
                  return regeneratorRuntime.async(function _callee29$(_context104) {
                    while (1) {
                      switch (_context104.prev = _context104.next) {
                        case 0:
                          if (!(e !== i)) {
                            _context104.next = 8;
                            break;
                          }

                          _context104.prev = 1;
                          _context104.next = 4;
                          return regeneratorRuntime.awrap(e._remove(s));

                        case 4:
                          _context104.next = 8;
                          break;

                        case 6:
                          _context104.prev = 6;
                          _context104.t0 = _context104["catch"](1);

                        case 8:
                        case "end":
                          return _context104.stop();
                      }
                    }
                  }, null, null, [[1, 6]]);
                })));

              case 55:
                _context105.t3 = new Lc(i, e, n);
                _context105.next = 59;
                break;

              case 58:
                _context105.t3 = new Lc(i, e, n);

              case 59:
                return _context105.abrupt("return", _context105.t3);

              case 60:
              case "end":
                return _context105.stop();
            }
          }
        }, null, null, [[13, 34, 38, 46], [17, 27], [39,, 41, 45]]);
      }
    }]);

    return Lc;
  }();

  function Mc(e) {
    var t = e.toLowerCase();
    if (t.includes("opera/") || t.includes("opr/") || t.includes("opios/")) return "Opera";
    if (zc(t)) return "IEMobile";
    if (t.includes("msie") || t.includes("trident/")) return "IE";
    if (t.includes("edge/")) return "Edge";
    if (Fc(t)) return "Firefox";
    if (t.includes("silk/")) return "Silk";
    if (Bc(t)) return "Blackberry";
    if ($c(t)) return "Webos";
    if (Uc(t)) return "Safari";
    if ((t.includes("chrome/") || Vc(t)) && !t.includes("edge/")) return "Chrome";
    if (jc(t)) return "Android";
    {
      var _t45 = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,
          n = e.match(_t45);
      if (2 === (null === n || void 0 === n ? void 0 : n.length)) return n[1];
    }
    return "Other";
  }

  function Fc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /firefox\//i.test(e);
  }

  function Uc() {
    var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v()).toLowerCase();
    return e.includes("safari/") && !e.includes("chrome/") && !e.includes("crios/") && !e.includes("android");
  }

  function Vc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /crios\//i.test(e);
  }

  function zc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /iemobile/i.test(e);
  }

  function jc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /android/i.test(e);
  }

  function Bc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /blackberry/i.test(e);
  }

  function $c() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /webos/i.test(e);
  }

  function qc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return /iphone|ipad|ipod/i.test(e) || /macintosh/i.test(e) && /mobile/i.test(e);
  }

  function Hc() {
    return function () {
      var e = v();
      return e.indexOf("MSIE ") >= 0 || e.indexOf("Trident/") >= 0;
    }() && 10 === document.documentMode;
  }

  function Kc() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v();
    return qc(e) || jc(e) || $c(e) || Bc(e) || /windows phone/i.test(e) || zc(e);
  }

  function Wc(e) {
    var t,
        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];

    switch (e) {
      case "Browser":
        t = Mc(v());
        break;

      case "Worker":
        t = "".concat(Mc(v()), "-").concat(e);
        break;

      default:
        t = e;
    }

    var r = n.length ? n.join(",") : "FirebaseCore-web";
    return "".concat(t, "/JsCore/").concat(He, "/").concat(r);
  }

  var Gc =
  /*#__PURE__*/
  function () {
    function Gc(e) {
      _classCallCheck(this, Gc);

      this.auth = e, this.queue = [];
    }

    _createClass(Gc, [{
      key: "pushCallback",
      value: function pushCallback(e, t) {
        var _this128 = this;

        var n = function n(t) {
          return new Promise(function (n, r) {
            try {
              n(e(t));
            } catch (i) {
              r(i);
            }
          });
        };

        n.onAbort = t, this.queue.push(n);
        var r = this.queue.length - 1;
        return function () {
          _this128.queue[r] = function () {
            return Promise.resolve();
          };
        };
      }
    }, {
      key: "runMiddleware",
      value: function runMiddleware(e) {
        var t, _iteratorNormalCompletion73, _didIteratorError73, _iteratorError73, _iterator73, _step73, n, _iteratorNormalCompletion74, _didIteratorError74, _iteratorError74, _iterator74, _step74, _e74;

        return regeneratorRuntime.async(function runMiddleware$(_context106) {
          while (1) {
            switch (_context106.prev = _context106.next) {
              case 0:
                if (!(this.auth.currentUser === e)) {
                  _context106.next = 2;
                  break;
                }

                return _context106.abrupt("return");

              case 2:
                t = [];
                _context106.prev = 3;
                _iteratorNormalCompletion73 = true;
                _didIteratorError73 = false;
                _iteratorError73 = undefined;
                _context106.prev = 7;
                _iterator73 = this.queue[Symbol.iterator]();

              case 9:
                if (_iteratorNormalCompletion73 = (_step73 = _iterator73.next()).done) {
                  _context106.next = 17;
                  break;
                }

                n = _step73.value;
                _context106.next = 13;
                return regeneratorRuntime.awrap(n(e));

              case 13:
                n.onAbort && t.push(n.onAbort);

              case 14:
                _iteratorNormalCompletion73 = true;
                _context106.next = 9;
                break;

              case 17:
                _context106.next = 23;
                break;

              case 19:
                _context106.prev = 19;
                _context106.t0 = _context106["catch"](7);
                _didIteratorError73 = true;
                _iteratorError73 = _context106.t0;

              case 23:
                _context106.prev = 23;
                _context106.prev = 24;

                if (!_iteratorNormalCompletion73 && _iterator73["return"] != null) {
                  _iterator73["return"]();
                }

              case 26:
                _context106.prev = 26;

                if (!_didIteratorError73) {
                  _context106.next = 29;
                  break;
                }

                throw _iteratorError73;

              case 29:
                return _context106.finish(26);

              case 30:
                return _context106.finish(23);

              case 31:
                _context106.next = 56;
                break;

              case 33:
                _context106.prev = 33;
                _context106.t1 = _context106["catch"](3);
                t.reverse();
                _iteratorNormalCompletion74 = true;
                _didIteratorError74 = false;
                _iteratorError74 = undefined;
                _context106.prev = 39;

                for (_iterator74 = t[Symbol.iterator](); !(_iteratorNormalCompletion74 = (_step74 = _iterator74.next()).done); _iteratorNormalCompletion74 = true) {
                  _e74 = _step74.value;

                  try {
                    _e74();
                  } catch (r) {}
                }

                _context106.next = 47;
                break;

              case 43:
                _context106.prev = 43;
                _context106.t2 = _context106["catch"](39);
                _didIteratorError74 = true;
                _iteratorError74 = _context106.t2;

              case 47:
                _context106.prev = 47;
                _context106.prev = 48;

                if (!_iteratorNormalCompletion74 && _iterator74["return"] != null) {
                  _iterator74["return"]();
                }

              case 50:
                _context106.prev = 50;

                if (!_didIteratorError74) {
                  _context106.next = 53;
                  break;
                }

                throw _iteratorError74;

              case 53:
                return _context106.finish(50);

              case 54:
                return _context106.finish(47);

              case 55:
                throw this.auth._errorFactory.create("login-blocked", {
                  originalMessage: null === _context106.t1 || void 0 === _context106.t1 ? void 0 : _context106.t1.message
                });

              case 56:
              case "end":
                return _context106.stop();
            }
          }
        }, null, this, [[3, 33], [7, 19, 23, 31], [24,, 26, 30], [39, 43, 47, 55], [48,, 50, 54]]);
      }
    }]);

    return Gc;
  }();

  var Qc =
  /*#__PURE__*/
  function () {
    function Qc(e) {
      _classCallCheck(this, Qc);

      var t, n, r, i;
      var s = e.customStrengthOptions;
      this.customStrengthOptions = {}, this.customStrengthOptions.minPasswordLength = null !== (t = s.minPasswordLength) && void 0 !== t ? t : 6, s.maxPasswordLength && (this.customStrengthOptions.maxPasswordLength = s.maxPasswordLength), void 0 !== s.containsLowercaseCharacter && (this.customStrengthOptions.containsLowercaseLetter = s.containsLowercaseCharacter), void 0 !== s.containsUppercaseCharacter && (this.customStrengthOptions.containsUppercaseLetter = s.containsUppercaseCharacter), void 0 !== s.containsNumericCharacter && (this.customStrengthOptions.containsNumericCharacter = s.containsNumericCharacter), void 0 !== s.containsNonAlphanumericCharacter && (this.customStrengthOptions.containsNonAlphanumericCharacter = s.containsNonAlphanumericCharacter), this.enforcementState = e.enforcementState, "ENFORCEMENT_STATE_UNSPECIFIED" === this.enforcementState && (this.enforcementState = "OFF"), this.allowedNonAlphanumericCharacters = null !== (r = null === (n = e.allowedNonAlphanumericCharacters) || void 0 === n ? void 0 : n.join("")) && void 0 !== r ? r : "", this.forceUpgradeOnSignin = null !== (i = e.forceUpgradeOnSignin) && void 0 !== i && i, this.schemaVersion = e.schemaVersion;
    }

    _createClass(Qc, [{
      key: "validatePassword",
      value: function validatePassword(e) {
        var t, n, r, i, s, o;
        var a = {
          isValid: !0,
          passwordPolicy: this
        };
        return this.validatePasswordLengthOptions(e, a), this.validatePasswordCharacterOptions(e, a), a.isValid && (a.isValid = null === (t = a.meetsMinPasswordLength) || void 0 === t || t), a.isValid && (a.isValid = null === (n = a.meetsMaxPasswordLength) || void 0 === n || n), a.isValid && (a.isValid = null === (r = a.containsLowercaseLetter) || void 0 === r || r), a.isValid && (a.isValid = null === (i = a.containsUppercaseLetter) || void 0 === i || i), a.isValid && (a.isValid = null === (s = a.containsNumericCharacter) || void 0 === s || s), a.isValid && (a.isValid = null === (o = a.containsNonAlphanumericCharacter) || void 0 === o || o), a;
      }
    }, {
      key: "validatePasswordLengthOptions",
      value: function validatePasswordLengthOptions(e, t) {
        var n = this.customStrengthOptions.minPasswordLength,
            r = this.customStrengthOptions.maxPasswordLength;
        n && (t.meetsMinPasswordLength = e.length >= n), r && (t.meetsMaxPasswordLength = e.length <= r);
      }
    }, {
      key: "validatePasswordCharacterOptions",
      value: function validatePasswordCharacterOptions(e, t) {
        var n;
        this.updatePasswordCharacterOptionsStatuses(t, !1, !1, !1, !1);

        for (var _r70 = 0; _r70 < e.length; _r70++) {
          n = e.charAt(_r70), this.updatePasswordCharacterOptionsStatuses(t, n >= "a" && n <= "z", n >= "A" && n <= "Z", n >= "0" && n <= "9", this.allowedNonAlphanumericCharacters.includes(n));
        }
      }
    }, {
      key: "updatePasswordCharacterOptionsStatuses",
      value: function updatePasswordCharacterOptionsStatuses(e, t, n, r, i) {
        this.customStrengthOptions.containsLowercaseLetter && (e.containsLowercaseLetter || (e.containsLowercaseLetter = t)), this.customStrengthOptions.containsUppercaseLetter && (e.containsUppercaseLetter || (e.containsUppercaseLetter = n)), this.customStrengthOptions.containsNumericCharacter && (e.containsNumericCharacter || (e.containsNumericCharacter = r)), this.customStrengthOptions.containsNonAlphanumericCharacter && (e.containsNonAlphanumericCharacter || (e.containsNonAlphanumericCharacter = i));
      }
    }]);

    return Qc;
  }();

  var Xc =
  /*#__PURE__*/
  function () {
    function Xc(e, t, n, r) {
      _classCallCheck(this, Xc);

      this.app = e, this.heartbeatServiceProvider = t, this.appCheckServiceProvider = n, this.config = r, this.currentUser = null, this.emulatorConfig = null, this.operations = Promise.resolve(), this.authStateSubscription = new Jc(this), this.idTokenSubscription = new Jc(this), this.beforeStateQueue = new Gc(this), this.redirectUser = null, this.isProactiveRefreshEnabled = !1, this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1, this._canInitEmulator = !0, this._isInitialized = !1, this._deleted = !1, this._initializationPromise = null, this._popupRedirectResolver = null, this._errorFactory = Vu, this._agentRecaptchaConfig = null, this._tenantRecaptchaConfigs = {}, this._projectPasswordPolicy = null, this._tenantPasswordPolicies = {}, this.lastNotifiedUid = void 0, this.languageCode = null, this.tenantId = null, this.settings = {
        appVerificationDisabledForTesting: !1
      }, this.frameworks = [], this.name = e.name, this.clientVersion = r.sdkClientVersion;
    }

    _createClass(Xc, [{
      key: "_initializeWithPersistence",
      value: function _initializeWithPersistence(e, t) {
        var _this129 = this;

        return t && (this._popupRedirectResolver = Pc(t)), this._initializationPromise = this.queue(function _callee30() {
          var n, r;
          return regeneratorRuntime.async(function _callee30$(_context107) {
            while (1) {
              switch (_context107.prev = _context107.next) {
                case 0:
                  _context107.t0 = !_this129._deleted;

                  if (!_context107.t0) {
                    _context107.next = 6;
                    break;
                  }

                  _context107.next = 4;
                  return regeneratorRuntime.awrap(Lc.create(_this129, e));

                case 4:
                  _this129.persistenceManager = _context107.sent;
                  _context107.t0 = !_this129._deleted;

                case 6:
                  if (!_context107.t0) {
                    _context107.next = 19;
                    break;
                  }

                  if (!(null === (n = _this129._popupRedirectResolver) || void 0 === n ? void 0 : n._shouldInitProactively)) {
                    _context107.next = 15;
                    break;
                  }

                  _context107.prev = 8;
                  _context107.next = 11;
                  return regeneratorRuntime.awrap(_this129._popupRedirectResolver._initialize(_this129));

                case 11:
                  _context107.next = 15;
                  break;

                case 13:
                  _context107.prev = 13;
                  _context107.t1 = _context107["catch"](8);

                case 15:
                  _context107.next = 17;
                  return regeneratorRuntime.awrap(_this129.initializeCurrentUser(t));

                case 17:
                  _this129.lastNotifiedUid = (null === (r = _this129.currentUser) || void 0 === r ? void 0 : r.uid) || null;
                  _this129._deleted || (_this129._isInitialized = !0);

                case 19:
                case "end":
                  return _context107.stop();
              }
            }
          }, null, null, [[8, 13]]);
        }), this._initializationPromise;
      }
    }, {
      key: "_onStorageEvent",
      value: function _onStorageEvent() {
        var e;
        return regeneratorRuntime.async(function _onStorageEvent$(_context108) {
          while (1) {
            switch (_context108.prev = _context108.next) {
              case 0:
                if (!this._deleted) {
                  _context108.next = 2;
                  break;
                }

                return _context108.abrupt("return");

              case 2:
                _context108.next = 4;
                return regeneratorRuntime.awrap(this.assertedPersistence.getCurrentUser());

              case 4:
                e = _context108.sent;

                if (!(this.currentUser || e)) {
                  _context108.next = 19;
                  break;
                }

                if (!(this.currentUser && e && this.currentUser.uid === e.uid)) {
                  _context108.next = 13;
                  break;
                }

                this._currentUser._assign(e);

                _context108.next = 10;
                return regeneratorRuntime.awrap(this.currentUser.getIdToken());

              case 10:
                _context108.t1 = void _context108.sent;
                _context108.next = 16;
                break;

              case 13:
                _context108.next = 15;
                return regeneratorRuntime.awrap(this._updateCurrentUser(e, !0));

              case 15:
                _context108.t1 = void _context108.sent;

              case 16:
                _context108.t0 = _context108.t1;
                _context108.next = 20;
                break;

              case 19:
                _context108.t0 = void 0;

              case 20:
                return _context108.abrupt("return", _context108.t0);

              case 21:
              case "end":
                return _context108.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "initializeCurrentUserFromIdToken",
      value: function initializeCurrentUserFromIdToken(e) {
        var t, n;
        return regeneratorRuntime.async(function initializeCurrentUserFromIdToken$(_context109) {
          while (1) {
            switch (_context109.prev = _context109.next) {
              case 0:
                _context109.prev = 0;
                _context109.next = 3;
                return regeneratorRuntime.awrap(vc(this, {
                  idToken: e
                }));

              case 3:
                t = _context109.sent;
                _context109.next = 6;
                return regeneratorRuntime.awrap(Ac._fromGetAccountInfoResponse(this, t, e));

              case 6:
                n = _context109.sent;
                _context109.next = 9;
                return regeneratorRuntime.awrap(this.directlySetCurrentUser(n));

              case 9:
                _context109.next = 16;
                break;

              case 11:
                _context109.prev = 11;
                _context109.t0 = _context109["catch"](0);
                console.warn("FirebaseServerApp could not login user with provided authIdToken: ", _context109.t0);
                _context109.next = 16;
                return regeneratorRuntime.awrap(this.directlySetCurrentUser(null));

              case 16:
              case "end":
                return _context109.stop();
            }
          }
        }, null, this, [[0, 11]]);
      }
    }, {
      key: "initializeCurrentUser",
      value: function initializeCurrentUser(e) {
        var _this130 = this;

        var t, _e75, n, r, i, _n46, _s28, _o18;

        return regeneratorRuntime.async(function initializeCurrentUser$(_context110) {
          while (1) {
            switch (_context110.prev = _context110.next) {
              case 0:
                if (!Be(this.app)) {
                  _context110.next = 3;
                  break;
                }

                _e75 = this.app.settings.authIdToken;
                return _context110.abrupt("return", _e75 ? new Promise(function (t) {
                  setTimeout(function () {
                    return _this130.initializeCurrentUserFromIdToken(_e75).then(t, t);
                  });
                }) : this.directlySetCurrentUser(null));

              case 3:
                _context110.next = 5;
                return regeneratorRuntime.awrap(this.assertedPersistence.getCurrentUser());

              case 5:
                n = _context110.sent;
                r = n, i = !1;

                if (!(e && this.config.authDomain)) {
                  _context110.next = 16;
                  break;
                }

                _context110.next = 10;
                return regeneratorRuntime.awrap(this.getOrInitRedirectPersistenceManager());

              case 10:
                _n46 = null === (t = this.redirectUser) || void 0 === t ? void 0 : t._redirectEventId;
                _s28 = null === r || void 0 === r ? void 0 : r._redirectEventId;
                _context110.next = 14;
                return regeneratorRuntime.awrap(this.tryRedirectSignIn(e));

              case 14:
                _o18 = _context110.sent;
                _n46 && _n46 !== _s28 || !(null === _o18 || void 0 === _o18 ? void 0 : _o18.user) || (r = _o18.user, i = !0);

              case 16:
                if (r) {
                  _context110.next = 18;
                  break;
                }

                return _context110.abrupt("return", this.directlySetCurrentUser(null));

              case 18:
                if (r._redirectEventId) {
                  _context110.next = 29;
                  break;
                }

                if (!i) {
                  _context110.next = 28;
                  break;
                }

                _context110.prev = 20;
                _context110.next = 23;
                return regeneratorRuntime.awrap(this.beforeStateQueue.runMiddleware(r));

              case 23:
                _context110.next = 28;
                break;

              case 25:
                _context110.prev = 25;
                _context110.t0 = _context110["catch"](20);
                r = n, this._popupRedirectResolver._overrideRedirectResult(this, function () {
                  return Promise.reject(_context110.t0);
                });

              case 28:
                return _context110.abrupt("return", r ? this.reloadAndSetCurrentUserOrClear(r) : this.directlySetCurrentUser(null));

              case 29:
                Gu(this._popupRedirectResolver, this, "argument-error");
                _context110.next = 32;
                return regeneratorRuntime.awrap(this.getOrInitRedirectPersistenceManager());

              case 32:
                return _context110.abrupt("return", this.redirectUser && this.redirectUser._redirectEventId === r._redirectEventId ? this.directlySetCurrentUser(r) : this.reloadAndSetCurrentUserOrClear(r));

              case 33:
              case "end":
                return _context110.stop();
            }
          }
        }, null, this, [[20, 25]]);
      }
    }, {
      key: "tryRedirectSignIn",
      value: function tryRedirectSignIn(e) {
        var t;
        return regeneratorRuntime.async(function tryRedirectSignIn$(_context111) {
          while (1) {
            switch (_context111.prev = _context111.next) {
              case 0:
                t = null;
                _context111.prev = 1;
                _context111.next = 4;
                return regeneratorRuntime.awrap(this._popupRedirectResolver._completeRedirectFn(this, e, !0));

              case 4:
                t = _context111.sent;
                _context111.next = 11;
                break;

              case 7:
                _context111.prev = 7;
                _context111.t0 = _context111["catch"](1);
                _context111.next = 11;
                return regeneratorRuntime.awrap(this._setRedirectUser(null));

              case 11:
                return _context111.abrupt("return", t);

              case 12:
              case "end":
                return _context111.stop();
            }
          }
        }, null, this, [[1, 7]]);
      }
    }, {
      key: "reloadAndSetCurrentUserOrClear",
      value: function reloadAndSetCurrentUserOrClear(e) {
        return regeneratorRuntime.async(function reloadAndSetCurrentUserOrClear$(_context112) {
          while (1) {
            switch (_context112.prev = _context112.next) {
              case 0:
                _context112.prev = 0;
                _context112.next = 3;
                return regeneratorRuntime.awrap(Tc(e));

              case 3:
                _context112.next = 9;
                break;

              case 5:
                _context112.prev = 5;
                _context112.t0 = _context112["catch"](0);

                if (!("auth/network-request-failed" !== (null === _context112.t0 || void 0 === _context112.t0 ? void 0 : _context112.t0.code))) {
                  _context112.next = 9;
                  break;
                }

                return _context112.abrupt("return", this.directlySetCurrentUser(null));

              case 9:
                return _context112.abrupt("return", this.directlySetCurrentUser(e));

              case 10:
              case "end":
                return _context112.stop();
            }
          }
        }, null, this, [[0, 5]]);
      }
    }, {
      key: "useDeviceLanguage",
      value: function useDeviceLanguage() {
        this.languageCode = function () {
          if ("undefined" === typeof navigator) return null;
          var e = navigator;
          return e.languages && e.languages[0] || e.language || null;
        }();
      }
    }, {
      key: "_delete",
      value: function _delete() {
        return regeneratorRuntime.async(function _delete$(_context113) {
          while (1) {
            switch (_context113.prev = _context113.next) {
              case 0:
                this._deleted = !0;

              case 1:
              case "end":
                return _context113.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "updateCurrentUser",
      value: function updateCurrentUser(e) {
        var t;
        return regeneratorRuntime.async(function updateCurrentUser$(_context114) {
          while (1) {
            switch (_context114.prev = _context114.next) {
              case 0:
                if (!Be(this.app)) {
                  _context114.next = 2;
                  break;
                }

                return _context114.abrupt("return", Promise.reject(Hu(this)));

              case 2:
                t = e ? R(e) : null;
                return _context114.abrupt("return", (t && Gu(t.auth.config.apiKey === this.config.apiKey, this, "invalid-user-token"), this._updateCurrentUser(t && t._clone(this))));

              case 4:
              case "end":
                return _context114.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_updateCurrentUser",
      value: function _updateCurrentUser(e) {
        var _this131 = this;

        var t,
            _args116 = arguments;
        return regeneratorRuntime.async(function _updateCurrentUser$(_context116) {
          while (1) {
            switch (_context116.prev = _context116.next) {
              case 0:
                t = _args116.length > 1 && void 0 !== _args116[1] && _args116[1];

                if (this._deleted) {
                  _context116.next = 8;
                  break;
                }

                e && Gu(this.tenantId === e.tenantId, this, "tenant-id-mismatch");
                _context116.t0 = t;

                if (_context116.t0) {
                  _context116.next = 7;
                  break;
                }

                _context116.next = 7;
                return regeneratorRuntime.awrap(this.beforeStateQueue.runMiddleware(e));

              case 7:
                return _context116.abrupt("return", this.queue(function _callee31() {
                  return regeneratorRuntime.async(function _callee31$(_context115) {
                    while (1) {
                      switch (_context115.prev = _context115.next) {
                        case 0:
                          _context115.next = 2;
                          return regeneratorRuntime.awrap(_this131.directlySetCurrentUser(e));

                        case 2:
                          _this131.notifyAuthListeners();

                        case 3:
                        case "end":
                          return _context115.stop();
                      }
                    }
                  });
                }));

              case 8:
              case "end":
                return _context116.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "signOut",
      value: function signOut() {
        return regeneratorRuntime.async(function signOut$(_context117) {
          while (1) {
            switch (_context117.prev = _context117.next) {
              case 0:
                if (!Be(this.app)) {
                  _context117.next = 4;
                  break;
                }

                _context117.t0 = Promise.reject(Hu(this));
                _context117.next = 11;
                break;

              case 4:
                _context117.next = 6;
                return regeneratorRuntime.awrap(this.beforeStateQueue.runMiddleware(null));

              case 6:
                _context117.t1 = this.redirectPersistenceManager || this._popupRedirectResolver;

                if (!_context117.t1) {
                  _context117.next = 10;
                  break;
                }

                _context117.next = 10;
                return regeneratorRuntime.awrap(this._setRedirectUser(null));

              case 10:
                _context117.t0 = this._updateCurrentUser(null, !0);

              case 11:
                return _context117.abrupt("return", _context117.t0);

              case 12:
              case "end":
                return _context117.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "setPersistence",
      value: function setPersistence(e) {
        var _this132 = this;

        return Be(this.app) ? Promise.reject(Hu(this)) : this.queue(function _callee32() {
          return regeneratorRuntime.async(function _callee32$(_context118) {
            while (1) {
              switch (_context118.prev = _context118.next) {
                case 0:
                  _context118.next = 2;
                  return regeneratorRuntime.awrap(_this132.assertedPersistence.setPersistence(Pc(e)));

                case 2:
                case "end":
                  return _context118.stop();
              }
            }
          });
        });
      }
    }, {
      key: "_getRecaptchaConfig",
      value: function _getRecaptchaConfig() {
        return null == this.tenantId ? this._agentRecaptchaConfig : this._tenantRecaptchaConfigs[this.tenantId];
      }
    }, {
      key: "validatePassword",
      value: function validatePassword(e) {
        var t;
        return regeneratorRuntime.async(function validatePassword$(_context119) {
          while (1) {
            switch (_context119.prev = _context119.next) {
              case 0:
                _context119.t0 = this._getPasswordPolicyInternal();

                if (_context119.t0) {
                  _context119.next = 4;
                  break;
                }

                _context119.next = 4;
                return regeneratorRuntime.awrap(this._updatePasswordPolicy());

              case 4:
                t = this._getPasswordPolicyInternal();
                return _context119.abrupt("return", t.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION ? Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {})) : t.validatePassword(e));

              case 6:
              case "end":
                return _context119.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_getPasswordPolicyInternal",
      value: function _getPasswordPolicyInternal() {
        return null === this.tenantId ? this._projectPasswordPolicy : this._tenantPasswordPolicies[this.tenantId];
      }
    }, {
      key: "_updatePasswordPolicy",
      value: function _updatePasswordPolicy() {
        var e, t;
        return regeneratorRuntime.async(function _updatePasswordPolicy$(_context121) {
          while (1) {
            switch (_context121.prev = _context121.next) {
              case 0:
                _context121.next = 2;
                return regeneratorRuntime.awrap(function _callee33(e) {
                  var _args120 = arguments;
                  return regeneratorRuntime.async(function _callee33$(_context120) {
                    while (1) {
                      switch (_context120.prev = _context120.next) {
                        case 0:
                          return _context120.abrupt("return", ac(e, "GET", "/v2/passwordPolicy", oc(e, _args120.length > 1 && void 0 !== _args120[1] ? _args120[1] : {})));

                        case 1:
                        case "end":
                          return _context120.stop();
                      }
                    }
                  });
                }(this));

              case 2:
                e = _context121.sent;
                t = new Qc(e);
                null === this.tenantId ? this._projectPasswordPolicy = t : this._tenantPasswordPolicies[this.tenantId] = t;

              case 5:
              case "end":
                return _context121.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_getPersistence",
      value: function _getPersistence() {
        return this.assertedPersistence.persistence.type;
      }
    }, {
      key: "_updateErrorMap",
      value: function _updateErrorMap(e) {
        this._errorFactory = new _("auth", "Firebase", e());
      }
    }, {
      key: "onAuthStateChanged",
      value: function onAuthStateChanged(e, t, n) {
        return this.registerStateListener(this.authStateSubscription, e, t, n);
      }
    }, {
      key: "beforeAuthStateChanged",
      value: function beforeAuthStateChanged(e, t) {
        return this.beforeStateQueue.pushCallback(e, t);
      }
    }, {
      key: "onIdTokenChanged",
      value: function onIdTokenChanged(e, t, n) {
        return this.registerStateListener(this.idTokenSubscription, e, t, n);
      }
    }, {
      key: "authStateReady",
      value: function authStateReady() {
        var _this133 = this;

        return new Promise(function (e, t) {
          if (_this133.currentUser) e();else {
            var n = _this133.onAuthStateChanged(function () {
              n(), e();
            }, t);
          }
        });
      }
    }, {
      key: "revokeAccessToken",
      value: function revokeAccessToken(e) {
        var t;
        return regeneratorRuntime.async(function revokeAccessToken$(_context123) {
          while (1) {
            switch (_context123.prev = _context123.next) {
              case 0:
                if (!this.currentUser) {
                  _context123.next = 9;
                  break;
                }

                _context123.t0 = e;
                _context123.next = 4;
                return regeneratorRuntime.awrap(this.currentUser.getIdToken());

              case 4:
                _context123.t1 = _context123.sent;
                t = {
                  providerId: "apple.com",
                  tokenType: "ACCESS_TOKEN",
                  token: _context123.t0,
                  idToken: _context123.t1
                };
                null != this.tenantId && (t.tenantId = this.tenantId);
                _context123.next = 9;
                return regeneratorRuntime.awrap(function _callee34(e, t) {
                  return regeneratorRuntime.async(function _callee34$(_context122) {
                    while (1) {
                      switch (_context122.prev = _context122.next) {
                        case 0:
                          return _context122.abrupt("return", ac(e, "POST", "/v2/accounts:revokeToken", oc(e, t)));

                        case 1:
                        case "end":
                          return _context122.stop();
                      }
                    }
                  });
                }(this, t));

              case 9:
              case "end":
                return _context123.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        var e;
        return {
          apiKey: this.config.apiKey,
          authDomain: this.config.authDomain,
          appName: this.name,
          currentUser: null === (e = this._currentUser) || void 0 === e ? void 0 : e.toJSON()
        };
      }
    }, {
      key: "_setRedirectUser",
      value: function _setRedirectUser(e, t) {
        var n;
        return regeneratorRuntime.async(function _setRedirectUser$(_context124) {
          while (1) {
            switch (_context124.prev = _context124.next) {
              case 0:
                _context124.next = 2;
                return regeneratorRuntime.awrap(this.getOrInitRedirectPersistenceManager(t));

              case 2:
                n = _context124.sent;
                return _context124.abrupt("return", null === e ? n.removeCurrentUser() : n.setCurrentUser(e));

              case 4:
              case "end":
                return _context124.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "getOrInitRedirectPersistenceManager",
      value: function getOrInitRedirectPersistenceManager(e) {
        var t;
        return regeneratorRuntime.async(function getOrInitRedirectPersistenceManager$(_context125) {
          while (1) {
            switch (_context125.prev = _context125.next) {
              case 0:
                if (this.redirectPersistenceManager) {
                  _context125.next = 9;
                  break;
                }

                t = e && Pc(e) || this._popupRedirectResolver;
                Gu(t, this, "argument-error");
                _context125.next = 5;
                return regeneratorRuntime.awrap(Lc.create(this, [Pc(t._redirectPersistence)], "redirectUser"));

              case 5:
                this.redirectPersistenceManager = _context125.sent;
                _context125.next = 8;
                return regeneratorRuntime.awrap(this.redirectPersistenceManager.getCurrentUser());

              case 8:
                this.redirectUser = _context125.sent;

              case 9:
                return _context125.abrupt("return", this.redirectPersistenceManager);

              case 10:
              case "end":
                return _context125.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_redirectUserForId",
      value: function _redirectUserForId(e) {
        var t, n;
        return regeneratorRuntime.async(function _redirectUserForId$(_context127) {
          while (1) {
            switch (_context127.prev = _context127.next) {
              case 0:
                _context127.t0 = this._isInitialized;

                if (!_context127.t0) {
                  _context127.next = 4;
                  break;
                }

                _context127.next = 4;
                return regeneratorRuntime.awrap(this.queue(function _callee35() {
                  return regeneratorRuntime.async(function _callee35$(_context126) {
                    while (1) {
                      switch (_context126.prev = _context126.next) {
                        case 0:
                        case "end":
                          return _context126.stop();
                      }
                    }
                  });
                }));

              case 4:
                return _context127.abrupt("return", (null === (t = this._currentUser) || void 0 === t ? void 0 : t._redirectEventId) === e ? this._currentUser : (null === (n = this.redirectUser) || void 0 === n ? void 0 : n._redirectEventId) === e ? this.redirectUser : null);

              case 5:
              case "end":
                return _context127.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_persistUserIfCurrent",
      value: function _persistUserIfCurrent(e) {
        var _this134 = this;

        return regeneratorRuntime.async(function _persistUserIfCurrent$(_context129) {
          while (1) {
            switch (_context129.prev = _context129.next) {
              case 0:
                if (!(e === this.currentUser)) {
                  _context129.next = 2;
                  break;
                }

                return _context129.abrupt("return", this.queue(function _callee36() {
                  return regeneratorRuntime.async(function _callee36$(_context128) {
                    while (1) {
                      switch (_context128.prev = _context128.next) {
                        case 0:
                          return _context128.abrupt("return", _this134.directlySetCurrentUser(e));

                        case 1:
                        case "end":
                          return _context128.stop();
                      }
                    }
                  });
                }));

              case 2:
              case "end":
                return _context129.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_notifyListenersIfCurrent",
      value: function _notifyListenersIfCurrent(e) {
        e === this.currentUser && this.notifyAuthListeners();
      }
    }, {
      key: "_key",
      value: function _key() {
        return "".concat(this.config.authDomain, ":").concat(this.config.apiKey, ":").concat(this.name);
      }
    }, {
      key: "_startProactiveRefresh",
      value: function _startProactiveRefresh() {
        this.isProactiveRefreshEnabled = !0, this.currentUser && this._currentUser._startProactiveRefresh();
      }
    }, {
      key: "_stopProactiveRefresh",
      value: function _stopProactiveRefresh() {
        this.isProactiveRefreshEnabled = !1, this.currentUser && this._currentUser._stopProactiveRefresh();
      }
    }, {
      key: "notifyAuthListeners",
      value: function notifyAuthListeners() {
        var e, t;
        if (!this._isInitialized) return;
        this.idTokenSubscription.next(this.currentUser);
        var n = null !== (t = null === (e = this.currentUser) || void 0 === e ? void 0 : e.uid) && void 0 !== t ? t : null;
        this.lastNotifiedUid !== n && (this.lastNotifiedUid = n, this.authStateSubscription.next(this.currentUser));
      }
    }, {
      key: "registerStateListener",
      value: function registerStateListener(e, t, n, r) {
        var _this135 = this;

        if (this._deleted) return function () {};
        var i = "function" === typeof t ? t : t.next.bind(t);
        var s = !1;
        var o = this._isInitialized ? Promise.resolve() : this._initializationPromise;

        if (Gu(o, this, "internal-error"), o.then(function () {
          s || i(_this135.currentUser);
        }), "function" === typeof t) {
          var _i70 = e.addObserver(t, n, r);

          return function () {
            s = !0, _i70();
          };
        }

        {
          var _n47 = e.addObserver(t);

          return function () {
            s = !0, _n47();
          };
        }
      }
    }, {
      key: "directlySetCurrentUser",
      value: function directlySetCurrentUser(e) {
        return regeneratorRuntime.async(function directlySetCurrentUser$(_context130) {
          while (1) {
            switch (_context130.prev = _context130.next) {
              case 0:
                this.currentUser && this.currentUser !== e && this._currentUser._stopProactiveRefresh();
                e && this.isProactiveRefreshEnabled && e._startProactiveRefresh();
                this.currentUser = e;

                if (!e) {
                  _context130.next = 8;
                  break;
                }

                _context130.next = 6;
                return regeneratorRuntime.awrap(this.assertedPersistence.setCurrentUser(e));

              case 6:
                _context130.next = 10;
                break;

              case 8:
                _context130.next = 10;
                return regeneratorRuntime.awrap(this.assertedPersistence.removeCurrentUser());

              case 10:
              case "end":
                return _context130.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "queue",
      value: function queue(e) {
        return this.operations = this.operations.then(e, e), this.operations;
      }
    }, {
      key: "_logFramework",
      value: function _logFramework(e) {
        e && !this.frameworks.includes(e) && (this.frameworks.push(e), this.frameworks.sort(), this.clientVersion = Wc(this.config.clientPlatform, this._getFrameworks()));
      }
    }, {
      key: "_getFrameworks",
      value: function _getFrameworks() {
        return this.frameworks;
      }
    }, {
      key: "_getAdditionalHeaders",
      value: function _getAdditionalHeaders() {
        var e, t, n, r;
        return regeneratorRuntime.async(function _getAdditionalHeaders$(_context131) {
          while (1) {
            switch (_context131.prev = _context131.next) {
              case 0:
                t = {
                  "X-Client-Version": this.clientVersion
                };
                this.app.options.appId && (t["X-Firebase-gmpid"] = this.app.options.appId);
                _context131.next = 4;
                return regeneratorRuntime.awrap(null === (e = this.heartbeatServiceProvider.getImmediate({
                  optional: !0
                })) || void 0 === e ? void 0 : e.getHeartbeatsHeader());

              case 4:
                n = _context131.sent;
                n && (t["X-Firebase-Client"] = n);
                _context131.next = 8;
                return regeneratorRuntime.awrap(this._getAppCheckToken());

              case 8:
                r = _context131.sent;
                return _context131.abrupt("return", (r && (t["X-Firebase-AppCheck"] = r), t));

              case 10:
              case "end":
                return _context131.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_getAppCheckToken",
      value: function _getAppCheckToken() {
        var e, t;
        return regeneratorRuntime.async(function _getAppCheckToken$(_context132) {
          while (1) {
            switch (_context132.prev = _context132.next) {
              case 0:
                _context132.next = 2;
                return regeneratorRuntime.awrap(null === (e = this.appCheckServiceProvider.getImmediate({
                  optional: !0
                })) || void 0 === e ? void 0 : e.getToken());

              case 2:
                t = _context132.sent;
                return _context132.abrupt("return", ((null === t || void 0 === t ? void 0 : t.error) && function (e) {
                  if (zu.logLevel <= M.WARN) {
                    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
                      n[r - 1] = arguments[r];
                    }

                    zu.warn.apply(zu, ["Auth (".concat(He, "): ").concat(e)].concat(n));
                  }
                }("Error while retrieving App Check token: ".concat(t.error)), null === t || void 0 === t ? void 0 : t.token));

              case 4:
              case "end":
                return _context132.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_currentUser",
      get: function get() {
        return this.currentUser;
      }
    }, {
      key: "assertedPersistence",
      get: function get() {
        return Gu(this.persistenceManager, this, "internal-error"), this.persistenceManager;
      }
    }]);

    return Xc;
  }();

  function Yc(e) {
    return R(e);
  }

  var Jc =
  /*#__PURE__*/
  function () {
    function Jc(e) {
      var _this136 = this;

      _classCallCheck(this, Jc);

      this.auth = e, this.observer = null, this.addObserver = function (e, t) {
        var n = new N(e, t);
        return n.subscribe.bind(n);
      }(function (e) {
        return _this136.observer = e;
      });
    }

    _createClass(Jc, [{
      key: "next",
      get: function get() {
        return Gu(this.observer, this.auth, "internal-error"), this.observer.next.bind(this.observer);
      }
    }]);

    return Jc;
  }();

  var Zc = {
    loadJS: function loadJS() {
      return regeneratorRuntime.async(function loadJS$(_context133) {
        while (1) {
          switch (_context133.prev = _context133.next) {
            case 0:
              throw new Error("Unable to load external scripts");

            case 1:
            case "end":
              return _context133.stop();
          }
        }
      });
    },
    recaptchaV2Script: "",
    recaptchaEnterpriseScript: "",
    gapiScript: ""
  };

  function eh(e) {
    return Zc.loadJS(e);
  }

  function th(e) {
    return "__".concat(e).concat(Math.floor(1e6 * Math.random()));
  }

  var nh =
  /*#__PURE__*/
  function () {
    function nh(e) {
      _classCallCheck(this, nh);

      this.type = "recaptcha-enterprise", this.auth = Yc(e);
    }

    _createClass(nh, [{
      key: "verify",
      value: function verify() {
        var _this137 = this;

        var e,
            t,
            n,
            _args136 = arguments;
        return regeneratorRuntime.async(function verify$(_context136) {
          while (1) {
            switch (_context136.prev = _context136.next) {
              case 0:
                n = function _ref6(t, n, r) {
                  var i = window.grecaptcha;
                  pc(i) ? i.enterprise.ready(function () {
                    i.enterprise.execute(t, {
                      action: e
                    }).then(function (e) {
                      n(e);
                    })["catch"](function () {
                      n("NO_RECAPTCHA");
                    });
                  }) : r(Error("No reCAPTCHA enterprise script loaded."));
                };

                e = _args136.length > 0 && void 0 !== _args136[0] ? _args136[0] : "verify", t = _args136.length > 1 && void 0 !== _args136[1] && _args136[1];
                return _context136.abrupt("return", new Promise(function (e, r) {
                  (function _callee38(e) {
                    return regeneratorRuntime.async(function _callee38$(_context135) {
                      while (1) {
                        switch (_context135.prev = _context135.next) {
                          case 0:
                            if (t) {
                              _context135.next = 5;
                              break;
                            }

                            if (!(null == e.tenantId && null != e._agentRecaptchaConfig)) {
                              _context135.next = 3;
                              break;
                            }

                            return _context135.abrupt("return", e._agentRecaptchaConfig.siteKey);

                          case 3:
                            if (!(null != e.tenantId && void 0 !== e._tenantRecaptchaConfigs[e.tenantId])) {
                              _context135.next = 5;
                              break;
                            }

                            return _context135.abrupt("return", e._tenantRecaptchaConfigs[e.tenantId].siteKey);

                          case 5:
                            return _context135.abrupt("return", new Promise(function _callee37(t, n) {
                              return regeneratorRuntime.async(function _callee37$(_context134) {
                                while (1) {
                                  switch (_context134.prev = _context134.next) {
                                    case 0:
                                      mc(e, {
                                        clientType: "CLIENT_TYPE_WEB",
                                        version: "RECAPTCHA_ENTERPRISE"
                                      }).then(function (r) {
                                        if (void 0 !== r.recaptchaKey) {
                                          var _n48 = new gc(r);

                                          return null == e.tenantId ? e._agentRecaptchaConfig = _n48 : e._tenantRecaptchaConfigs[e.tenantId] = _n48, t(_n48.siteKey);
                                        }

                                        n(new Error("recaptcha Enterprise site key undefined"));
                                      })["catch"](function (e) {
                                        n(e);
                                      });

                                    case 1:
                                    case "end":
                                      return _context134.stop();
                                  }
                                }
                              });
                            }));

                          case 6:
                          case "end":
                            return _context135.stop();
                        }
                      }
                    });
                  })(_this137.auth).then(function (i) {
                    if (!t && pc(window.grecaptcha)) n(i, e, r);else {
                      if ("undefined" === typeof window) return void r(new Error("RecaptchaVerifier is only supported in browser"));
                      var _t46 = Zc.recaptchaEnterpriseScript;
                      0 !== _t46.length && (_t46 += i), eh(_t46).then(function () {
                        n(i, e, r);
                      })["catch"](function (e) {
                        r(e);
                      });
                    }
                  })["catch"](function (e) {
                    r(e);
                  });
                }));

              case 3:
              case "end":
                return _context136.stop();
            }
          }
        });
      }
    }]);

    return nh;
  }();

  function rh(e, t, n) {
    var r,
        i,
        s,
        o,
        _args137 = arguments;
    return regeneratorRuntime.async(function rh$(_context137) {
      while (1) {
        switch (_context137.prev = _context137.next) {
          case 0:
            r = _args137.length > 3 && void 0 !== _args137[3] && _args137[3];
            i = new nh(e);
            _context137.prev = 2;
            _context137.next = 5;
            return regeneratorRuntime.awrap(i.verify(n));

          case 5:
            s = _context137.sent;
            _context137.next = 13;
            break;

          case 8:
            _context137.prev = 8;
            _context137.t0 = _context137["catch"](2);
            _context137.next = 12;
            return regeneratorRuntime.awrap(i.verify(n, !0));

          case 12:
            s = _context137.sent;

          case 13:
            o = Object.assign({}, t);
            return _context137.abrupt("return", (r ? Object.assign(o, {
              captchaResp: s
            }) : Object.assign(o, {
              captchaResponse: s
            }), Object.assign(o, {
              clientType: "CLIENT_TYPE_WEB"
            }), Object.assign(o, {
              recaptchaVersion: "RECAPTCHA_ENTERPRISE"
            }), o));

          case 15:
          case "end":
            return _context137.stop();
        }
      }
    }, null, null, [[2, 8]]);
  }

  function ih(e, t, n, r) {
    var i, _i71;

    return regeneratorRuntime.async(function ih$(_context139) {
      while (1) {
        switch (_context139.prev = _context139.next) {
          case 0:
            if (!(null === (i = e._getRecaptchaConfig()) || void 0 === i ? void 0 : i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))) {
              _context139.next = 5;
              break;
            }

            _context139.next = 3;
            return regeneratorRuntime.awrap(rh(e, t, n, "getOobCode" === n));

          case 3:
            _i71 = _context139.sent;
            return _context139.abrupt("return", r(e, _i71));

          case 5:
            return _context139.abrupt("return", r(e, t)["catch"](function _callee39(i) {
              var _i72;

              return regeneratorRuntime.async(function _callee39$(_context138) {
                while (1) {
                  switch (_context138.prev = _context138.next) {
                    case 0:
                      if (!("auth/missing-recaptcha-token" === i.code)) {
                        _context138.next = 6;
                        break;
                      }

                      console.log("".concat(n, " is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));
                      _context138.next = 4;
                      return regeneratorRuntime.awrap(rh(e, t, n, "getOobCode" === n));

                    case 4:
                      _i72 = _context138.sent;
                      return _context138.abrupt("return", r(e, _i72));

                    case 6:
                      return _context138.abrupt("return", Promise.reject(i));

                    case 7:
                    case "end":
                      return _context138.stop();
                  }
                }
              });
            }));

          case 6:
          case "end":
            return _context139.stop();
        }
      }
    });
  }

  function sh(e, t, n) {
    var r = Yc(e);
    Gu(r._canInitEmulator, r, "emulator-config-failed"), Gu(/^https?:\/\//.test(t), r, "invalid-emulator-scheme");

    var i = !!(null === n || void 0 === n ? void 0 : n.disableWarnings),
        s = oh(t),
        _ref7 = function (e) {
      var t = oh(e),
          n = /(\/\/)?([^?#/]+)/.exec(e.substr(t.length));
      if (!n) return {
        host: "",
        port: null
      };
      var r = n[2].split("@").pop() || "",
          i = /^(\[[^\]]+\])(:|$)/.exec(r);

      if (i) {
        var _e76 = i[1];
        return {
          host: _e76,
          port: ah(r.substr(_e76.length + 1))
        };
      }

      {
        var _r$split = r.split(":"),
            _r$split2 = _slicedToArray(_r$split, 2),
            _e77 = _r$split2[0],
            _t47 = _r$split2[1];

        return {
          host: _e77,
          port: ah(_t47)
        };
      }
    }(t),
        o = _ref7.host,
        a = _ref7.port,
        l = null === a ? "" : ":".concat(a);

    r.config.emulator = {
      url: "".concat(s, "//").concat(o).concat(l, "/")
    }, r.settings.appVerificationDisabledForTesting = !0, r.emulatorConfig = Object.freeze({
      host: o,
      port: a,
      protocol: s.replace(":", ""),
      options: Object.freeze({
        disableWarnings: i
      })
    }), i || function () {
      function e() {
        var e = document.createElement("p"),
            t = e.style;
        e.innerText = "Running in emulator mode. Do not use with production credentials.", t.position = "fixed", t.width = "100%", t.backgroundColor = "#ffffff", t.border = ".1em solid #000000", t.color = "#b50000", t.bottom = "0px", t.left = "0px", t.margin = "0px", t.zIndex = "10000", t.textAlign = "center", e.classList.add("firebase-emulator-warning"), document.body.appendChild(e);
      }

      "undefined" !== typeof console && "function" === typeof console.info && console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");
      "undefined" !== typeof window && "undefined" !== typeof document && ("loading" === document.readyState ? window.addEventListener("DOMContentLoaded", e) : e());
    }();
  }

  function oh(e) {
    var t = e.indexOf(":");
    return t < 0 ? "" : e.substr(0, t + 1);
  }

  function ah(e) {
    if (!e) return null;
    var t = Number(e);
    return isNaN(t) ? null : t;
  }

  var lh =
  /*#__PURE__*/
  function () {
    function lh(e, t) {
      _classCallCheck(this, lh);

      this.providerId = e, this.signInMethod = t;
    }

    _createClass(lh, [{
      key: "toJSON",
      value: function toJSON() {
        return Qu("not implemented");
      }
    }, {
      key: "_getIdTokenResponse",
      value: function _getIdTokenResponse(e) {
        return Qu("not implemented");
      }
    }, {
      key: "_linkToIdToken",
      value: function _linkToIdToken(e, t) {
        return Qu("not implemented");
      }
    }, {
      key: "_getReauthenticationResolver",
      value: function _getReauthenticationResolver(e) {
        return Qu("not implemented");
      }
    }]);

    return lh;
  }();

  function uh(e, t) {
    return regeneratorRuntime.async(function uh$(_context140) {
      while (1) {
        switch (_context140.prev = _context140.next) {
          case 0:
            return _context140.abrupt("return", ac(e, "POST", "/v1/accounts:signUp", t));

          case 1:
          case "end":
            return _context140.stop();
        }
      }
    });
  }

  function ch(e, t) {
    return regeneratorRuntime.async(function ch$(_context141) {
      while (1) {
        switch (_context141.prev = _context141.next) {
          case 0:
            return _context141.abrupt("return", uc(e, "POST", "/v1/accounts:signInWithPassword", oc(e, t)));

          case 1:
          case "end":
            return _context141.stop();
        }
      }
    });
  }

  var hh =
  /*#__PURE__*/
  function (_lh) {
    _inherits(hh, _lh);

    function hh(e, t, n) {
      var _this138;

      _classCallCheck(this, hh);

      var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
      _this138 = _possibleConstructorReturn(this, _getPrototypeOf(hh).call(this, "password", n)), _this138._email = e, _this138._password = t, _this138._tenantId = r;
      return _this138;
    }

    _createClass(hh, [{
      key: "toJSON",
      value: function toJSON() {
        return {
          email: this._email,
          password: this._password,
          signInMethod: this.signInMethod,
          tenantId: this._tenantId
        };
      }
    }, {
      key: "_getIdTokenResponse",
      value: function _getIdTokenResponse(e) {
        return regeneratorRuntime.async(function _getIdTokenResponse$(_context143) {
          while (1) {
            switch (_context143.prev = _context143.next) {
              case 0:
                _context143.t0 = this.signInMethod;
                _context143.next = _context143.t0 === "password" ? 3 : _context143.t0 === "emailLink" ? 4 : 5;
                break;

              case 3:
                return _context143.abrupt("return", ih(e, {
                  returnSecureToken: !0,
                  email: this._email,
                  password: this._password,
                  clientType: "CLIENT_TYPE_WEB"
                }, "signInWithPassword", ch));

              case 4:
                return _context143.abrupt("return", function _callee40(e, t) {
                  return regeneratorRuntime.async(function _callee40$(_context142) {
                    while (1) {
                      switch (_context142.prev = _context142.next) {
                        case 0:
                          return _context142.abrupt("return", uc(e, "POST", "/v1/accounts:signInWithEmailLink", oc(e, t)));

                        case 1:
                        case "end":
                          return _context142.stop();
                      }
                    }
                  });
                }(e, {
                  email: this._email,
                  oobCode: this._password
                }));

              case 5:
                Bu(e, "internal-error");

              case 6:
              case "end":
                return _context143.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_linkToIdToken",
      value: function _linkToIdToken(e, t) {
        return regeneratorRuntime.async(function _linkToIdToken$(_context145) {
          while (1) {
            switch (_context145.prev = _context145.next) {
              case 0:
                _context145.t0 = this.signInMethod;
                _context145.next = _context145.t0 === "password" ? 3 : _context145.t0 === "emailLink" ? 4 : 5;
                break;

              case 3:
                return _context145.abrupt("return", ih(e, {
                  idToken: t,
                  returnSecureToken: !0,
                  email: this._email,
                  password: this._password,
                  clientType: "CLIENT_TYPE_WEB"
                }, "signUpPassword", uh));

              case 4:
                return _context145.abrupt("return", function _callee41(e, t) {
                  return regeneratorRuntime.async(function _callee41$(_context144) {
                    while (1) {
                      switch (_context144.prev = _context144.next) {
                        case 0:
                          return _context144.abrupt("return", uc(e, "POST", "/v1/accounts:signInWithEmailLink", oc(e, t)));

                        case 1:
                        case "end":
                          return _context144.stop();
                      }
                    }
                  });
                }(e, {
                  idToken: t,
                  email: this._email,
                  oobCode: this._password
                }));

              case 5:
                Bu(e, "internal-error");

              case 6:
              case "end":
                return _context145.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_getReauthenticationResolver",
      value: function _getReauthenticationResolver(e) {
        return this._getIdTokenResponse(e);
      }
    }], [{
      key: "_fromEmailAndPassword",
      value: function _fromEmailAndPassword(e, t) {
        return new hh(e, t, "password");
      }
    }, {
      key: "_fromEmailAndCode",
      value: function _fromEmailAndCode(e, t) {
        return new hh(e, t, "emailLink", arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null);
      }
    }, {
      key: "fromJSON",
      value: function fromJSON(e) {
        var t = "string" === typeof e ? JSON.parse(e) : e;

        if ((null === t || void 0 === t ? void 0 : t.email) && (null === t || void 0 === t ? void 0 : t.password)) {
          if ("password" === t.signInMethod) return this._fromEmailAndPassword(t.email, t.password);
          if ("emailLink" === t.signInMethod) return this._fromEmailAndCode(t.email, t.password, t.tenantId);
        }

        return null;
      }
    }]);

    return hh;
  }(lh);

  function dh(e, t) {
    return regeneratorRuntime.async(function dh$(_context146) {
      while (1) {
        switch (_context146.prev = _context146.next) {
          case 0:
            return _context146.abrupt("return", uc(e, "POST", "/v1/accounts:signInWithIdp", oc(e, t)));

          case 1:
          case "end":
            return _context146.stop();
        }
      }
    });
  }

  var fh =
  /*#__PURE__*/
  function (_lh2) {
    _inherits(fh, _lh2);

    function fh() {
      var _this139;

      _classCallCheck(this, fh);

      _this139 = _possibleConstructorReturn(this, _getPrototypeOf(fh).apply(this, arguments)), _this139.pendingToken = null;
      return _this139;
    }

    _createClass(fh, [{
      key: "toJSON",
      value: function toJSON() {
        return {
          idToken: this.idToken,
          accessToken: this.accessToken,
          secret: this.secret,
          nonce: this.nonce,
          pendingToken: this.pendingToken,
          providerId: this.providerId,
          signInMethod: this.signInMethod
        };
      }
    }, {
      key: "_getIdTokenResponse",
      value: function _getIdTokenResponse(e) {
        return dh(e, this.buildRequest());
      }
    }, {
      key: "_linkToIdToken",
      value: function _linkToIdToken(e, t) {
        var n = this.buildRequest();
        return n.idToken = t, dh(e, n);
      }
    }, {
      key: "_getReauthenticationResolver",
      value: function _getReauthenticationResolver(e) {
        var t = this.buildRequest();
        return t.autoCreate = !1, dh(e, t);
      }
    }, {
      key: "buildRequest",
      value: function buildRequest() {
        var e = {
          requestUri: "http://localhost",
          returnSecureToken: !0
        };
        if (this.pendingToken) e.pendingToken = this.pendingToken;else {
          var t = {};
          this.idToken && (t.id_token = this.idToken), this.accessToken && (t.access_token = this.accessToken), this.secret && (t.oauth_token_secret = this.secret), t.providerId = this.providerId, this.nonce && !this.pendingToken && (t.nonce = this.nonce), e.postBody = T(t);
        }
        return e;
      }
    }], [{
      key: "_fromParams",
      value: function _fromParams(e) {
        var t = new fh(e.providerId, e.signInMethod);
        return e.idToken || e.accessToken ? (e.idToken && (t.idToken = e.idToken), e.accessToken && (t.accessToken = e.accessToken), e.nonce && !e.pendingToken && (t.nonce = e.nonce), e.pendingToken && (t.pendingToken = e.pendingToken)) : e.oauthToken && e.oauthTokenSecret ? (t.accessToken = e.oauthToken, t.secret = e.oauthTokenSecret) : Bu("argument-error"), t;
      }
    }, {
      key: "fromJSON",
      value: function fromJSON(e) {
        var t = "string" === typeof e ? JSON.parse(e) : e,
            n = t.providerId,
            r = t.signInMethod,
            i = Mu(t, ["providerId", "signInMethod"]);
        if (!n || !r) return null;
        var s = new fh(n, r);
        return s.idToken = i.idToken || void 0, s.accessToken = i.accessToken || void 0, s.secret = i.secret, s.nonce = i.nonce, s.pendingToken = i.pendingToken || null, s;
      }
    }]);

    return fh;
  }(lh);

  var ph = {
    USER_NOT_FOUND: "user-not-found"
  };

  var gh =
  /*#__PURE__*/
  function (_lh3) {
    _inherits(gh, _lh3);

    function gh(e) {
      var _this140;

      _classCallCheck(this, gh);

      _this140 = _possibleConstructorReturn(this, _getPrototypeOf(gh).call(this, "phone", "phone")), _this140.params = e;
      return _this140;
    }

    _createClass(gh, [{
      key: "_getIdTokenResponse",
      value: function _getIdTokenResponse(e) {
        return function _callee42(e, t) {
          return regeneratorRuntime.async(function _callee42$(_context147) {
            while (1) {
              switch (_context147.prev = _context147.next) {
                case 0:
                  return _context147.abrupt("return", uc(e, "POST", "/v1/accounts:signInWithPhoneNumber", oc(e, t)));

                case 1:
                case "end":
                  return _context147.stop();
              }
            }
          });
        }(e, this._makeVerificationRequest());
      }
    }, {
      key: "_linkToIdToken",
      value: function _linkToIdToken(e, t) {
        return function _callee43(e, t) {
          var n;
          return regeneratorRuntime.async(function _callee43$(_context148) {
            while (1) {
              switch (_context148.prev = _context148.next) {
                case 0:
                  _context148.next = 2;
                  return regeneratorRuntime.awrap(uc(e, "POST", "/v1/accounts:signInWithPhoneNumber", oc(e, t)));

                case 2:
                  n = _context148.sent;

                  if (!n.temporaryProof) {
                    _context148.next = 5;
                    break;
                  }

                  throw fc(e, "account-exists-with-different-credential", n);

                case 5:
                  return _context148.abrupt("return", n);

                case 6:
                case "end":
                  return _context148.stop();
              }
            }
          });
        }(e, Object.assign({
          idToken: t
        }, this._makeVerificationRequest()));
      }
    }, {
      key: "_getReauthenticationResolver",
      value: function _getReauthenticationResolver(e) {
        return function _callee44(e, t) {
          return regeneratorRuntime.async(function _callee44$(_context149) {
            while (1) {
              switch (_context149.prev = _context149.next) {
                case 0:
                  return _context149.abrupt("return", uc(e, "POST", "/v1/accounts:signInWithPhoneNumber", oc(e, Object.assign(Object.assign({}, t), {
                    operation: "REAUTH"
                  })), ph));

                case 1:
                case "end":
                  return _context149.stop();
              }
            }
          });
        }(e, this._makeVerificationRequest());
      }
    }, {
      key: "_makeVerificationRequest",
      value: function _makeVerificationRequest() {
        var _this$params = this.params,
            e = _this$params.temporaryProof,
            t = _this$params.phoneNumber,
            n = _this$params.verificationId,
            r = _this$params.verificationCode;
        return e && t ? {
          temporaryProof: e,
          phoneNumber: t
        } : {
          sessionInfo: n,
          code: r
        };
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        var e = {
          providerId: this.providerId
        };
        return this.params.phoneNumber && (e.phoneNumber = this.params.phoneNumber), this.params.temporaryProof && (e.temporaryProof = this.params.temporaryProof), this.params.verificationCode && (e.verificationCode = this.params.verificationCode), this.params.verificationId && (e.verificationId = this.params.verificationId), e;
      }
    }], [{
      key: "_fromVerification",
      value: function _fromVerification(e, t) {
        return new gh({
          verificationId: e,
          verificationCode: t
        });
      }
    }, {
      key: "_fromTokenResponse",
      value: function _fromTokenResponse(e, t) {
        return new gh({
          phoneNumber: e,
          temporaryProof: t
        });
      }
    }, {
      key: "fromJSON",
      value: function fromJSON(e) {
        "string" === typeof e && (e = JSON.parse(e));
        var _e78 = e,
            t = _e78.verificationId,
            n = _e78.verificationCode,
            r = _e78.phoneNumber,
            i = _e78.temporaryProof;
        return n || t || r || i ? new gh({
          verificationId: t,
          verificationCode: n,
          phoneNumber: r,
          temporaryProof: i
        }) : null;
      }
    }]);

    return gh;
  }(lh);

  var mh =
  /*#__PURE__*/
  function () {
    function mh(e) {
      _classCallCheck(this, mh);

      var t, n, r, i, s, o;

      var a = I(C(e)),
          l = null !== (t = a.apiKey) && void 0 !== t ? t : null,
          u = null !== (n = a.oobCode) && void 0 !== n ? n : null,
          c = function (e) {
        switch (e) {
          case "recoverEmail":
            return "RECOVER_EMAIL";

          case "resetPassword":
            return "PASSWORD_RESET";

          case "signIn":
            return "EMAIL_SIGNIN";

          case "verifyEmail":
            return "VERIFY_EMAIL";

          case "verifyAndChangeEmail":
            return "VERIFY_AND_CHANGE_EMAIL";

          case "revertSecondFactorAddition":
            return "REVERT_SECOND_FACTOR_ADDITION";

          default:
            return null;
        }
      }(null !== (r = a.mode) && void 0 !== r ? r : null);

      Gu(l && u && c, "argument-error"), this.apiKey = l, this.operation = c, this.code = u, this.continueUrl = null !== (i = a.continueUrl) && void 0 !== i ? i : null, this.languageCode = null !== (s = a.languageCode) && void 0 !== s ? s : null, this.tenantId = null !== (o = a.tenantId) && void 0 !== o ? o : null;
    }

    _createClass(mh, null, [{
      key: "parseLink",
      value: function parseLink(e) {
        var t = function (e) {
          var t = I(C(e)).link,
              n = t ? I(C(t)).deep_link_id : null,
              r = I(C(e)).deep_link_id;
          return (r ? I(C(r)).link : null) || r || n || t || e;
        }(e);

        try {
          return new mh(t);
        } catch (n) {
          return null;
        }
      }
    }]);

    return mh;
  }();

  var vh =
  /*#__PURE__*/
  function () {
    function vh() {
      _classCallCheck(this, vh);

      this.providerId = vh.PROVIDER_ID;
    }

    _createClass(vh, null, [{
      key: "credential",
      value: function credential(e, t) {
        return hh._fromEmailAndPassword(e, t);
      }
    }, {
      key: "credentialWithLink",
      value: function credentialWithLink(e, t) {
        var n = mh.parseLink(t);
        return Gu(n, "argument-error"), hh._fromEmailAndCode(e, n.code, n.tenantId);
      }
    }]);

    return vh;
  }();

  vh.PROVIDER_ID = "password", vh.EMAIL_PASSWORD_SIGN_IN_METHOD = "password", vh.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";

  var yh =
  /*#__PURE__*/
  function () {
    function yh(e) {
      _classCallCheck(this, yh);

      this.providerId = e, this.defaultLanguageCode = null, this.customParameters = {};
    }

    _createClass(yh, [{
      key: "setDefaultLanguage",
      value: function setDefaultLanguage(e) {
        this.defaultLanguageCode = e;
      }
    }, {
      key: "setCustomParameters",
      value: function setCustomParameters(e) {
        return this.customParameters = e, this;
      }
    }, {
      key: "getCustomParameters",
      value: function getCustomParameters() {
        return this.customParameters;
      }
    }]);

    return yh;
  }();

  var wh =
  /*#__PURE__*/
  function (_yh) {
    _inherits(wh, _yh);

    function wh() {
      var _this141;

      _classCallCheck(this, wh);

      _this141 = _possibleConstructorReturn(this, _getPrototypeOf(wh).apply(this, arguments)), _this141.scopes = [];
      return _this141;
    }

    _createClass(wh, [{
      key: "addScope",
      value: function addScope(e) {
        return this.scopes.includes(e) || this.scopes.push(e), this;
      }
    }, {
      key: "getScopes",
      value: function getScopes() {
        return _toConsumableArray(this.scopes);
      }
    }]);

    return wh;
  }(yh);

  var bh =
  /*#__PURE__*/
  function (_wh) {
    _inherits(bh, _wh);

    function bh() {
      _classCallCheck(this, bh);

      return _possibleConstructorReturn(this, _getPrototypeOf(bh).call(this, "facebook.com"));
    }

    _createClass(bh, null, [{
      key: "credential",
      value: function credential(e) {
        return fh._fromParams({
          providerId: bh.PROVIDER_ID,
          signInMethod: bh.FACEBOOK_SIGN_IN_METHOD,
          accessToken: e
        });
      }
    }, {
      key: "credentialFromResult",
      value: function credentialFromResult(e) {
        return bh.credentialFromTaggedObject(e);
      }
    }, {
      key: "credentialFromError",
      value: function credentialFromError(e) {
        return bh.credentialFromTaggedObject(e.customData || {});
      }
    }, {
      key: "credentialFromTaggedObject",
      value: function credentialFromTaggedObject(e) {
        var t = e._tokenResponse;
        if (!t || !("oauthAccessToken" in t)) return null;
        if (!t.oauthAccessToken) return null;

        try {
          return bh.credential(t.oauthAccessToken);
        } catch (n) {
          return null;
        }
      }
    }]);

    return bh;
  }(wh);

  bh.FACEBOOK_SIGN_IN_METHOD = "facebook.com", bh.PROVIDER_ID = "facebook.com";

  var _h =
  /*#__PURE__*/
  function (_wh2) {
    _inherits(_h, _wh2);

    function _h() {
      var _this142;

      _classCallCheck(this, _h);

      _this142 = _possibleConstructorReturn(this, _getPrototypeOf(_h).call(this, "google.com")), _this142.addScope("profile");
      return _this142;
    }

    _createClass(_h, null, [{
      key: "credential",
      value: function credential(e, t) {
        return fh._fromParams({
          providerId: _h.PROVIDER_ID,
          signInMethod: _h.GOOGLE_SIGN_IN_METHOD,
          idToken: e,
          accessToken: t
        });
      }
    }, {
      key: "credentialFromResult",
      value: function credentialFromResult(e) {
        return _h.credentialFromTaggedObject(e);
      }
    }, {
      key: "credentialFromError",
      value: function credentialFromError(e) {
        return _h.credentialFromTaggedObject(e.customData || {});
      }
    }, {
      key: "credentialFromTaggedObject",
      value: function credentialFromTaggedObject(e) {
        var t = e._tokenResponse;
        if (!t) return null;
        var n = t.oauthIdToken,
            r = t.oauthAccessToken;
        if (!n && !r) return null;

        try {
          return _h.credential(n, r);
        } catch (i) {
          return null;
        }
      }
    }]);

    return _h;
  }(wh);

  _h.GOOGLE_SIGN_IN_METHOD = "google.com", _h.PROVIDER_ID = "google.com";

  var Eh =
  /*#__PURE__*/
  function (_wh3) {
    _inherits(Eh, _wh3);

    function Eh() {
      _classCallCheck(this, Eh);

      return _possibleConstructorReturn(this, _getPrototypeOf(Eh).call(this, "github.com"));
    }

    _createClass(Eh, null, [{
      key: "credential",
      value: function credential(e) {
        return fh._fromParams({
          providerId: Eh.PROVIDER_ID,
          signInMethod: Eh.GITHUB_SIGN_IN_METHOD,
          accessToken: e
        });
      }
    }, {
      key: "credentialFromResult",
      value: function credentialFromResult(e) {
        return Eh.credentialFromTaggedObject(e);
      }
    }, {
      key: "credentialFromError",
      value: function credentialFromError(e) {
        return Eh.credentialFromTaggedObject(e.customData || {});
      }
    }, {
      key: "credentialFromTaggedObject",
      value: function credentialFromTaggedObject(e) {
        var t = e._tokenResponse;
        if (!t || !("oauthAccessToken" in t)) return null;
        if (!t.oauthAccessToken) return null;

        try {
          return Eh.credential(t.oauthAccessToken);
        } catch (n) {
          return null;
        }
      }
    }]);

    return Eh;
  }(wh);

  Eh.GITHUB_SIGN_IN_METHOD = "github.com", Eh.PROVIDER_ID = "github.com";

  var Sh =
  /*#__PURE__*/
  function (_wh4) {
    _inherits(Sh, _wh4);

    function Sh() {
      _classCallCheck(this, Sh);

      return _possibleConstructorReturn(this, _getPrototypeOf(Sh).call(this, "twitter.com"));
    }

    _createClass(Sh, null, [{
      key: "credential",
      value: function credential(e, t) {
        return fh._fromParams({
          providerId: Sh.PROVIDER_ID,
          signInMethod: Sh.TWITTER_SIGN_IN_METHOD,
          oauthToken: e,
          oauthTokenSecret: t
        });
      }
    }, {
      key: "credentialFromResult",
      value: function credentialFromResult(e) {
        return Sh.credentialFromTaggedObject(e);
      }
    }, {
      key: "credentialFromError",
      value: function credentialFromError(e) {
        return Sh.credentialFromTaggedObject(e.customData || {});
      }
    }, {
      key: "credentialFromTaggedObject",
      value: function credentialFromTaggedObject(e) {
        var t = e._tokenResponse;
        if (!t) return null;
        var n = t.oauthAccessToken,
            r = t.oauthTokenSecret;
        if (!n || !r) return null;

        try {
          return Sh.credential(n, r);
        } catch (i) {
          return null;
        }
      }
    }]);

    return Sh;
  }(wh);

  Sh.TWITTER_SIGN_IN_METHOD = "twitter.com", Sh.PROVIDER_ID = "twitter.com";

  var kh =
  /*#__PURE__*/
  function () {
    function kh(e) {
      _classCallCheck(this, kh);

      this.user = e.user, this.providerId = e.providerId, this._tokenResponse = e._tokenResponse, this.operationType = e.operationType;
    }

    _createClass(kh, null, [{
      key: "_fromIdTokenResponse",
      value: function _fromIdTokenResponse(e, t, n) {
        var r,
            i,
            s,
            _args150 = arguments;
        return regeneratorRuntime.async(function _fromIdTokenResponse$(_context150) {
          while (1) {
            switch (_context150.prev = _context150.next) {
              case 0:
                r = _args150.length > 3 && void 0 !== _args150[3] && _args150[3];
                _context150.next = 3;
                return regeneratorRuntime.awrap(Ac._fromIdTokenResponse(e, n, r));

              case 3:
                i = _context150.sent;
                s = Th(n);
                return _context150.abrupt("return", new kh({
                  user: i,
                  providerId: s,
                  _tokenResponse: n,
                  operationType: t
                }));

              case 6:
              case "end":
                return _context150.stop();
            }
          }
        });
      }
    }, {
      key: "_forOperation",
      value: function _forOperation(e, t, n) {
        var r;
        return regeneratorRuntime.async(function _forOperation$(_context151) {
          while (1) {
            switch (_context151.prev = _context151.next) {
              case 0:
                _context151.next = 2;
                return regeneratorRuntime.awrap(e._updateTokensIfNecessary(n, !0));

              case 2:
                r = Th(n);
                return _context151.abrupt("return", new kh({
                  user: e,
                  providerId: r,
                  _tokenResponse: n,
                  operationType: t
                }));

              case 4:
              case "end":
                return _context151.stop();
            }
          }
        });
      }
    }]);

    return kh;
  }();

  function Th(e) {
    return e.providerId ? e.providerId : "phoneNumber" in e ? "phone" : null;
  }

  var Ih =
  /*#__PURE__*/
  function (_b2) {
    _inherits(Ih, _b2);

    function Ih(e, t, n, r) {
      var _this143;

      _classCallCheck(this, Ih);

      var i;
      _this143 = _possibleConstructorReturn(this, _getPrototypeOf(Ih).call(this, t.code, t.message)), _this143.operationType = n, _this143.user = r, Object.setPrototypeOf(_assertThisInitialized(_this143), Ih.prototype), _this143.customData = {
        appName: e.name,
        tenantId: null !== (i = e.tenantId) && void 0 !== i ? i : void 0,
        _serverResponse: t.customData._serverResponse,
        operationType: n
      };
      return _this143;
    }

    _createClass(Ih, null, [{
      key: "_fromErrorAndOperation",
      value: function _fromErrorAndOperation(e, t, n, r) {
        return new Ih(e, t, n, r);
      }
    }]);

    return Ih;
  }(b);

  function Ch(e, t, n, r) {
    return ("reauthenticate" === t ? n._getReauthenticationResolver(e) : n._getIdTokenResponse(e))["catch"](function (n) {
      if ("auth/multi-factor-auth-required" === n.code) throw Ih._fromErrorAndOperation(e, n, t, r);
      throw n;
    });
  }

  function Nh(e, t) {
    var n,
        r,
        _args152 = arguments;
    return regeneratorRuntime.async(function Nh$(_context152) {
      while (1) {
        switch (_context152.prev = _context152.next) {
          case 0:
            n = _args152.length > 2 && void 0 !== _args152[2] && _args152[2];
            _context152.t0 = regeneratorRuntime;
            _context152.t1 = Ec;
            _context152.t2 = e;
            _context152.t3 = t;
            _context152.t4 = e.auth;
            _context152.next = 8;
            return regeneratorRuntime.awrap(e.getIdToken());

          case 8:
            _context152.t5 = _context152.sent;
            _context152.t6 = _context152.t3._linkToIdToken.call(_context152.t3, _context152.t4, _context152.t5);
            _context152.t7 = n;
            _context152.t8 = (0, _context152.t1)(_context152.t2, _context152.t6, _context152.t7);
            _context152.next = 14;
            return _context152.t0.awrap.call(_context152.t0, _context152.t8);

          case 14:
            r = _context152.sent;
            return _context152.abrupt("return", kh._forOperation(e, "link", r));

          case 16:
          case "end":
            return _context152.stop();
        }
      }
    });
  }

  function Ah(e, t) {
    var n,
        r,
        i,
        s,
        _o19,
        a,
        _args153 = arguments;

    return regeneratorRuntime.async(function Ah$(_context153) {
      while (1) {
        switch (_context153.prev = _context153.next) {
          case 0:
            n = _args153.length > 2 && void 0 !== _args153[2] && _args153[2];
            r = e.auth;

            if (!Be(r.app)) {
              _context153.next = 4;
              break;
            }

            return _context153.abrupt("return", Promise.reject(Hu(r)));

          case 4:
            i = "reauthenticate";
            _context153.prev = 5;
            _context153.next = 8;
            return regeneratorRuntime.awrap(Ec(e, Ch(r, i, t, e), n));

          case 8:
            s = _context153.sent;
            Gu(s.idToken, r, "internal-error");
            _o19 = bc(s.idToken);
            Gu(_o19, r, "internal-error");
            a = _o19.sub;
            return _context153.abrupt("return", (Gu(e.uid === a, r, "user-mismatch"), kh._forOperation(e, i, s)));

          case 16:
            _context153.prev = 16;
            _context153.t0 = _context153["catch"](5);
            throw "auth/user-not-found" === (null === _context153.t0 || void 0 === _context153.t0 ? void 0 : _context153.t0.code) && Bu(r, "user-mismatch"), _context153.t0;

          case 19:
          case "end":
            return _context153.stop();
        }
      }
    }, null, null, [[5, 16]]);
  }

  function Rh(e, t) {
    var n,
        r,
        i,
        s,
        _args154 = arguments;
    return regeneratorRuntime.async(function Rh$(_context154) {
      while (1) {
        switch (_context154.prev = _context154.next) {
          case 0:
            n = _args154.length > 2 && void 0 !== _args154[2] && _args154[2];

            if (!Be(e.app)) {
              _context154.next = 3;
              break;
            }

            return _context154.abrupt("return", Promise.reject(Hu(e)));

          case 3:
            r = "signIn";
            _context154.next = 6;
            return regeneratorRuntime.awrap(Ch(e, r, t));

          case 6:
            i = _context154.sent;
            _context154.next = 9;
            return regeneratorRuntime.awrap(kh._fromIdTokenResponse(e, r, i));

          case 9:
            s = _context154.sent;
            _context154.t0 = n;

            if (_context154.t0) {
              _context154.next = 14;
              break;
            }

            _context154.next = 14;
            return regeneratorRuntime.awrap(e._updateCurrentUser(s.user));

          case 14:
            return _context154.abrupt("return", s);

          case 15:
          case "end":
            return _context154.stop();
        }
      }
    });
  }

  new WeakMap();
  var Ph = "__sak";

  var xh =
  /*#__PURE__*/
  function () {
    function xh(e, t) {
      _classCallCheck(this, xh);

      this.storageRetriever = e, this.type = t;
    }

    _createClass(xh, [{
      key: "_isAvailable",
      value: function _isAvailable() {
        try {
          return this.storage ? (this.storage.setItem(Ph, "1"), this.storage.removeItem(Ph), Promise.resolve(!0)) : Promise.resolve(!1);
        } catch (e) {
          return Promise.resolve(!1);
        }
      }
    }, {
      key: "_set",
      value: function _set(e, t) {
        return this.storage.setItem(e, JSON.stringify(t)), Promise.resolve();
      }
    }, {
      key: "_get",
      value: function _get(e) {
        var t = this.storage.getItem(e);
        return Promise.resolve(t ? JSON.parse(t) : null);
      }
    }, {
      key: "_remove",
      value: function _remove(e) {
        return this.storage.removeItem(e), Promise.resolve();
      }
    }, {
      key: "storage",
      get: function get() {
        return this.storageRetriever();
      }
    }]);

    return xh;
  }();

  var Dh =
  /*#__PURE__*/
  function (_xh) {
    _inherits(Dh, _xh);

    function Dh() {
      var _this144;

      _classCallCheck(this, Dh);

      _this144 = _possibleConstructorReturn(this, _getPrototypeOf(Dh).call(this, function () {
        return window.localStorage;
      }, "LOCAL")), _this144.boundEventHandler = function (e, t) {
        return _this144.onStorageEvent(e, t);
      }, _this144.listeners = {}, _this144.localCache = {}, _this144.pollTimer = null, _this144.fallbackToPolling = Kc(), _this144._shouldAllowMigration = !0;
      return _this144;
    }

    _createClass(Dh, [{
      key: "forAllChangedKeys",
      value: function forAllChangedKeys(e) {
        for (var _i73 = 0, _Object$keys2 = Object.keys(this.listeners); _i73 < _Object$keys2.length; _i73++) {
          var t = _Object$keys2[_i73];
          var n = this.storage.getItem(t),
              r = this.localCache[t];
          n !== r && e(t, r, n);
        }
      }
    }, {
      key: "onStorageEvent",
      value: function onStorageEvent(e) {
        var _this145 = this;

        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (!e.key) return void this.forAllChangedKeys(function (e, t, n) {
          _this145.notifyListeners(e, n);
        });
        var n = e.key;
        t ? this.detachListener() : this.stopPolling();

        var r = function r() {
          var e = _this145.storage.getItem(n);

          (t || _this145.localCache[n] !== e) && _this145.notifyListeners(n, e);
        },
            i = this.storage.getItem(n);

        Hc() && i !== e.newValue && e.newValue !== e.oldValue ? setTimeout(r, 10) : r();
      }
    }, {
      key: "notifyListeners",
      value: function notifyListeners(e, t) {
        this.localCache[e] = t;
        var n = this.listeners[e];

        if (n) {
          for (var _i74 = 0, _Array$from = Array.from(n); _i74 < _Array$from.length; _i74++) {
            var r = _Array$from[_i74];
            r(t ? JSON.parse(t) : t);
          }
        }
      }
    }, {
      key: "startPolling",
      value: function startPolling() {
        var _this146 = this;

        this.stopPolling(), this.pollTimer = setInterval(function () {
          _this146.forAllChangedKeys(function (e, t, n) {
            _this146.onStorageEvent(new StorageEvent("storage", {
              key: e,
              oldValue: t,
              newValue: n
            }), !0);
          });
        }, 1e3);
      }
    }, {
      key: "stopPolling",
      value: function stopPolling() {
        this.pollTimer && (clearInterval(this.pollTimer), this.pollTimer = null);
      }
    }, {
      key: "attachListener",
      value: function attachListener() {
        window.addEventListener("storage", this.boundEventHandler);
      }
    }, {
      key: "detachListener",
      value: function detachListener() {
        window.removeEventListener("storage", this.boundEventHandler);
      }
    }, {
      key: "_addListener",
      value: function _addListener(e, t) {
        0 === Object.keys(this.listeners).length && (this.fallbackToPolling ? this.startPolling() : this.attachListener()), this.listeners[e] || (this.listeners[e] = new Set(), this.localCache[e] = this.storage.getItem(e)), this.listeners[e].add(t);
      }
    }, {
      key: "_removeListener",
      value: function _removeListener(e, t) {
        this.listeners[e] && (this.listeners[e]["delete"](t), 0 === this.listeners[e].size && delete this.listeners[e]), 0 === Object.keys(this.listeners).length && (this.detachListener(), this.stopPolling());
      }
    }, {
      key: "_set",
      value: function _set(e, t) {
        return regeneratorRuntime.async(function _set$(_context155) {
          while (1) {
            switch (_context155.prev = _context155.next) {
              case 0:
                _context155.next = 2;
                return regeneratorRuntime.awrap(_get(_getPrototypeOf(Dh.prototype), "_set", this).call(this, e, t));

              case 2:
                this.localCache[e] = JSON.stringify(t);

              case 3:
              case "end":
                return _context155.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_get",
      value: function (_get2) {
        function _get(_x2) {
          return _get2.apply(this, arguments);
        }

        _get.toString = function () {
          return _get2.toString();
        };

        return _get;
      }(function _callee45(e) {
        var t;
        return regeneratorRuntime.async(function _callee45$(_context156) {
          while (1) {
            switch (_context156.prev = _context156.next) {
              case 0:
                _context156.next = 2;
                return regeneratorRuntime.awrap(_get(_getPrototypeOf(Dh.prototype), "_get", this).call(this, e));

              case 2:
                t = _context156.sent;
                return _context156.abrupt("return", (this.localCache[e] = JSON.stringify(t), t));

              case 4:
              case "end":
                return _context156.stop();
            }
          }
        }, null, this);
      })
    }, {
      key: "_remove",
      value: function _remove(e) {
        return regeneratorRuntime.async(function _remove$(_context157) {
          while (1) {
            switch (_context157.prev = _context157.next) {
              case 0:
                _context157.next = 2;
                return regeneratorRuntime.awrap(_get(_getPrototypeOf(Dh.prototype), "_remove", this).call(this, e));

              case 2:
                delete this.localCache[e];

              case 3:
              case "end":
                return _context157.stop();
            }
          }
        }, null, this);
      }
    }]);

    return Dh;
  }(xh);

  Dh.type = "LOCAL";
  var Oh = Dh;

  var Lh =
  /*#__PURE__*/
  function (_xh2) {
    _inherits(Lh, _xh2);

    function Lh() {
      _classCallCheck(this, Lh);

      return _possibleConstructorReturn(this, _getPrototypeOf(Lh).call(this, function () {
        return window.sessionStorage;
      }, "SESSION"));
    }

    _createClass(Lh, [{
      key: "_addListener",
      value: function _addListener(e, t) {}
    }, {
      key: "_removeListener",
      value: function _removeListener(e, t) {}
    }]);

    return Lh;
  }(xh);

  Lh.type = "SESSION";
  var Mh = Lh;

  var Fh =
  /*#__PURE__*/
  function () {
    function Fh(e) {
      _classCallCheck(this, Fh);

      this.eventTarget = e, this.handlersMap = {}, this.boundEventHandler = this.handleEvent.bind(this);
    }

    _createClass(Fh, [{
      key: "isListeningto",
      value: function isListeningto(e) {
        return this.eventTarget === e;
      }
    }, {
      key: "handleEvent",
      value: function handleEvent(e) {
        var t, _t$data, n, r, i, s, o, a;

        return regeneratorRuntime.async(function handleEvent$(_context160) {
          while (1) {
            switch (_context160.prev = _context160.next) {
              case 0:
                t = e, _t$data = t.data, n = _t$data.eventId, r = _t$data.eventType, i = _t$data.data, s = this.handlersMap[r];

                if (null === s || void 0 === s ? void 0 : s.size) {
                  _context160.next = 3;
                  break;
                }

                return _context160.abrupt("return");

              case 3:
                t.ports[0].postMessage({
                  status: "ack",
                  eventId: n,
                  eventType: r
                });
                o = Array.from(s).map(function _callee46(e) {
                  return regeneratorRuntime.async(function _callee46$(_context158) {
                    while (1) {
                      switch (_context158.prev = _context158.next) {
                        case 0:
                          return _context158.abrupt("return", e(t.origin, i));

                        case 1:
                        case "end":
                          return _context158.stop();
                      }
                    }
                  });
                });
                _context160.next = 7;
                return regeneratorRuntime.awrap(function (e) {
                  return Promise.all(e.map(function _callee47(e) {
                    return regeneratorRuntime.async(function _callee47$(_context159) {
                      while (1) {
                        switch (_context159.prev = _context159.next) {
                          case 0:
                            _context159.prev = 0;
                            _context159.t0 = !0;
                            _context159.next = 4;
                            return regeneratorRuntime.awrap(e);

                          case 4:
                            _context159.t1 = _context159.sent;
                            return _context159.abrupt("return", {
                              fulfilled: _context159.t0,
                              value: _context159.t1
                            });

                          case 8:
                            _context159.prev = 8;
                            _context159.t2 = _context159["catch"](0);
                            return _context159.abrupt("return", {
                              fulfilled: !1,
                              reason: _context159.t2
                            });

                          case 11:
                          case "end":
                            return _context159.stop();
                        }
                      }
                    }, null, null, [[0, 8]]);
                  }));
                }(o));

              case 7:
                a = _context160.sent;
                t.ports[0].postMessage({
                  status: "done",
                  eventId: n,
                  eventType: r,
                  response: a
                });

              case 9:
              case "end":
                return _context160.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_subscribe",
      value: function _subscribe(e, t) {
        0 === Object.keys(this.handlersMap).length && this.eventTarget.addEventListener("message", this.boundEventHandler), this.handlersMap[e] || (this.handlersMap[e] = new Set()), this.handlersMap[e].add(t);
      }
    }, {
      key: "_unsubscribe",
      value: function _unsubscribe(e, t) {
        this.handlersMap[e] && t && this.handlersMap[e]["delete"](t), t && 0 !== this.handlersMap[e].size || delete this.handlersMap[e], 0 === Object.keys(this.handlersMap).length && this.eventTarget.removeEventListener("message", this.boundEventHandler);
      }
    }], [{
      key: "_getInstance",
      value: function _getInstance(e) {
        var t = this.receivers.find(function (t) {
          return t.isListeningto(e);
        });
        if (t) return t;
        var n = new Fh(e);
        return this.receivers.push(n), n;
      }
    }]);

    return Fh;
  }();

  function Uh() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10,
        n = "";

    for (var r = 0; r < t; r++) {
      n += Math.floor(10 * Math.random());
    }

    return e + n;
  }

  Fh.receivers = [];

  var Vh =
  /*#__PURE__*/
  function () {
    function Vh(e) {
      _classCallCheck(this, Vh);

      this.target = e, this.handlers = new Set();
    }

    _createClass(Vh, [{
      key: "removeMessageHandler",
      value: function removeMessageHandler(e) {
        e.messageChannel && (e.messageChannel.port1.removeEventListener("message", e.onMessage), e.messageChannel.port1.close()), this.handlers["delete"](e);
      }
    }, {
      key: "_send",
      value: function _send(e, t) {
        var _this147 = this;

        var n,
            r,
            i,
            s,
            _args161 = arguments;
        return regeneratorRuntime.async(function _send$(_context161) {
          while (1) {
            switch (_context161.prev = _context161.next) {
              case 0:
                n = _args161.length > 2 && void 0 !== _args161[2] ? _args161[2] : 50;
                r = "undefined" !== typeof MessageChannel ? new MessageChannel() : null;

                if (r) {
                  _context161.next = 4;
                  break;
                }

                throw new Error("connection_unavailable");

              case 4:
                return _context161.abrupt("return", new Promise(function (o, a) {
                  var l = Uh("", 20);
                  r.port1.start();
                  var u = setTimeout(function () {
                    a(new Error("unsupported_event"));
                  }, n);
                  s = {
                    messageChannel: r,
                    onMessage: function onMessage(e) {
                      var t = e;
                      if (t.data.eventId === l) switch (t.data.status) {
                        case "ack":
                          clearTimeout(u), i = setTimeout(function () {
                            a(new Error("timeout"));
                          }, 3e3);
                          break;

                        case "done":
                          clearTimeout(i), o(t.data.response);
                          break;

                        default:
                          clearTimeout(u), clearTimeout(i), a(new Error("invalid_response"));
                      }
                    }
                  }, _this147.handlers.add(s), r.port1.addEventListener("message", s.onMessage), _this147.target.postMessage({
                    eventType: e,
                    eventId: l,
                    data: t
                  }, [r.port2]);
                })["finally"](function () {
                  s && _this147.removeMessageHandler(s);
                }));

              case 5:
              case "end":
                return _context161.stop();
            }
          }
        });
      }
    }]);

    return Vh;
  }();

  function zh() {
    return window;
  }

  function jh() {
    return "undefined" !== typeof zh().WorkerGlobalScope && "function" === typeof zh().importScripts;
  }

  var Bh = "firebaseLocalStorageDb",
      $h = "firebaseLocalStorage",
      qh = "fbase_key";

  var Hh =
  /*#__PURE__*/
  function () {
    function Hh(e) {
      _classCallCheck(this, Hh);

      this.request = e;
    }

    _createClass(Hh, [{
      key: "toPromise",
      value: function toPromise() {
        var _this148 = this;

        return new Promise(function (e, t) {
          _this148.request.addEventListener("success", function () {
            e(_this148.request.result);
          }), _this148.request.addEventListener("error", function () {
            t(_this148.request.error);
          });
        });
      }
    }]);

    return Hh;
  }();

  function Kh(e, t) {
    return e.transaction([$h], t ? "readwrite" : "readonly").objectStore($h);
  }

  function Wh() {
    var e = indexedDB.open(Bh, 1);
    return new Promise(function (t, n) {
      e.addEventListener("error", function () {
        n(e.error);
      }), e.addEventListener("upgradeneeded", function () {
        var t = e.result;

        try {
          t.createObjectStore($h, {
            keyPath: qh
          });
        } catch (r) {
          n(r);
        }
      }), e.addEventListener("success", function _callee48() {
        var n;
        return regeneratorRuntime.async(function _callee48$(_context162) {
          while (1) {
            switch (_context162.prev = _context162.next) {
              case 0:
                n = e.result;

                if (!n.objectStoreNames.contains($h)) {
                  _context162.next = 5;
                  break;
                }

                t(n);
                _context162.next = 13;
                break;

              case 5:
                n.close();
                _context162.next = 8;
                return regeneratorRuntime.awrap(function () {
                  var e = indexedDB.deleteDatabase(Bh);
                  return new Hh(e).toPromise();
                }());

              case 8:
                _context162.t0 = t;
                _context162.next = 11;
                return regeneratorRuntime.awrap(Wh());

              case 11:
                _context162.t1 = _context162.sent;
                (0, _context162.t0)(_context162.t1);

              case 13:
              case "end":
                return _context162.stop();
            }
          }
        });
      });
    });
  }

  function Gh(e, t, n) {
    var _Kh$put;

    var r;
    return regeneratorRuntime.async(function Gh$(_context163) {
      while (1) {
        switch (_context163.prev = _context163.next) {
          case 0:
            r = Kh(e, !0).put((_Kh$put = {}, _defineProperty(_Kh$put, qh, t), _defineProperty(_Kh$put, "value", n), _Kh$put));
            return _context163.abrupt("return", new Hh(r).toPromise());

          case 2:
          case "end":
            return _context163.stop();
        }
      }
    });
  }

  function Qh(e, t) {
    var n = Kh(e, !0)["delete"](t);
    return new Hh(n).toPromise();
  }

  var Xh =
  /*#__PURE__*/
  function () {
    function Xh() {
      _classCallCheck(this, Xh);

      this.type = "LOCAL", this._shouldAllowMigration = !0, this.listeners = {}, this.localCache = {}, this.pollTimer = null, this.pendingWrites = 0, this.receiver = null, this.sender = null, this.serviceWorkerReceiverAvailable = !1, this.activeServiceWorker = null, this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(function () {}, function () {});
    }

    _createClass(Xh, [{
      key: "_openDb",
      value: function _openDb() {
        return regeneratorRuntime.async(function _openDb$(_context164) {
          while (1) {
            switch (_context164.prev = _context164.next) {
              case 0:
                _context164.t0 = this.db;

                if (_context164.t0) {
                  _context164.next = 5;
                  break;
                }

                _context164.next = 4;
                return regeneratorRuntime.awrap(Wh());

              case 4:
                this.db = _context164.sent;

              case 5:
                return _context164.abrupt("return", this.db);

              case 6:
              case "end":
                return _context164.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_withRetries",
      value: function _withRetries(e) {
        var t, _t48;

        return regeneratorRuntime.async(function _withRetries$(_context165) {
          while (1) {
            switch (_context165.prev = _context165.next) {
              case 0:
                t = 0;

              case 1:
                _context165.prev = 1;
                _context165.next = 4;
                return regeneratorRuntime.awrap(this._openDb());

              case 4:
                _t48 = _context165.sent;
                _context165.next = 7;
                return regeneratorRuntime.awrap(e(_t48));

              case 7:
                return _context165.abrupt("return", _context165.sent);

              case 10:
                _context165.prev = 10;
                _context165.t0 = _context165["catch"](1);

                if (!(t++ > 3)) {
                  _context165.next = 14;
                  break;
                }

                throw _context165.t0;

              case 14:
                this.db && (this.db.close(), this.db = void 0);

              case 15:
                _context165.next = 1;
                break;

              case 17:
              case "end":
                return _context165.stop();
            }
          }
        }, null, this, [[1, 10]]);
      }
    }, {
      key: "initializeServiceWorkerMessaging",
      value: function initializeServiceWorkerMessaging() {
        return regeneratorRuntime.async(function initializeServiceWorkerMessaging$(_context166) {
          while (1) {
            switch (_context166.prev = _context166.next) {
              case 0:
                return _context166.abrupt("return", jh() ? this.initializeReceiver() : this.initializeSender());

              case 1:
              case "end":
                return _context166.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "initializeReceiver",
      value: function initializeReceiver() {
        var _this149 = this;

        return regeneratorRuntime.async(function initializeReceiver$(_context169) {
          while (1) {
            switch (_context169.prev = _context169.next) {
              case 0:
                this.receiver = Fh._getInstance(jh() ? self : null), this.receiver._subscribe("keyChanged", function _callee49(e, t) {
                  return regeneratorRuntime.async(function _callee49$(_context167) {
                    while (1) {
                      switch (_context167.prev = _context167.next) {
                        case 0:
                          _context167.next = 2;
                          return regeneratorRuntime.awrap(_this149._poll());

                        case 2:
                          _context167.t0 = t.key;
                          _context167.t1 = _context167.sent.includes(_context167.t0);
                          return _context167.abrupt("return", {
                            keyProcessed: _context167.t1
                          });

                        case 5:
                        case "end":
                          return _context167.stop();
                      }
                    }
                  });
                }), this.receiver._subscribe("ping", function _callee50(e, t) {
                  return regeneratorRuntime.async(function _callee50$(_context168) {
                    while (1) {
                      switch (_context168.prev = _context168.next) {
                        case 0:
                          return _context168.abrupt("return", ["keyChanged"]);

                        case 1:
                        case "end":
                          return _context168.stop();
                      }
                    }
                  });
                });

              case 1:
              case "end":
                return _context169.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "initializeSender",
      value: function initializeSender() {
        var e, t, n;
        return regeneratorRuntime.async(function initializeSender$(_context171) {
          while (1) {
            switch (_context171.prev = _context171.next) {
              case 0:
                _context171.next = 2;
                return regeneratorRuntime.awrap(function _callee51() {
                  return regeneratorRuntime.async(function _callee51$(_context170) {
                    while (1) {
                      switch (_context170.prev = _context170.next) {
                        case 0:
                          if (null === navigator || void 0 === navigator ? void 0 : navigator.serviceWorker) {
                            _context170.next = 2;
                            break;
                          }

                          return _context170.abrupt("return", null);

                        case 2:
                          _context170.prev = 2;
                          _context170.next = 5;
                          return regeneratorRuntime.awrap(navigator.serviceWorker.ready);

                        case 5:
                          return _context170.abrupt("return", _context170.sent.active);

                        case 8:
                          _context170.prev = 8;
                          _context170.t0 = _context170["catch"](2);
                          return _context170.abrupt("return", null);

                        case 11:
                        case "end":
                          return _context170.stop();
                      }
                    }
                  }, null, null, [[2, 8]]);
                }());

              case 2:
                this.activeServiceWorker = _context171.sent;

                if (this.activeServiceWorker) {
                  _context171.next = 5;
                  break;
                }

                return _context171.abrupt("return");

              case 5:
                this.sender = new Vh(this.activeServiceWorker);
                _context171.next = 8;
                return regeneratorRuntime.awrap(this.sender._send("ping", {}, 800));

              case 8:
                n = _context171.sent;
                n && (null === (e = n[0]) || void 0 === e ? void 0 : e.fulfilled) && (null === (t = n[0]) || void 0 === t ? void 0 : t.value.includes("keyChanged")) && (this.serviceWorkerReceiverAvailable = !0);

              case 10:
              case "end":
                return _context171.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "notifyServiceWorker",
      value: function notifyServiceWorker(e) {
        return regeneratorRuntime.async(function notifyServiceWorker$(_context172) {
          while (1) {
            switch (_context172.prev = _context172.next) {
              case 0:
                if (!(this.sender && this.activeServiceWorker && function () {
                  var e;
                  return (null === (e = null === navigator || void 0 === navigator ? void 0 : navigator.serviceWorker) || void 0 === e ? void 0 : e.controller) || null;
                }() === this.activeServiceWorker)) {
                  _context172.next = 8;
                  break;
                }

                _context172.prev = 1;
                _context172.next = 4;
                return regeneratorRuntime.awrap(this.sender._send("keyChanged", {
                  key: e
                }, this.serviceWorkerReceiverAvailable ? 800 : 50));

              case 4:
                _context172.next = 8;
                break;

              case 6:
                _context172.prev = 6;
                _context172.t0 = _context172["catch"](1);

              case 8:
              case "end":
                return _context172.stop();
            }
          }
        }, null, this, [[1, 6]]);
      }
    }, {
      key: "_isAvailable",
      value: function _isAvailable() {
        var _e79;

        return regeneratorRuntime.async(function _isAvailable$(_context173) {
          while (1) {
            switch (_context173.prev = _context173.next) {
              case 0:
                _context173.prev = 0;

                if (indexedDB) {
                  _context173.next = 3;
                  break;
                }

                return _context173.abrupt("return", !1);

              case 3:
                _context173.next = 5;
                return regeneratorRuntime.awrap(Wh());

              case 5:
                _e79 = _context173.sent;
                _context173.next = 8;
                return regeneratorRuntime.awrap(Gh(_e79, Ph, "1"));

              case 8:
                _context173.next = 10;
                return regeneratorRuntime.awrap(Qh(_e79, Ph));

              case 10:
                return _context173.abrupt("return", !0);

              case 13:
                _context173.prev = 13;
                _context173.t0 = _context173["catch"](0);

              case 15:
                return _context173.abrupt("return", !1);

              case 16:
              case "end":
                return _context173.stop();
            }
          }
        }, null, null, [[0, 13]]);
      }
    }, {
      key: "_withPendingWrite",
      value: function _withPendingWrite(e) {
        return regeneratorRuntime.async(function _withPendingWrite$(_context174) {
          while (1) {
            switch (_context174.prev = _context174.next) {
              case 0:
                this.pendingWrites++;
                _context174.prev = 1;
                _context174.next = 4;
                return regeneratorRuntime.awrap(e());

              case 4:
                _context174.prev = 4;
                this.pendingWrites--;
                return _context174.finish(4);

              case 7:
              case "end":
                return _context174.stop();
            }
          }
        }, null, this, [[1,, 4, 7]]);
      }
    }, {
      key: "_set",
      value: function _set(e, t) {
        var _this150 = this;

        return regeneratorRuntime.async(function _set$(_context176) {
          while (1) {
            switch (_context176.prev = _context176.next) {
              case 0:
                return _context176.abrupt("return", this._withPendingWrite(function _callee52() {
                  return regeneratorRuntime.async(function _callee52$(_context175) {
                    while (1) {
                      switch (_context175.prev = _context175.next) {
                        case 0:
                          _context175.next = 2;
                          return regeneratorRuntime.awrap(_this150._withRetries(function (n) {
                            return Gh(n, e, t);
                          }));

                        case 2:
                          _this150.localCache[e] = t;
                          return _context175.abrupt("return", _this150.notifyServiceWorker(e));

                        case 4:
                        case "end":
                          return _context175.stop();
                      }
                    }
                  });
                }));

              case 1:
              case "end":
                return _context176.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_get",
      value: function _get(e) {
        var t;
        return regeneratorRuntime.async(function _get$(_context178) {
          while (1) {
            switch (_context178.prev = _context178.next) {
              case 0:
                _context178.next = 2;
                return regeneratorRuntime.awrap(this._withRetries(function (t) {
                  return function _callee53(e, t) {
                    var n, r;
                    return regeneratorRuntime.async(function _callee53$(_context177) {
                      while (1) {
                        switch (_context177.prev = _context177.next) {
                          case 0:
                            n = Kh(e, !1).get(t);
                            _context177.next = 3;
                            return regeneratorRuntime.awrap(new Hh(n).toPromise());

                          case 3:
                            r = _context177.sent;
                            return _context177.abrupt("return", void 0 === r ? null : r.value);

                          case 5:
                          case "end":
                            return _context177.stop();
                        }
                      }
                    });
                  }(t, e);
                }));

              case 2:
                t = _context178.sent;
                return _context178.abrupt("return", (this.localCache[e] = t, t));

              case 4:
              case "end":
                return _context178.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_remove",
      value: function _remove(e) {
        var _this151 = this;

        return regeneratorRuntime.async(function _remove$(_context180) {
          while (1) {
            switch (_context180.prev = _context180.next) {
              case 0:
                return _context180.abrupt("return", this._withPendingWrite(function _callee54() {
                  return regeneratorRuntime.async(function _callee54$(_context179) {
                    while (1) {
                      switch (_context179.prev = _context179.next) {
                        case 0:
                          _context179.next = 2;
                          return regeneratorRuntime.awrap(_this151._withRetries(function (t) {
                            return Qh(t, e);
                          }));

                        case 2:
                          delete _this151.localCache[e];
                          return _context179.abrupt("return", _this151.notifyServiceWorker(e));

                        case 4:
                        case "end":
                          return _context179.stop();
                      }
                    }
                  });
                }));

              case 1:
              case "end":
                return _context180.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_poll",
      value: function _poll() {
        var e, t, n, _iteratorNormalCompletion75, _didIteratorError75, _iteratorError75, _iterator75, _step75, _step75$value, r, i, _i75, _Object$keys3, _r71;

        return regeneratorRuntime.async(function _poll$(_context181) {
          while (1) {
            switch (_context181.prev = _context181.next) {
              case 0:
                _context181.next = 2;
                return regeneratorRuntime.awrap(this._withRetries(function (e) {
                  var t = Kh(e, !1).getAll();
                  return new Hh(t).toPromise();
                }));

              case 2:
                e = _context181.sent;

                if (e) {
                  _context181.next = 5;
                  break;
                }

                return _context181.abrupt("return", []);

              case 5:
                if (!(0 !== this.pendingWrites)) {
                  _context181.next = 7;
                  break;
                }

                return _context181.abrupt("return", []);

              case 7:
                t = [], n = new Set();

                if (!(0 !== e.length)) {
                  _context181.next = 28;
                  break;
                }

                _iteratorNormalCompletion75 = true;
                _didIteratorError75 = false;
                _iteratorError75 = undefined;
                _context181.prev = 12;

                for (_iterator75 = e[Symbol.iterator](); !(_iteratorNormalCompletion75 = (_step75 = _iterator75.next()).done); _iteratorNormalCompletion75 = true) {
                  _step75$value = _step75.value, r = _step75$value.fbase_key, i = _step75$value.value;
                  n.add(r), JSON.stringify(this.localCache[r]) !== JSON.stringify(i) && (this.notifyListeners(r, i), t.push(r));
                }

                _context181.next = 20;
                break;

              case 16:
                _context181.prev = 16;
                _context181.t0 = _context181["catch"](12);
                _didIteratorError75 = true;
                _iteratorError75 = _context181.t0;

              case 20:
                _context181.prev = 20;
                _context181.prev = 21;

                if (!_iteratorNormalCompletion75 && _iterator75["return"] != null) {
                  _iterator75["return"]();
                }

              case 23:
                _context181.prev = 23;

                if (!_didIteratorError75) {
                  _context181.next = 26;
                  break;
                }

                throw _iteratorError75;

              case 26:
                return _context181.finish(23);

              case 27:
                return _context181.finish(20);

              case 28:
                for (_i75 = 0, _Object$keys3 = Object.keys(this.localCache); _i75 < _Object$keys3.length; _i75++) {
                  _r71 = _Object$keys3[_i75];
                  this.localCache[_r71] && !n.has(_r71) && (this.notifyListeners(_r71, null), t.push(_r71));
                }

                return _context181.abrupt("return", t);

              case 30:
              case "end":
                return _context181.stop();
            }
          }
        }, null, this, [[12, 16, 20, 28], [21,, 23, 27]]);
      }
    }, {
      key: "notifyListeners",
      value: function notifyListeners(e, t) {
        this.localCache[e] = t;
        var n = this.listeners[e];

        if (n) {
          for (var _i76 = 0, _Array$from2 = Array.from(n); _i76 < _Array$from2.length; _i76++) {
            var r = _Array$from2[_i76];
            r(t);
          }
        }
      }
    }, {
      key: "startPolling",
      value: function startPolling() {
        var _this152 = this;

        this.stopPolling(), this.pollTimer = setInterval(function _callee55() {
          return regeneratorRuntime.async(function _callee55$(_context182) {
            while (1) {
              switch (_context182.prev = _context182.next) {
                case 0:
                  return _context182.abrupt("return", _this152._poll());

                case 1:
                case "end":
                  return _context182.stop();
              }
            }
          });
        }, 800);
      }
    }, {
      key: "stopPolling",
      value: function stopPolling() {
        this.pollTimer && (clearInterval(this.pollTimer), this.pollTimer = null);
      }
    }, {
      key: "_addListener",
      value: function _addListener(e, t) {
        0 === Object.keys(this.listeners).length && this.startPolling(), this.listeners[e] || (this.listeners[e] = new Set(), this._get(e)), this.listeners[e].add(t);
      }
    }, {
      key: "_removeListener",
      value: function _removeListener(e, t) {
        this.listeners[e] && (this.listeners[e]["delete"](t), 0 === this.listeners[e].size && delete this.listeners[e]), 0 === Object.keys(this.listeners).length && this.stopPolling();
      }
    }]);

    return Xh;
  }();

  Xh.type = "LOCAL";
  var Yh = Xh;
  th("rcb"), new tc(3e4, 6e4);
  var Jh = "recaptcha";

  function Zh(e, t, n) {
    var r, i, s, _t49, _n49, _n50, _o20, _ref8, _t50;

    return regeneratorRuntime.async(function Zh$(_context184) {
      while (1) {
        switch (_context184.prev = _context184.next) {
          case 0:
            _context184.next = 2;
            return regeneratorRuntime.awrap(n.verify());

          case 2:
            i = _context184.sent;
            _context184.prev = 3;

            if (!(Gu("string" === typeof i, e, "argument-error"), Gu(n.type === Jh, e, "argument-error"), s = "string" === typeof t ? {
              phoneNumber: t
            } : t, "session" in s)) {
              _context184.next = 19;
              break;
            }

            _t49 = s.session;

            if (!("phoneNumber" in s)) {
              _context184.next = 12;
              break;
            }

            Gu("enroll" === _t49.type, e, "internal-error");
            _context184.next = 10;
            return regeneratorRuntime.awrap(function (e, t) {
              return ac(e, "POST", "/v2/accounts/mfaEnrollment:start", oc(e, t));
            }(e, {
              idToken: _t49.credential,
              phoneEnrollmentInfo: {
                phoneNumber: s.phoneNumber,
                recaptchaToken: i
              }
            }));

          case 10:
            _n49 = _context184.sent;
            return _context184.abrupt("return", _n49.phoneSessionInfo.sessionInfo);

          case 12:
            Gu("signin" === _t49.type, e, "internal-error");
            _n50 = (null === (r = s.multiFactorHint) || void 0 === r ? void 0 : r.uid) || s.multiFactorUid;
            Gu(_n50, e, "missing-multi-factor-info");
            _context184.next = 17;
            return regeneratorRuntime.awrap(function (e, t) {
              return ac(e, "POST", "/v2/accounts/mfaSignIn:start", oc(e, t));
            }(e, {
              mfaPendingCredential: _t49.credential,
              mfaEnrollmentId: _n50,
              phoneSignInInfo: {
                recaptchaToken: i
              }
            }));

          case 17:
            _o20 = _context184.sent;
            return _context184.abrupt("return", _o20.phoneResponseInfo.sessionInfo);

          case 19:
            _context184.next = 21;
            return regeneratorRuntime.awrap(function _callee56(e, t) {
              return regeneratorRuntime.async(function _callee56$(_context183) {
                while (1) {
                  switch (_context183.prev = _context183.next) {
                    case 0:
                      return _context183.abrupt("return", ac(e, "POST", "/v1/accounts:sendVerificationCode", oc(e, t)));

                    case 1:
                    case "end":
                      return _context183.stop();
                  }
                }
              });
            }(e, {
              phoneNumber: s.phoneNumber,
              recaptchaToken: i
            }));

          case 21:
            _ref8 = _context184.sent;
            _t50 = _ref8.sessionInfo;
            return _context184.abrupt("return", _t50);

          case 24:
            _context184.prev = 24;

            n._reset();

            return _context184.finish(24);

          case 27:
          case "end":
            return _context184.stop();
        }
      }
    }, null, null, [[3,, 24, 27]]);
  }

  var ed =
  /*#__PURE__*/
  function () {
    function ed(e) {
      _classCallCheck(this, ed);

      this.providerId = ed.PROVIDER_ID, this.auth = Yc(e);
    }

    _createClass(ed, [{
      key: "verifyPhoneNumber",
      value: function verifyPhoneNumber(e, t) {
        return Zh(this.auth, e, R(t));
      }
    }], [{
      key: "credential",
      value: function credential(e, t) {
        return gh._fromVerification(e, t);
      }
    }, {
      key: "credentialFromResult",
      value: function credentialFromResult(e) {
        var t = e;
        return ed.credentialFromTaggedObject(t);
      }
    }, {
      key: "credentialFromError",
      value: function credentialFromError(e) {
        return ed.credentialFromTaggedObject(e.customData || {});
      }
    }, {
      key: "credentialFromTaggedObject",
      value: function credentialFromTaggedObject(e) {
        var t = e._tokenResponse;
        if (!t) return null;
        var n = t.phoneNumber,
            r = t.temporaryProof;
        return n && r ? gh._fromTokenResponse(n, r) : null;
      }
    }]);

    return ed;
  }();

  function td(e, t) {
    return t ? Pc(t) : (Gu(e._popupRedirectResolver, e, "argument-error"), e._popupRedirectResolver);
  }

  ed.PROVIDER_ID = "phone", ed.PHONE_SIGN_IN_METHOD = "phone";

  var nd =
  /*#__PURE__*/
  function (_lh4) {
    _inherits(nd, _lh4);

    function nd(e) {
      var _this153;

      _classCallCheck(this, nd);

      _this153 = _possibleConstructorReturn(this, _getPrototypeOf(nd).call(this, "custom", "custom")), _this153.params = e;
      return _this153;
    }

    _createClass(nd, [{
      key: "_getIdTokenResponse",
      value: function _getIdTokenResponse(e) {
        return dh(e, this._buildIdpRequest());
      }
    }, {
      key: "_linkToIdToken",
      value: function _linkToIdToken(e, t) {
        return dh(e, this._buildIdpRequest(t));
      }
    }, {
      key: "_getReauthenticationResolver",
      value: function _getReauthenticationResolver(e) {
        return dh(e, this._buildIdpRequest());
      }
    }, {
      key: "_buildIdpRequest",
      value: function _buildIdpRequest(e) {
        var t = {
          requestUri: this.params.requestUri,
          sessionId: this.params.sessionId,
          postBody: this.params.postBody,
          tenantId: this.params.tenantId,
          pendingToken: this.params.pendingToken,
          returnSecureToken: !0,
          returnIdpCredential: !0
        };
        return e && (t.idToken = e), t;
      }
    }]);

    return nd;
  }(lh);

  function rd(e) {
    return Rh(e.auth, new nd(e), e.bypassAuthState);
  }

  function id(e) {
    var t = e.auth,
        n = e.user;
    return Gu(n, t, "internal-error"), Ah(n, new nd(e), e.bypassAuthState);
  }

  function sd(e) {
    var t, n;
    return regeneratorRuntime.async(function sd$(_context185) {
      while (1) {
        switch (_context185.prev = _context185.next) {
          case 0:
            t = e.auth, n = e.user;
            return _context185.abrupt("return", (Gu(n, t, "internal-error"), Nh(n, new nd(e), e.bypassAuthState)));

          case 2:
          case "end":
            return _context185.stop();
        }
      }
    });
  }

  var od =
  /*#__PURE__*/
  function () {
    function od(e, t, n, r) {
      _classCallCheck(this, od);

      var i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
      this.auth = e, this.resolver = n, this.user = r, this.bypassAuthState = i, this.pendingPromise = null, this.eventManager = null, this.filter = Array.isArray(t) ? t : [t];
    }

    _createClass(od, [{
      key: "execute",
      value: function execute() {
        var _this154 = this;

        return new Promise(function _callee57(e, t) {
          return regeneratorRuntime.async(function _callee57$(_context186) {
            while (1) {
              switch (_context186.prev = _context186.next) {
                case 0:
                  _this154.pendingPromise = {
                    resolve: e,
                    reject: t
                  };
                  _context186.prev = 1;
                  _context186.next = 4;
                  return regeneratorRuntime.awrap(_this154.resolver._initialize(_this154.auth));

                case 4:
                  _this154.eventManager = _context186.sent;
                  _context186.next = 7;
                  return regeneratorRuntime.awrap(_this154.onExecution());

                case 7:
                  _this154.eventManager.registerConsumer(_this154);

                  _context186.next = 13;
                  break;

                case 10:
                  _context186.prev = 10;
                  _context186.t0 = _context186["catch"](1);

                  _this154.reject(_context186.t0);

                case 13:
                case "end":
                  return _context186.stop();
              }
            }
          }, null, null, [[1, 10]]);
        });
      }
    }, {
      key: "onAuthEvent",
      value: function onAuthEvent(e) {
        var t, n, r, i, s, o, a;
        return regeneratorRuntime.async(function onAuthEvent$(_context187) {
          while (1) {
            switch (_context187.prev = _context187.next) {
              case 0:
                t = e.urlResponse, n = e.sessionId, r = e.postBody, i = e.tenantId, s = e.error, o = e.type;

                if (!s) {
                  _context187.next = 3;
                  break;
                }

                return _context187.abrupt("return", void this.reject(s));

              case 3:
                a = {
                  auth: this.auth,
                  requestUri: t,
                  sessionId: n,
                  tenantId: i || void 0,
                  postBody: r || void 0,
                  user: this.user,
                  bypassAuthState: this.bypassAuthState
                };
                _context187.prev = 4;
                _context187.t0 = this;
                _context187.next = 8;
                return regeneratorRuntime.awrap(this.getIdpTask(o)(a));

              case 8:
                _context187.t1 = _context187.sent;

                _context187.t0.resolve.call(_context187.t0, _context187.t1);

                _context187.next = 15;
                break;

              case 12:
                _context187.prev = 12;
                _context187.t2 = _context187["catch"](4);
                this.reject(_context187.t2);

              case 15:
              case "end":
                return _context187.stop();
            }
          }
        }, null, this, [[4, 12]]);
      }
    }, {
      key: "onError",
      value: function onError(e) {
        this.reject(e);
      }
    }, {
      key: "getIdpTask",
      value: function getIdpTask(e) {
        switch (e) {
          case "signInViaPopup":
          case "signInViaRedirect":
            return rd;

          case "linkViaPopup":
          case "linkViaRedirect":
            return sd;

          case "reauthViaPopup":
          case "reauthViaRedirect":
            return id;

          default:
            Bu(this.auth, "internal-error");
        }
      }
    }, {
      key: "resolve",
      value: function resolve(e) {
        Xu(this.pendingPromise, "Pending promise was never set"), this.pendingPromise.resolve(e), this.unregisterAndCleanUp();
      }
    }, {
      key: "reject",
      value: function reject(e) {
        Xu(this.pendingPromise, "Pending promise was never set"), this.pendingPromise.reject(e), this.unregisterAndCleanUp();
      }
    }, {
      key: "unregisterAndCleanUp",
      value: function unregisterAndCleanUp() {
        this.eventManager && this.eventManager.unregisterConsumer(this), this.pendingPromise = null, this.cleanUp();
      }
    }]);

    return od;
  }();

  var ad = new tc(2e3, 1e4);

  var ld =
  /*#__PURE__*/
  function (_od) {
    _inherits(ld, _od);

    function ld(e, t, n, r, i) {
      var _this155;

      _classCallCheck(this, ld);

      _this155 = _possibleConstructorReturn(this, _getPrototypeOf(ld).call(this, e, t, r, i)), _this155.provider = n, _this155.authWindow = null, _this155.pollId = null, ld.currentPopupAction && ld.currentPopupAction.cancel(), ld.currentPopupAction = _assertThisInitialized(_this155);
      return _this155;
    }

    _createClass(ld, [{
      key: "executeNotNull",
      value: function executeNotNull() {
        var e;
        return regeneratorRuntime.async(function executeNotNull$(_context188) {
          while (1) {
            switch (_context188.prev = _context188.next) {
              case 0:
                _context188.next = 2;
                return regeneratorRuntime.awrap(this.execute());

              case 2:
                e = _context188.sent;
                return _context188.abrupt("return", (Gu(e, this.auth, "internal-error"), e));

              case 4:
              case "end":
                return _context188.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "onExecution",
      value: function onExecution() {
        var _this156 = this;

        var e;
        return regeneratorRuntime.async(function onExecution$(_context189) {
          while (1) {
            switch (_context189.prev = _context189.next) {
              case 0:
                Xu(1 === this.filter.length, "Popup operations only handle one event");
                e = Uh();
                _context189.next = 4;
                return regeneratorRuntime.awrap(this.resolver._openPopup(this.auth, this.provider, this.filter[0], e));

              case 4:
                this.authWindow = _context189.sent;
                this.authWindow.associatedEvent = e;

                this.resolver._originValidation(this.auth)["catch"](function (e) {
                  _this156.reject(e);
                });

                this.resolver._isIframeWebStorageSupported(this.auth, function (e) {
                  e || _this156.reject($u(_this156.auth, "web-storage-unsupported"));
                });

                this.pollUserCancellation();

              case 9:
              case "end":
                return _context189.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "cancel",
      value: function cancel() {
        this.reject($u(this.auth, "cancelled-popup-request"));
      }
    }, {
      key: "cleanUp",
      value: function cleanUp() {
        this.authWindow && this.authWindow.close(), this.pollId && window.clearTimeout(this.pollId), this.authWindow = null, this.pollId = null, ld.currentPopupAction = null;
      }
    }, {
      key: "pollUserCancellation",
      value: function pollUserCancellation() {
        var _this157 = this;

        var e = function e() {
          var t, n;
          (null === (n = null === (t = _this157.authWindow) || void 0 === t ? void 0 : t.window) || void 0 === n ? void 0 : n.closed) ? _this157.pollId = window.setTimeout(function () {
            _this157.pollId = null, _this157.reject($u(_this157.auth, "popup-closed-by-user"));
          }, 8e3) : _this157.pollId = window.setTimeout(e, ad.get());
        };

        e();
      }
    }, {
      key: "eventId",
      get: function get() {
        var e;
        return (null === (e = this.authWindow) || void 0 === e ? void 0 : e.associatedEvent) || null;
      }
    }]);

    return ld;
  }(od);

  ld.currentPopupAction = null;
  var ud = "pendingRedirect",
      cd = new Map();

  var hd =
  /*#__PURE__*/
  function (_od2) {
    _inherits(hd, _od2);

    function hd(e, t) {
      var _this158;

      _classCallCheck(this, hd);

      _this158 = _possibleConstructorReturn(this, _getPrototypeOf(hd).call(this, e, ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"], t, void 0, arguments.length > 2 && void 0 !== arguments[2] && arguments[2])), _this158.eventId = null;
      return _this158;
    }

    _createClass(hd, [{
      key: "execute",
      value: function execute() {
        var e, t;
        return regeneratorRuntime.async(function execute$(_context191) {
          while (1) {
            switch (_context191.prev = _context191.next) {
              case 0:
                e = cd.get(this.auth._key());

                if (e) {
                  _context191.next = 20;
                  break;
                }

                _context191.prev = 2;
                _context191.next = 5;
                return regeneratorRuntime.awrap(function _callee58(e, t) {
                  var n, r, i;
                  return regeneratorRuntime.async(function _callee58$(_context190) {
                    while (1) {
                      switch (_context190.prev = _context190.next) {
                        case 0:
                          n = pd(t), r = fd(e);
                          _context190.next = 3;
                          return regeneratorRuntime.awrap(r._isAvailable());

                        case 3:
                          if (_context190.sent) {
                            _context190.next = 5;
                            break;
                          }

                          return _context190.abrupt("return", !1);

                        case 5:
                          _context190.next = 7;
                          return regeneratorRuntime.awrap(r._get(n));

                        case 7:
                          _context190.t0 = _context190.sent;
                          i = "true" === _context190.t0;
                          _context190.next = 11;
                          return regeneratorRuntime.awrap(r._remove(n));

                        case 11:
                          return _context190.abrupt("return", i);

                        case 12:
                        case "end":
                          return _context190.stop();
                      }
                    }
                  });
                }(this.resolver, this.auth));

              case 5:
                if (!_context191.sent) {
                  _context191.next = 11;
                  break;
                }

                _context191.next = 8;
                return regeneratorRuntime.awrap(_get(_getPrototypeOf(hd.prototype), "execute", this).call(this));

              case 8:
                _context191.t0 = _context191.sent;
                _context191.next = 12;
                break;

              case 11:
                _context191.t0 = null;

              case 12:
                t = _context191.t0;

                e = function e() {
                  return Promise.resolve(t);
                };

                _context191.next = 19;
                break;

              case 16:
                _context191.prev = 16;
                _context191.t1 = _context191["catch"](2);

                e = function e() {
                  return Promise.reject(_context191.t1);
                };

              case 19:
                cd.set(this.auth._key(), e);

              case 20:
                return _context191.abrupt("return", (this.bypassAuthState || cd.set(this.auth._key(), function () {
                  return Promise.resolve(null);
                }), e()));

              case 21:
              case "end":
                return _context191.stop();
            }
          }
        }, null, this, [[2, 16]]);
      }
    }, {
      key: "onAuthEvent",
      value: function onAuthEvent(e) {
        var t;
        return regeneratorRuntime.async(function onAuthEvent$(_context192) {
          while (1) {
            switch (_context192.prev = _context192.next) {
              case 0:
                if (!("signInViaRedirect" === e.type)) {
                  _context192.next = 2;
                  break;
                }

                return _context192.abrupt("return", _get(_getPrototypeOf(hd.prototype), "onAuthEvent", this).call(this, e));

              case 2:
                if (!("unknown" !== e.type)) {
                  _context192.next = 12;
                  break;
                }

                if (!e.eventId) {
                  _context192.next = 10;
                  break;
                }

                _context192.next = 6;
                return regeneratorRuntime.awrap(this.auth._redirectUserForId(e.eventId));

              case 6:
                t = _context192.sent;

                if (!t) {
                  _context192.next = 9;
                  break;
                }

                return _context192.abrupt("return", (this.user = t, _get(_getPrototypeOf(hd.prototype), "onAuthEvent", this).call(this, e)));

              case 9:
                this.resolve(null);

              case 10:
                _context192.next = 13;
                break;

              case 12:
                this.resolve(null);

              case 13:
              case "end":
                return _context192.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "onExecution",
      value: function onExecution() {
        return regeneratorRuntime.async(function onExecution$(_context193) {
          while (1) {
            switch (_context193.prev = _context193.next) {
              case 0:
              case "end":
                return _context193.stop();
            }
          }
        });
      }
    }, {
      key: "cleanUp",
      value: function cleanUp() {}
    }]);

    return hd;
  }(od);

  function dd(e, t) {
    cd.set(e._key(), t);
  }

  function fd(e) {
    return Pc(e._redirectPersistence);
  }

  function pd(e) {
    return Oc(ud, e.config.apiKey, e.name);
  }

  function gd(e, t) {
    var n,
        r,
        i,
        s,
        o,
        _args194 = arguments;
    return regeneratorRuntime.async(function gd$(_context194) {
      while (1) {
        switch (_context194.prev = _context194.next) {
          case 0:
            n = _args194.length > 2 && void 0 !== _args194[2] && _args194[2];

            if (!Be(e.app)) {
              _context194.next = 3;
              break;
            }

            return _context194.abrupt("return", Promise.reject(Hu(e)));

          case 3:
            r = Yc(e);
            i = td(r, t);
            s = new hd(r, i, n);
            _context194.next = 8;
            return regeneratorRuntime.awrap(s.execute());

          case 8:
            o = _context194.sent;
            _context194.t0 = o && !n;

            if (!_context194.t0) {
              _context194.next = 16;
              break;
            }

            delete o.user._redirectEventId;
            _context194.next = 14;
            return regeneratorRuntime.awrap(r._persistUserIfCurrent(o.user));

          case 14:
            _context194.next = 16;
            return regeneratorRuntime.awrap(r._setRedirectUser(null, t));

          case 16:
            return _context194.abrupt("return", o);

          case 17:
          case "end":
            return _context194.stop();
        }
      }
    });
  }

  var md =
  /*#__PURE__*/
  function () {
    function md(e) {
      _classCallCheck(this, md);

      this.auth = e, this.cachedEventUids = new Set(), this.consumers = new Set(), this.queuedRedirectEvent = null, this.hasHandledPotentialRedirect = !1, this.lastProcessedEventTime = Date.now();
    }

    _createClass(md, [{
      key: "registerConsumer",
      value: function registerConsumer(e) {
        this.consumers.add(e), this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, e) && (this.sendToConsumer(this.queuedRedirectEvent, e), this.saveEventToCache(this.queuedRedirectEvent), this.queuedRedirectEvent = null);
      }
    }, {
      key: "unregisterConsumer",
      value: function unregisterConsumer(e) {
        this.consumers["delete"](e);
      }
    }, {
      key: "onEvent",
      value: function onEvent(e) {
        var _this159 = this;

        if (this.hasEventBeenHandled(e)) return !1;
        var t = !1;
        return this.consumers.forEach(function (n) {
          _this159.isEventForConsumer(e, n) && (t = !0, _this159.sendToConsumer(e, n), _this159.saveEventToCache(e));
        }), this.hasHandledPotentialRedirect || !function (e) {
          switch (e.type) {
            case "signInViaRedirect":
            case "linkViaRedirect":
            case "reauthViaRedirect":
              return !0;

            case "unknown":
              return yd(e);

            default:
              return !1;
          }
        }(e) || (this.hasHandledPotentialRedirect = !0, t || (this.queuedRedirectEvent = e, t = !0)), t;
      }
    }, {
      key: "sendToConsumer",
      value: function sendToConsumer(e, t) {
        var n;

        if (e.error && !yd(e)) {
          var r = (null === (n = e.error.code) || void 0 === n ? void 0 : n.split("auth/")[1]) || "internal-error";
          t.onError($u(this.auth, r));
        } else t.onAuthEvent(e);
      }
    }, {
      key: "isEventForConsumer",
      value: function isEventForConsumer(e, t) {
        var n = null === t.eventId || !!e.eventId && e.eventId === t.eventId;
        return t.filter.includes(e.type) && n;
      }
    }, {
      key: "hasEventBeenHandled",
      value: function hasEventBeenHandled(e) {
        return Date.now() - this.lastProcessedEventTime >= 6e5 && this.cachedEventUids.clear(), this.cachedEventUids.has(vd(e));
      }
    }, {
      key: "saveEventToCache",
      value: function saveEventToCache(e) {
        this.cachedEventUids.add(vd(e)), this.lastProcessedEventTime = Date.now();
      }
    }]);

    return md;
  }();

  function vd(e) {
    return [e.type, e.eventId, e.sessionId, e.tenantId].filter(function (e) {
      return e;
    }).join("-");
  }

  function yd(e) {
    var t = e.type,
        n = e.error;
    return "unknown" === t && "auth/no-auth-event" === (null === n || void 0 === n ? void 0 : n.code);
  }

  var wd = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
      bd = /^https?/;

  function _d(e) {
    var _ref9, t, _iteratorNormalCompletion76, _didIteratorError76, _iteratorError76, _iterator76, _step76, r;

    return regeneratorRuntime.async(function _d$(_context196) {
      while (1) {
        switch (_context196.prev = _context196.next) {
          case 0:
            if (!e.config.emulator) {
              _context196.next = 2;
              break;
            }

            return _context196.abrupt("return");

          case 2:
            _context196.next = 4;
            return regeneratorRuntime.awrap(function _callee59(e) {
              var _args195 = arguments;
              return regeneratorRuntime.async(function _callee59$(_context195) {
                while (1) {
                  switch (_context195.prev = _context195.next) {
                    case 0:
                      return _context195.abrupt("return", ac(e, "GET", "/v1/projects", _args195.length > 1 && void 0 !== _args195[1] ? _args195[1] : {}));

                    case 1:
                    case "end":
                      return _context195.stop();
                  }
                }
              });
            }(e));

          case 4:
            _ref9 = _context196.sent;
            t = _ref9.authorizedDomains;
            _iteratorNormalCompletion76 = true;
            _didIteratorError76 = false;
            _iteratorError76 = undefined;
            _context196.prev = 9;
            _iterator76 = t[Symbol.iterator]();

          case 11:
            if (_iteratorNormalCompletion76 = (_step76 = _iterator76.next()).done) {
              _context196.next = 23;
              break;
            }

            r = _step76.value;
            _context196.prev = 13;

            if (!Ed(r)) {
              _context196.next = 16;
              break;
            }

            return _context196.abrupt("return");

          case 16:
            _context196.next = 20;
            break;

          case 18:
            _context196.prev = 18;
            _context196.t0 = _context196["catch"](13);

          case 20:
            _iteratorNormalCompletion76 = true;
            _context196.next = 11;
            break;

          case 23:
            _context196.next = 29;
            break;

          case 25:
            _context196.prev = 25;
            _context196.t1 = _context196["catch"](9);
            _didIteratorError76 = true;
            _iteratorError76 = _context196.t1;

          case 29:
            _context196.prev = 29;
            _context196.prev = 30;

            if (!_iteratorNormalCompletion76 && _iterator76["return"] != null) {
              _iterator76["return"]();
            }

          case 32:
            _context196.prev = 32;

            if (!_didIteratorError76) {
              _context196.next = 35;
              break;
            }

            throw _iteratorError76;

          case 35:
            return _context196.finish(32);

          case 36:
            return _context196.finish(29);

          case 37:
            Bu(e, "unauthorized-domain");

          case 38:
          case "end":
            return _context196.stop();
        }
      }
    }, null, null, [[9, 25, 29, 37], [13, 18], [30,, 32, 36]]);
  }

  function Ed(e) {
    var t = Yu(),
        _ref10 = new URL(t),
        n = _ref10.protocol,
        r = _ref10.hostname;

    if (e.startsWith("chrome-extension://")) {
      var _i77 = new URL(e);

      return "" === _i77.hostname && "" === r ? "chrome-extension:" === n && e.replace("chrome-extension://", "") === t.replace("chrome-extension://", "") : "chrome-extension:" === n && _i77.hostname === r;
    }

    if (!bd.test(n)) return !1;
    if (wd.test(e)) return r === e;
    var i = e.replace(/\./g, "\\.");
    return new RegExp("^(.+\\." + i + "|" + i + ")$", "i").test(r);
  }

  var Sd = new tc(3e4, 6e4);

  function kd() {
    var e = zh().___jsl;

    if (null === e || void 0 === e ? void 0 : e.H) {
      for (var _i78 = 0, _Object$keys4 = Object.keys(e.H); _i78 < _Object$keys4.length; _i78++) {
        var t = _Object$keys4[_i78];
        if (e.H[t].r = e.H[t].r || [], e.H[t].L = e.H[t].L || [], e.H[t].r = _toConsumableArray(e.H[t].L), e.CP) for (var n = 0; n < e.CP.length; n++) {
          e.CP[n] = null;
        }
      }
    }
  }

  function Td(e) {
    return new Promise(function (t, n) {
      var r, i, s;

      function o() {
        kd(), gapi.load("gapi.iframes", {
          callback: function callback() {
            t(gapi.iframes.getContext());
          },
          ontimeout: function ontimeout() {
            kd(), n($u(e, "network-request-failed"));
          },
          timeout: Sd.get()
        });
      }

      if (null === (i = null === (r = zh().gapi) || void 0 === r ? void 0 : r.iframes) || void 0 === i ? void 0 : i.Iframe) t(gapi.iframes.getContext());else {
        if (!(null === (s = zh().gapi) || void 0 === s ? void 0 : s.load)) {
          var _t51 = th("iframefcb");

          return zh()[_t51] = function () {
            gapi.load ? o() : n($u(e, "network-request-failed"));
          }, eh("".concat(Zc.gapiScript, "?onload=").concat(_t51))["catch"](function (e) {
            return n(e);
          });
        }

        o();
      }
    })["catch"](function (e) {
      throw Id = null, e;
    });
  }

  var Id = null;
  var Cd = new tc(5e3, 15e3),
      Nd = "__/auth/iframe",
      Ad = "emulator/auth/iframe",
      Rd = {
    style: {
      position: "absolute",
      top: "-100px",
      width: "1px",
      height: "1px"
    },
    "aria-hidden": "true",
    tabindex: "-1"
  },
      Pd = new Map([["identitytoolkit.googleapis.com", "p"], ["staging-identitytoolkit.sandbox.googleapis.com", "s"], ["test-identitytoolkit.sandbox.googleapis.com", "t"]]);

  function xd(e) {
    var t = e.config;
    Gu(t.authDomain, e, "auth-domain-config-required");
    var n = t.emulator ? nc(t, Ad) : "https://".concat(e.config.authDomain, "/").concat(Nd),
        r = {
      apiKey: t.apiKey,
      appName: e.name,
      v: He
    },
        i = Pd.get(e.config.apiHost);
    i && (r.eid = i);

    var s = e._getFrameworks();

    return s.length && (r.fw = s.join(",")), "".concat(n, "?").concat(T(r).slice(1));
  }

  function Dd(e) {
    var t, n;
    return regeneratorRuntime.async(function Dd$(_context198) {
      while (1) {
        switch (_context198.prev = _context198.next) {
          case 0:
            _context198.next = 2;
            return regeneratorRuntime.awrap(function (e) {
              return Id = Id || Td(e), Id;
            }(e));

          case 2:
            t = _context198.sent;
            n = zh().gapi;
            return _context198.abrupt("return", (Gu(n, e, "internal-error"), t.open({
              where: document.body,
              url: xd(e),
              messageHandlersFilter: n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
              attributes: Rd,
              dontclear: !0
            }, function (t) {
              return new Promise(function _callee60(n, r) {
                var i, s, o;
                return regeneratorRuntime.async(function _callee60$(_context197) {
                  while (1) {
                    switch (_context197.prev = _context197.next) {
                      case 0:
                        o = function _ref11() {
                          zh().clearTimeout(s), n(t);
                        };

                        _context197.next = 3;
                        return regeneratorRuntime.awrap(t.restyle({
                          setHideOnLeave: !1
                        }));

                      case 3:
                        i = $u(e, "network-request-failed"), s = zh().setTimeout(function () {
                          r(i);
                        }, Cd.get());
                        t.ping(o).then(o, function () {
                          r(i);
                        });

                      case 5:
                      case "end":
                        return _context197.stop();
                    }
                  }
                });
              });
            })));

          case 5:
          case "end":
            return _context198.stop();
        }
      }
    });
  }

  var Od = {
    location: "yes",
    resizable: "yes",
    statusbar: "yes",
    toolbar: "no"
  };

  var Ld =
  /*#__PURE__*/
  function () {
    function Ld(e) {
      _classCallCheck(this, Ld);

      this.window = e, this.associatedEvent = null;
    }

    _createClass(Ld, [{
      key: "close",
      value: function close() {
        if (this.window) try {
          this.window.close();
        } catch (e) {}
      }
    }]);

    return Ld;
  }();

  function Md(e, t, n) {
    var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 500,
        i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 600;
    var s = Math.max((window.screen.availHeight - i) / 2, 0).toString(),
        o = Math.max((window.screen.availWidth - r) / 2, 0).toString();
    var a = "";
    var l = Object.assign(Object.assign({}, Od), {
      width: r.toString(),
      height: i.toString(),
      top: s,
      left: o
    }),
        u = v().toLowerCase();
    n && (a = Vc(u) ? "_blank" : n), Fc(u) && (t = t || "http://localhost", l.scrollbars = "yes");
    var c = Object.entries(l).reduce(function (e, t) {
      var _t52 = _slicedToArray(t, 2),
          n = _t52[0],
          r = _t52[1];

      return "".concat(e).concat(n, "=").concat(r, ",");
    }, "");
    if (function () {
      var e;
      return qc(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v()) && !!(null === (e = window.navigator) || void 0 === e ? void 0 : e.standalone);
    }(u) && "_self" !== a) return function (e, t) {
      var n = document.createElement("a");
      n.href = e, n.target = t;
      var r = document.createEvent("MouseEvent");
      r.initMouseEvent("click", !0, !0, window, 1, 0, 0, 0, 0, !1, !1, !1, !1, 1, null), n.dispatchEvent(r);
    }(t || "", a), new Ld(null);
    var h = window.open(t || "", a, c);
    Gu(h, e, "popup-blocked");

    try {
      h.focus();
    } catch (d) {}

    return new Ld(h);
  }

  var Fd = "__/auth/handler",
      Ud = "emulator/auth/handler",
      Vd = encodeURIComponent("fac");

  function zd(e, t, n, r, i, s) {
    var o, _i79, _Object$entries2, _Object$entries2$_i, _e80, _t54, _e81, a, _i80, _Object$keys5, _c5, l, u;

    return regeneratorRuntime.async(function zd$(_context199) {
      while (1) {
        switch (_context199.prev = _context199.next) {
          case 0:
            Gu(e.config.authDomain, e, "auth-domain-config-required"), Gu(e.config.apiKey, e, "invalid-api-key");
            o = {
              apiKey: e.config.apiKey,
              appName: e.name,
              authType: n,
              redirectUrl: r,
              v: He,
              eventId: i
            };

            if (t instanceof yh) {
              t.setDefaultLanguage(e.languageCode), o.providerId = t.providerId || "", function (e) {
                for (var _t53 in e) {
                  if (Object.prototype.hasOwnProperty.call(e, _t53)) return !1;
                }

                return !0;
              }(t.getCustomParameters()) || (o.customParameters = JSON.stringify(t.getCustomParameters()));

              for (_i79 = 0, _Object$entries2 = Object.entries(s || {}); _i79 < _Object$entries2.length; _i79++) {
                _Object$entries2$_i = _slicedToArray(_Object$entries2[_i79], 2), _e80 = _Object$entries2$_i[0], _t54 = _Object$entries2$_i[1];
                o[_e80] = _t54;
              }
            }

            if (t instanceof wh) {
              _e81 = t.getScopes().filter(function (e) {
                return "" !== e;
              });
              _e81.length > 0 && (o.scopes = _e81.join(","));
            }

            e.tenantId && (o.tid = e.tenantId);
            a = o;

            for (_i80 = 0, _Object$keys5 = Object.keys(a); _i80 < _Object$keys5.length; _i80++) {
              _c5 = _Object$keys5[_i80];
              void 0 === a[_c5] && delete a[_c5];
            }

            _context199.next = 9;
            return regeneratorRuntime.awrap(e._getAppCheckToken());

          case 9:
            l = _context199.sent;
            u = l ? "#".concat(Vd, "=").concat(encodeURIComponent(l)) : "";
            return _context199.abrupt("return", "".concat(function (e) {
              var t = e.config;
              if (!t.emulator) return "https://".concat(t.authDomain, "/").concat(Fd);
              return nc(t, Ud);
            }(e), "?").concat(T(a).slice(1)).concat(u));

          case 12:
          case "end":
            return _context199.stop();
        }
      }
    });
  }

  var jd = "webStorageSupport";

  var Bd =
  /*#__PURE__*/
  function () {
    function Bd() {
      _classCallCheck(this, Bd);

      this.eventManagers = {}, this.iframes = {}, this.originValidationPromises = {}, this._redirectPersistence = Mh, this._completeRedirectFn = gd, this._overrideRedirectResult = dd;
    }

    _createClass(Bd, [{
      key: "_openPopup",
      value: function _openPopup(e, t, n, r) {
        var i;
        return regeneratorRuntime.async(function _openPopup$(_context200) {
          while (1) {
            switch (_context200.prev = _context200.next) {
              case 0:
                Xu(null === (i = this.eventManagers[e._key()]) || void 0 === i ? void 0 : i.manager, "_initialize() not called before _openPopup()");
                _context200.t0 = Md;
                _context200.t1 = e;
                _context200.next = 5;
                return regeneratorRuntime.awrap(zd(e, t, n, Yu(), r));

              case 5:
                _context200.t2 = _context200.sent;
                _context200.t3 = Uh();
                return _context200.abrupt("return", (0, _context200.t0)(_context200.t1, _context200.t2, _context200.t3));

              case 8:
              case "end":
                return _context200.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_openRedirect",
      value: function _openRedirect(e, t, n, r) {
        return regeneratorRuntime.async(function _openRedirect$(_context201) {
          while (1) {
            switch (_context201.prev = _context201.next) {
              case 0:
                _context201.next = 2;
                return regeneratorRuntime.awrap(this._originValidation(e));

              case 2:
                _context201.t0 = function (e) {
                  zh().location.href = e;
                };

                _context201.next = 5;
                return regeneratorRuntime.awrap(zd(e, t, n, Yu(), r));

              case 5:
                _context201.t1 = _context201.sent;
                (0, _context201.t0)(_context201.t1);
                return _context201.abrupt("return", new Promise(function () {}));

              case 8:
              case "end":
                return _context201.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_initialize",
      value: function _initialize(e) {
        var _this160 = this;

        var t = e._key();

        if (this.eventManagers[t]) {
          var _this$eventManagers$t = this.eventManagers[t],
              _e82 = _this$eventManagers$t.manager,
              _n51 = _this$eventManagers$t.promise;
          return _e82 ? Promise.resolve(_e82) : (Xu(_n51, "If manager is not set, promise should be"), _n51);
        }

        var n = this.initAndGetManager(e);
        return this.eventManagers[t] = {
          promise: n
        }, n["catch"](function () {
          delete _this160.eventManagers[t];
        }), n;
      }
    }, {
      key: "initAndGetManager",
      value: function initAndGetManager(e) {
        var t, n;
        return regeneratorRuntime.async(function initAndGetManager$(_context202) {
          while (1) {
            switch (_context202.prev = _context202.next) {
              case 0:
                _context202.next = 2;
                return regeneratorRuntime.awrap(Dd(e));

              case 2:
                t = _context202.sent;
                n = new md(e);
                return _context202.abrupt("return", (t.register("authEvent", function (t) {
                  Gu(null === t || void 0 === t ? void 0 : t.authEvent, e, "invalid-auth-event");
                  return {
                    status: n.onEvent(t.authEvent) ? "ACK" : "ERROR"
                  };
                }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER), this.eventManagers[e._key()] = {
                  manager: n
                }, this.iframes[e._key()] = t, n));

              case 5:
              case "end":
                return _context202.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "_isIframeWebStorageSupported",
      value: function _isIframeWebStorageSupported(e, t) {
        this.iframes[e._key()].send(jd, {
          type: jd
        }, function (n) {
          var r;
          var i = null === (r = null === n || void 0 === n ? void 0 : n[0]) || void 0 === r ? void 0 : r[jd];
          void 0 !== i && t(!!i), Bu(e, "internal-error");
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
      }
    }, {
      key: "_originValidation",
      value: function _originValidation(e) {
        var t = e._key();

        return this.originValidationPromises[t] || (this.originValidationPromises[t] = _d(e)), this.originValidationPromises[t];
      }
    }, {
      key: "_shouldInitProactively",
      get: function get() {
        return Kc() || Uc() || qc();
      }
    }]);

    return Bd;
  }();

  var $d = "@firebase/auth",
      qd = "1.7.7";

  var Hd =
  /*#__PURE__*/
  function () {
    function Hd(e) {
      _classCallCheck(this, Hd);

      this.auth = e, this.internalListeners = new Map();
    }

    _createClass(Hd, [{
      key: "getUid",
      value: function getUid() {
        var e;
        return this.assertAuthConfigured(), (null === (e = this.auth.currentUser) || void 0 === e ? void 0 : e.uid) || null;
      }
    }, {
      key: "getToken",
      value: function getToken(e) {
        return regeneratorRuntime.async(function getToken$(_context203) {
          while (1) {
            switch (_context203.prev = _context203.next) {
              case 0:
                this.assertAuthConfigured();
                _context203.next = 3;
                return regeneratorRuntime.awrap(this.auth._initializationPromise);

              case 3:
                if (this.auth.currentUser) {
                  _context203.next = 5;
                  break;
                }

                return _context203.abrupt("return", null);

              case 5:
                _context203.next = 7;
                return regeneratorRuntime.awrap(this.auth.currentUser.getIdToken(e));

              case 7:
                _context203.t0 = _context203.sent;
                return _context203.abrupt("return", {
                  accessToken: _context203.t0
                });

              case 9:
              case "end":
                return _context203.stop();
            }
          }
        }, null, this);
      }
    }, {
      key: "addAuthTokenListener",
      value: function addAuthTokenListener(e) {
        if (this.assertAuthConfigured(), this.internalListeners.has(e)) return;
        var t = this.auth.onIdTokenChanged(function (t) {
          e((null === t || void 0 === t ? void 0 : t.stsTokenManager.accessToken) || null);
        });
        this.internalListeners.set(e, t), this.updateProactiveRefresh();
      }
    }, {
      key: "removeAuthTokenListener",
      value: function removeAuthTokenListener(e) {
        this.assertAuthConfigured();
        var t = this.internalListeners.get(e);
        t && (this.internalListeners["delete"](e), t(), this.updateProactiveRefresh());
      }
    }, {
      key: "assertAuthConfigured",
      value: function assertAuthConfigured() {
        Gu(this.auth._initializationPromise, "dependent-sdk-initialized-before-auth");
      }
    }, {
      key: "updateProactiveRefresh",
      value: function updateProactiveRefresh() {
        this.internalListeners.size > 0 ? this.auth._startProactiveRefresh() : this.auth._stopProactiveRefresh();
      }
    }]);

    return Hd;
  }();

  var Kd = g("authIdTokenMaxAge") || 300;
  var Wd = null;

  var Gd = function Gd(e) {
    return function _callee61(t) {
      var n, r, i;
      return regeneratorRuntime.async(function _callee61$(_context204) {
        while (1) {
          switch (_context204.prev = _context204.next) {
            case 0:
              _context204.t0 = t;

              if (!_context204.t0) {
                _context204.next = 5;
                break;
              }

              _context204.next = 4;
              return regeneratorRuntime.awrap(t.getIdTokenResult());

            case 4:
              _context204.t0 = _context204.sent;

            case 5:
              n = _context204.t0;
              r = n && (new Date().getTime() - Date.parse(n.issuedAtTime)) / 1e3;

              if (!(r && r > Kd)) {
                _context204.next = 9;
                break;
              }

              return _context204.abrupt("return");

            case 9:
              i = null === n || void 0 === n ? void 0 : n.token;
              _context204.t1 = Wd !== i;

              if (!_context204.t1) {
                _context204.next = 15;
                break;
              }

              Wd = i;
              _context204.next = 15;
              return regeneratorRuntime.awrap(fetch(e, {
                method: i ? "POST" : "DELETE",
                headers: i ? {
                  Authorization: "Bearer ".concat(i)
                } : {}
              }));

            case 15:
            case "end":
              return _context204.stop();
          }
        }
      });
    };
  };

  function Qd() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : We();
    var t = je(e, "auth");
    if (t.isInitialized()) return t.getImmediate();

    var n = function (e, t) {
      var n = je(e, "auth");

      if (n.isInitialized()) {
        var _e83 = n.getImmediate();

        if (S(n.getOptions(), null !== t && void 0 !== t ? t : {})) return _e83;
        Bu(_e83, "already-initialized");
      }

      return n.initialize({
        options: t
      });
    }(e, {
      popupRedirectResolver: Bd,
      persistence: [Yh, Oh, Mh]
    }),
        r = g("authTokenSyncURL");

    if (r && "boolean" === typeof isSecureContext && isSecureContext) {
      var _e84 = new URL(r, location.origin);

      if (location.origin === _e84.origin) {
        var _t55 = Gd(_e84.toString());

        !function (e, t, n) {
          R(e).beforeAuthStateChanged(t, n);
        }(n, _t55, function () {
          return _t55(n.currentUser);
        }), function (e, t, n, r) {
          R(e).onIdTokenChanged(t, n, r);
        }(n, function (e) {
          return _t55(e);
        });
      }
    }

    var i = d("auth");
    return i && sh(n, "http://".concat(i)), n;
  }

  var Xd;
  Zc = {
    loadJS: function loadJS(e) {
      return new Promise(function (t, n) {
        var r = document.createElement("script");
        r.setAttribute("src", e), r.onload = t, r.onerror = function (e) {
          var t = $u("internal-error");
          t.customData = e, n(t);
        }, r.type = "text/javascript", r.charset = "UTF-8", function () {
          var e, t;
          return null !== (t = null === (e = document.getElementsByTagName("head")) || void 0 === e ? void 0 : e[0]) && void 0 !== t ? t : document;
        }().appendChild(r);
      });
    },
    gapiScript: "https://apis.google.com/js/api.js",
    recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
    recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render="
  }, Xd = "Browser", ze(new P("auth", function (e, t) {
    var n = t.options;
    var r = e.getProvider("app").getImmediate(),
        i = e.getProvider("heartbeat"),
        s = e.getProvider("app-check-internal"),
        _r$options = r.options,
        o = _r$options.apiKey,
        a = _r$options.authDomain;
    Gu(o && !o.includes(":"), "invalid-api-key", {
      appName: r.name
    });
    var l = {
      apiKey: o,
      authDomain: a,
      clientPlatform: Xd,
      apiHost: "identitytoolkit.googleapis.com",
      tokenApiHost: "securetoken.googleapis.com",
      apiScheme: "https",
      sdkClientVersion: Wc(Xd)
    },
        u = new Xc(r, i, s, l);
    return function (e, t) {
      var n = (null === t || void 0 === t ? void 0 : t.persistence) || [],
          r = (Array.isArray(n) ? n : [n]).map(Pc);
      (null === t || void 0 === t ? void 0 : t.errorMap) && e._updateErrorMap(t.errorMap), e._initializeWithPersistence(r, null === t || void 0 === t ? void 0 : t.popupRedirectResolver);
    }(u, n), u;
  }, "PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function (e, t, n) {
    e.getProvider("auth-internal").initialize();
  })), ze(new P("auth-internal", function (e) {
    return function (e) {
      return new Hd(e);
    }(Yc(e.getProvider("auth").getImmediate()));
  }, "PRIVATE").setInstantiationMode("EXPLICIT")), Ge($d, qd, function (e) {
    switch (e) {
      case "Node":
        return "node";

      case "ReactNative":
        return "rn";

      case "Worker":
        return "webworker";

      case "Cordova":
        return "cordova";

      case "WebExtension":
        return "web-extension";

      default:
        return;
    }
  }(Xd)), Ge($d, qd, "esm2017");
  var Yd = n(579);
  var Jd = Ke({
    apiKey: "AIzaSyDp55mePZQijTu7Ssa0-RPJOVpBLsh3Jeo",
    authDomain: "test-f33fb.firebaseapp.com",
    projectId: "test-f33fb",
    storageBucket: "test-f33fb.appspot.com",
    messagingSenderId: "12991556913",
    appId: "1:12991556913:web:4ab4687b134e21c21ed410",
    measurementId: "G-H6HLQG3GPD"
  }),
      Zd = $l(Jd);

  function ef(e, t) {
    return regeneratorRuntime.async(function ef$(_context205) {
      while (1) {
        switch (_context205.prev = _context205.next) {
          case 0:
            console.log(e, t);
            _context205.t0 = "string" === typeof e && _typeof(t) === _typeof({});

            if (!_context205.t0) {
              _context205.next = 5;
              break;
            }

            _context205.next = 5;
            return regeneratorRuntime.awrap(function (e, t, n) {
              e = Pl(e, Ml);
              var r = Pl(e.firestore, Bl),
                  i = Iu(e.converter, t, n);
              return Ou(r, [ru(nu(r), "setDoc", e._key, i, null !== e.converter, n).toMutation(e._key, Ai.none())]);
            }(Ul(Zd, e), t).then(function (e) {
              console.log(e, "success");
            }, function (e) {
              throw e;
            }));

          case 5:
          case "end":
            return _context205.stop();
        }
      }
    });
  }

  function tf(e) {
    var t = e.setUid;
    return (0, Yd.jsx)(Yd.Fragment, {
      children: (0, Yd.jsx)("button", {
        onClick: function onClick() {
          var e = Qd(Jd),
              n = new _h();
          (function _callee62(e, t, n) {
            var r, i;
            return regeneratorRuntime.async(function _callee62$(_context206) {
              while (1) {
                switch (_context206.prev = _context206.next) {
                  case 0:
                    if (!Be(e.app)) {
                      _context206.next = 2;
                      break;
                    }

                    return _context206.abrupt("return", Promise.reject($u(e, "operation-not-supported-in-this-environment")));

                  case 2:
                    r = Yc(e);
                    Ku(e, t, yh);
                    i = td(r, n);
                    return _context206.abrupt("return", new ld(r, "signInViaPopup", t, i).executeNotNull());

                  case 6:
                  case "end":
                    return _context206.stop();
                }
              }
            });
          })(e, n).then(function (n) {
            console.log(n), t(e.currentUser.uid);
          })["catch"](function (e) {
            console.log(e);
          });
        },
        children: "Sign in with Google"
      })
    });
  }

  function nf(e) {
    var t = e.setUid;
    return (0, Yd.jsx)(Yd.Fragment, {
      children: (0, Yd.jsx)("button", {
        onClick: function onClick() {
          var e = Qd(Jd);
          t(null), console.log(e, "auth"), e.signOut();
        },
        children: "Sign Out"
      })
    });
  }

  var _rf = function rf() {
    return _rf = Object.assign || function (e) {
      for (var t, n = 1, r = arguments.length; n < r; n++) {
        for (var i in t = arguments[n]) {
          Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
        }
      }

      return e;
    }, _rf.apply(this, arguments);
  },
      sf = function sf(e) {
    return {
      loading: void 0 === e || null === e,
      value: e
    };
  },
      of = function of(e) {
    var t = e ? e() : void 0,
        n = (0, r.useReducer)(function (e, t) {
      switch (t.type) {
        case "error":
          return _rf(_rf({}, e), {
            error: t.error,
            loading: !1,
            value: void 0
          });

        case "reset":
          return sf(t.defaultValue);

        case "value":
          return _rf(_rf({}, e), {
            error: void 0,
            loading: !1,
            value: t.value
          });

        default:
          return e;
      }
    }, sf(t)),
        i = n[0],
        s = n[1],
        o = (0, r.useCallback)(function () {
      var t = e ? e() : void 0;
      s({
        type: "reset",
        defaultValue: t
      });
    }, [e]),
        a = (0, r.useCallback)(function (e) {
      s({
        type: "error",
        error: e
      });
    }, []),
        l = (0, r.useCallback)(function (e) {
      s({
        type: "value",
        value: e
      });
    }, []);
    return (0, r.useMemo)(function () {
      return {
        error: i.error,
        loading: i.loading,
        reset: o,
        setError: a,
        setValue: l,
        value: i.value
      };
    }, [i.error, i.loading, o, a, l, i.value]);
  },
      af = function af(e, t, n) {
    var i = (0, r.useRef)(e);
    return (0, r.useEffect)(function () {
      t(e, i.current) || (i.current = e, n && n());
    }), i;
  },
      lf = function lf(e, t) {
    var n = !e && !t,
        r = !!e && !!t && Vl(e, t);
    return n || r;
  },
      uf = function uf(e, t) {
    return af(e, lf, t);
  },
      cf = function cf(e, t) {
    var n = function (e, t) {
      var n = of(),
          i = n.error,
          s = n.loading,
          o = n.reset,
          a = n.setError,
          l = n.setValue,
          u = n.value,
          c = uf(e, o);
      return (0, r.useEffect)(function () {
        if (c.current) {
          var e = (null === t || void 0 === t ? void 0 : t.snapshotListenOptions) ? Du(c.current, t.snapshotListenOptions, l, a) : Du(c.current, l, a);
          return function () {
            e();
          };
        }

        l(void 0);
      }, [c.current]), [u, s, i];
    }(e, t),
        i = n[0],
        s = n[1],
        o = n[2];

    return [hf(i, null === t || void 0 === t ? void 0 : t.snapshotOptions, null === t || void 0 === t ? void 0 : t.initialValue), s, o, i];
  },
      hf = function hf(e, t, n) {
    return (0, r.useMemo)(function () {
      var r;
      return null !== (r = null === e || void 0 === e ? void 0 : e.docs.map(function (e) {
        return e.data(t);
      })) && void 0 !== r ? r : n;
    }, [e, t]);
  };

  function df(e) {
    var t = e.task_name,
        n = e.timeCreated,
        i = e.past_description,
        s = e.past_finished,
        o = e.path,
        a = e.can_edit_name;

    var _ref12 = (0, r.useState)(i),
        _ref13 = _slicedToArray(_ref12, 2),
        l = _ref13[0],
        u = _ref13[1],
        _ref14 = (0, r.useState)(s),
        _ref15 = _slicedToArray(_ref14, 2),
        c = _ref15[0],
        h = _ref15[1],
        _ref16 = (0, r.useState)(!1),
        _ref17 = _slicedToArray(_ref16, 2),
        d = _ref17[0],
        f = _ref17[1],
        _ref18 = (0, r.useState)(!1),
        _ref19 = _slicedToArray(_ref18, 2),
        p = _ref19[0],
        g = _ref19[1],
        _ref20 = (0, r.useState)(!1),
        _ref21 = _slicedToArray(_ref20, 2),
        m = _ref21[0],
        v = _ref21[1],
        _ref22 = (0, r.useState)(t),
        _ref23 = _slicedToArray(_ref22, 2),
        y = _ref23[0],
        w = _ref23[1];

    return (0, Yd.jsxs)("div", {
      className: "task",
      children: [(0, Yd.jsxs)("div", {
        className: "header",
        onMouseEnter: function onMouseEnter() {
          a && v(!0);
        },
        onMouseLeave: function onMouseLeave() {
          v(!1);
        },
        children: [(0, Yd.jsx)("h1", {
          hidden: m,
          children: y
        }), (0, Yd.jsx)("input", {
          hidden: !m,
          defaultValue: y,
          onInput: function onInput(e) {
            w(e.currentTarget.value);
          }
        }), (0, Yd.jsx)("br", {
          hidden: !m
        }), (0, Yd.jsx)("br", {
          hidden: !m
        })]
      }), (0, Yd.jsxs)("p", {
        children: [(0, Yd.jsx)("b", {
          children: "Time Created:"
        }), " ", new Date(n).toUTCString()]
      }), (0, Yd.jsxs)("div", {
        className: "description",
        onMouseEnter: function onMouseEnter() {
          f(!0);
        },
        onMouseLeave: function onMouseLeave() {
          f(!1);
        },
        children: [(0, Yd.jsx)("b", {
          children: "Description: "
        }), (0, Yd.jsx)("p", {
          children: !d && l
        }), (0, Yd.jsx)("textarea", {
          name: "description",
          hidden: !d,
          defaultValue: l,
          placeholder: "Description",
          onInput: function onInput(e) {
            return u(e.currentTarget.value);
          }
        }), (0, Yd.jsx)("br", {
          hidden: !d
        }), (0, Yd.jsx)("br", {
          hidden: !d
        })]
      }), (0, Yd.jsxs)("div", {
        className: "finished",
        onMouseEnter: function onMouseEnter() {
          g(!0);
        },
        onMouseLeave: function onMouseLeave() {
          g(!1);
        },
        children: [(0, Yd.jsx)("b", {
          children: "Finished:"
        }), (0, Yd.jsx)("p", {
          children: !p && (c ? "\u2714\uFE0F" : "\u274C")
        }), (0, Yd.jsx)("input", {
          hidden: !p,
          type: "checkbox",
          defaultValue: c,
          placeholder: s,
          onInput: function onInput(e) {
            return h(e.currentTarget.checked);
          }
        }), (0, Yd.jsx)("br", {
          hidden: !p
        }), (0, Yd.jsx)("br", {
          hidden: !p
        })]
      }), (0, Yd.jsx)("button", {
        onClick: function onClick(e) {
          ef(o + "/" + y, {
            name: y,
            timeCreated: n,
            description: l,
            finished: c
          }), a && (w(t), u(i), u(s));
        },
        children: "Submit"
      })]
    });
  }

  function ff(e) {
    var t = e.path;

    var n = function (e, t) {
      for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++) {
        r[i - 2] = arguments[i];
      }

      if (e = R(e), Cl("collection", "path", t), e instanceof Dl) {
        var _n52 = Jt.fromString.apply(Jt, [t].concat(r));

        return Al(_n52), new Fl(e, null, _n52);
      }

      {
        if (!(e instanceof Ml || e instanceof Fl)) throw new Lt(Ot.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");

        var _n53 = e._path.child(Jt.fromString.apply(Jt, [t].concat(r)));

        return Al(_n53), new Fl(e.firestore, null, _n53);
      }
    }($l(Jd), t),
        r = function (e, t) {
      var n = [];

      for (var r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), s = 2; s < r; s++) {
        i[s - 2] = arguments[s];
      }

      t instanceof yu && n.push(t), n = n.concat(i), function (e) {
        var t = e.filter(function (e) {
          return e instanceof _u;
        }).length,
            n = e.filter(function (e) {
          return e instanceof bu;
        }).length;
        if (t > 1 || t > 0 && n > 0) throw new Lt(Ot.INVALID_ARGUMENT, "InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.");
      }(n);
      var _iteratorNormalCompletion77 = true;
      var _didIteratorError77 = false;
      var _iteratorError77 = undefined;

      try {
        for (var _iterator77 = n[Symbol.iterator](), _step77; !(_iteratorNormalCompletion77 = (_step77 = _iterator77.next()).done); _iteratorNormalCompletion77 = true) {
          var _o21 = _step77.value;
          e = _o21._apply(e);
        }
      } catch (err) {
        _didIteratorError77 = true;
        _iteratorError77 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion77 && _iterator77["return"] != null) {
            _iterator77["return"]();
          }
        } finally {
          if (_didIteratorError77) {
            throw _iteratorError77;
          }
        }
      }

      return e;
    }(n),
        _cf = cf(r),
        _cf2 = _slicedToArray(_cf, 3),
        i = _cf2[0],
        s = _cf2[1],
        o = _cf2[2];

    return (0, Yd.jsxs)("ul", {
      children: [(0, Yd.jsx)("li", {
        children: (0, Yd.jsx)(df, {
          task_name: "Create New Task!",
          timeCreated: Date.now(),
          past_description: "Description",
          past_finished: !1,
          path: t,
          can_edit_name: !0
        })
      }, "This better not be someones task name bruh"), function () {
        if (null != i) {
          var _e85 = i.slice().sort(function (e, t) {
            return t.timeCreated - e.timeCreated;
          });

          return _e85.map(function (e, n) {
            var r = e.name,
                i = e.timeCreated,
                s = e.description,
                o = e.finished;
            return (0, Yd.jsx)("li", {
              children: (0, Yd.jsx)(df, {
                task_name: r,
                timeCreated: i,
                past_description: s,
                past_finished: o,
                path: t,
                can_edit_name: !1
              })
            }, r);
          });
        }

        return (0, Yd.jsx)("p", {
          children: "No Tasks Created"
        });
      }()]
    });
  }

  var pf = function pf() {
    var _ref24 = (0, r.useState)(),
        _ref25 = _slicedToArray(_ref24, 2),
        e = _ref25[0],
        t = _ref25[1],
        n = "Jhon Doe";

    return (0, Yd.jsxs)(Yd.Fragment, {
      children: [(0, Yd.jsx)(tf, {
        setUid: function setUid(e) {
          return t(e);
        }
      }), (0, Yd.jsx)(nf, {
        setUid: function setUid(e) {
          return t(e);
        }
      }), (0, Yd.jsx)("button", {
        onClick: function onClick() {
          e && ef("/users/" + e.toString() + "/tasks/" + n, {
            name: n,
            timeCreated: Date.now(),
            description: "This is a new task",
            finished: !1
          });
        },
        children: "Click Me"
      }), e && (0, Yd.jsx)(ff, {
        path: "/users/" + e.toString() + "/tasks"
      })]
    });
  },
      gf = function gf(e) {
    e && e instanceof Function && n.e(453).then(n.bind(n, 453)).then(function (t) {
      var n = t.getCLS,
          r = t.getFID,
          i = t.getFCP,
          s = t.getLCP,
          o = t.getTTFB;
      n(e), r(e), i(e), s(e), o(e);
    });
  };

  i.createRoot(document.getElementById("root")).render((0, Yd.jsx)(r.StrictMode, {
    children: (0, Yd.jsx)(pf, {})
  })), gf();
})();